UOLPlayer.prototype.initialize=function(e){UOLPlayer.loaded=!0,UOLPlayer.Pingback();try{if(UOLPlayer.getURL().indexOf("simulateBug=app")>-1){window.console&&window.console.info&&window.console.info("SIMULATE BUG APP");var t;setTimeout(function(){a+b},null!==(t=UOLPlayer.getURL().match(/simulateBugTime=(\d+)/))?parseInt(t.pop()):7e3)}}catch(r){}if(!e)return UOLPlayer.e("Mal uso do player: wrapper inválido: ",e);if(!e.getData("materialized")){if(this.options={viewport:{"in":{play:!!e.getData("autoplayscroll")&&e.getData("autoplayscroll")},out:{pause:!!e.getData("autopausescroll")&&e.getData("autopausescroll")}},playlist:{enabled:e.getData("playlist",UOLPlayer.config.playlist)},subtitle:{disabled:!e.getData("subtitle",UOLPlayer.config.subtitle),enabled:e.getData("subtitle",UOLPlayer.config.subtitle),startWith:e.getData("subtitle",UOLPlayer.config.subtitle)},related:{enabled:e.getData("related",UOLPlayer.config.related)},share:{enabled:e.getData("share",UOLPlayer.config.share)},title:{enabled:e.getData("title",UOLPlayer.config.title)},dfp:{adunit:!!e.getData("adunit")&&e.getData("adunit")}},this.options.related.enabled=!this.options.playlist.enabled&&this.options.related.enabled,this.key=UOLPlayer.urlParameter.key?"&key="+UOLPlayer.urlParameter.key:"",this.wrapper=e,this.parentNode=this.wrapper.parentNode||this.wrapper,this.originalWrapper=this.wrapper.cloneNode(!1),this.iuDFP="",this.replay=!1,this.hlsFallback=this.wrapper.getData("hlsFallback"),this.hashId=UOLPlayer.createHashId(),this.mediaId=UOLPlayer.parseInt(this.wrapper.getData("mediaid",UOLPlayer.config.mediaId)),this.startTime=UOLPlayer.parseInt(this.wrapper.getData("start",UOLPlayer.config.startTime)),this.startHd=this.wrapper.getData("starthd",UOLPlayer.config.startHd),this.preload=this.wrapper.getData("preload",UOLPlayer.config.preload),this.skin=this.wrapper.getData("skin",UOLPlayer.config.skin)||UOLPlayer.skin,this.poster=this.wrapper.getData("poster",UOLPlayer.config.poster),this.mediaType=this.wrapper.getData("type",UOLPlayer.urlParameter.type)||"video",this.totaltime=this.wrapper.getData("totaltime",UOLPlayer.urlParameter.totaltime)||this.wrapper.getData("duration",UOLPlayer.urlParameter.duration)||!1,this.flashFallback=this.wrapper.getData("flashFallback",UOLPlayer.toBoolean(UOLPlayer.urlParameter.flashFallback)),this.forcedfp=this.wrapper.getData("forcedfp",UOLPlayer.urlParameter.forcedfp),this.detachable=this.wrapper.getData("detach",!UOLPlayer.isIframe&&UOLPlayer.urlParameter.detach),this.download=UOLPlayer.toBoolean(this.wrapper.getData("download",UOLPlayer.urlParameter.download)),this.coverMessage=this.isMobile&&this.wrapper.getData("covermessage",UOLPlayer.urlParameter.coverMessage)||!1,this.serverTime={},this.clientTime={},this.canTestsplit=!UOLPlayer.isIOS,this.syntheticABRLib=!1,this.autoplayScroll=this.wrapper.getData("autoplayscroll"),this.autoplay=this._autoplay=this.wrapper.getData("autoplay",UOLPlayer.config.autoplay),this.autoplayMobile=!1,this.controls=this.wrapper.getData("controls",UOLPlayer.config.controls),this.autorep=this.wrapper.getData("autorep",UOLPlayer.config.autorep),this.playlist=this.wrapper.getData("playlist",UOLPlayer.config.playlist),this.cover=this.wrapper.getData("cover",UOLPlayer.config.cover),this.thumbTooltip=this.wrapper.getData("thumbtooltip",UOLPlayer.config.thumbTooltip),this._dfp=this.wrapper.getData("dfp",UOLPlayer.config.dfp),this.webmEnabled=!1,this.isFlash=!1,this.externalCDN=!1,this.isAutoplayOk=!1,this.isAutoplayMuted=!1,this.rebufferingCount=0,this.rebufferingArray=[],this.forceCDN=UOLPlayer.urlParameter.cdn,this.revision=0,this.autoplayRejects=0,this.pauseCounts=0,this.retryCounts=0,this.recommended=UOLPlayer.urlParameter.recommended!==!1,this.forwardRewindBase=15,this.levelList=[],this.useResume=UOLPlayer.toBoolean(this.wrapper.getData("resume",UOLPlayer.urlParameter.resume)),this.headers={},this.logHeaders=["cache-hit","x-cache-error","x-error-reason","server","content-length"],this.playerStarted=!1,this.videoBegin={},this.currentLevel={format:"",auto:!1},this.options.viewport["in"].play&&(this.autoplay=!1,UOLPlayer.inView(this.wrapper,!0)&&(this.autoplay=!0,this.options.viewport["in"].play=!1)),UOLPlayer.isMobile&&this.autoplay?(this.autoplay=!("iOS"===UOLPlayer.info.os&&UOLPlayer.info.osMajorVersion<=9),this.autoplay=!!this.wrapper.getData("changeVideo")||this.autoplay,this.autoplayMobile=this.autoplay):UOLPlayer.isMobile&&(this.autoplay=!1),UOLPlayer.urlParameter.startMute===!1?this.startMute=!1:(this.startMute=!UOLPlayer.isMobile&&this.wrapper.getData("startmute",UOLPlayer.config.startMute),this.startMute=this.wrapper.getData("changevideo")?this.wrapper.getData("startmute"):this.startMute),1==UOLPlayer.toBoolean(this.wrapper.getData("minimal"))&&(this.options.related.enabled=!1,this.options.share.enabled=!1,this.cover=!1,this.controls=!1,this.preload="metadata",this.dfp=!1,this.wrapper.addClass("_minimal")),this.statistic={time:0,size:0,amountTime:0,amountSize:0},this.useResume&&(this.startTime=UOLPlayer.Resume.get(this.mediaId).time),this.playing=!1,this.seeking=!1,this.fullscreen=!1,this.adsActive=!1,this.adsDone=!1,this.retryTimeout=3e3,this.lastPauseTime=null,this.adTagUrl=null,this.qualityChanged=!1,this.logSendedAfterTimeout=!1,this.backbone=new UOLPlayer.Backbone(this),this.Markup.mount.call(this),UOLPlayer.isIframe&&(UOLPlayer.mediaId=this.mediaId),null===this.mediaId||void 0===this.mediaId||isNaN(this.mediaId)||!UOLPlayer.isNumeric(this.mediaId))return this.setError(UOLPlayer.ElementErrorHandler.errorCodes.INVALID_MEDIA_ID),void UOLPlayer.e("[ UOLPlayer ] mediaId não atribuído");if(!window.UOLPlayer[this.mediaId]||window.UOLPlayer[this.mediaId].wrapper!==this.wrapper){if(null===this.wrapper||void 0===this.wrapper)return void UOLPlayer.e("[ UOLPlayer ] container inexistente ou não atribuído");if(UOLPlayer.isIE&&UOLPlayer.info.browserMajorVersion<11&&!UOLPlayer.isEdge&&!UOLPlayer.isMobile)return void this.setError(UOLPlayer.ElementErrorHandler.errorCodes.BROWSER_DEPRECATED);if(this.flashFallback)return void this.embedFlash("Media MP4 encoded with FLV");this.chronoLoadApi=new UOLPlayer.Chronometer("loadApi"),this.chronoFirstMilestone=new UOLPlayer.Chronometer("firstMilestone"),this.chronoAdDuration=new UOLPlayer.Chronometer("adDuration"),this.observeDOM.call(this),this.Instance.store.call(this),this.tracker=new UOLPlayer.Tracker(UOLPlayer.toBoolean(UOLPlayer.urlParameter.trackerDebug),{}),this.logger=new UOLPlayerLog(this),this.detach=new UOLPlayer.Detach(this,this.wrapper),this.setEndScreen=function(){UOLPlayer.EndScreen(this)}.bind(this),this.detachable&&this.detach.init(),this.dataParser=this.DataParser(),"audio"===this.mediaType?this.wrapper.addClass("_audio"):this.wrapper.addClass("_video"),UOLPlayer.isMobile?this.wrapper.addClass("is-mobile"):this.wrapper.addClass("is-desktop"),this.wrapper.addClass("first-click").removeClass("up-loading"),this.setClick=function(){this.wrapper.getElementsByClassName("up-bt-play-big")[0].addEventListener("click",this.onClick.bind(this)),this.wrapper.getElementsByClassName("up-bt-play")[0].addEventListener("click",this.onClick.bind(this))}.bind(this),this.dataParser.loadApi().then(function(){this.dataParser.dataParsedPromise().then(function(){"V"===this.data.item.type?this.mediaType="video":this.mediaType="audio",this.checkSize(),this.setClick(),this.mediaPlayer=new UOLPlayer.MediaPlayer(this),this.metrics=new UOLPlayer.Metrics(this),this.timeouts=new UOLPlayer.Timeout(this),this.clickBait=function(e){if(this.syntheticPlay=void 0!==this.syntheticPlay?this.syntheticPlay:e.isTrusted,this.fingers=this.fingers||0,this.fingers+=1,this.fingers>1)return void UOLPlayer.i("disable multitouch");e&&e.stopPropagation&&e.stopPropagation();var t=function(){this.clickBait=void 0,"function"==typeof e?e.call(this):this.onClick()}.bind(this),a=function(){this.wrapper.removeClass("first-click"),UOLPlayer.isInstantArticle&&UOLPlayer.isIOS?this.mediaPlayer.mediaElement.removeEventListener("touchend",this.clickBait):this.mediaPlayer.mediaElement.removeEventListener("click",this.clickBait)}.bind(this);"video"===this.mediaType?this.abrLib&&this.abrLib.then(function(e){a(),t()}.bind(this)):(this.options.related.enabled=!1,this.options.share.enabled=!1,a(),t())}.bind(this),UOLPlayer.isInstantArticle&&UOLPlayer.isIOS?this.mediaPlayer.mediaElement.addEventListener("touchend",this.clickBait):this.mediaPlayer.mediaElement.addEventListener("click",this.clickBait),this.backbone.data.parsed()}.bind(this))}.bind(this)),this.autoplay===!0&&this.run(),this.backbone.core.init(),window&&(window.addEventListener("focus",this.backbone.window.focus),window.addEventListener("blur",this.backbone.window.blur))}}},UOLPlayer.prototype.run=function(){this.chronoVideoBegin=new UOLPlayer.Chronometer("videoBegin"),this.chronoVideoBegin.start(),this.dataParser.loadApi().then(function(){this.dataParser.dataParsedPromise().then(function(){this.mount()}.bind(this))}.bind(this))},UOLPlayer.prototype.mount=function(){function e(){UOLPlayer.isHidden()||UOLPlayer.isMobile||!this.autoplay||(this.onClick(),document.removeEventListener(UOLPlayer.visibilityChange,t))}if(this.criticalFailure&&this.wrapper.addClass("_critical-failure"),this.balaioTimeout=this.timeouts[this.timeouts.type.RETRY_BALAIO],this.mediaPlayer.attachMedia(),"V"==this.data.item.type){if(!UOLPlayer.supportedMediaTypesList.mp4&&!UOLPlayer.supportedMediaTypesList.webm)return void this.setError(UOLPlayer.ElementErrorHandler.errorCodes.CODEC_UNAVAILABLE);if(this.forwardRewind=new UOLPlayer.ForwardRewind(this),this.ui=new UOLPlayerUI(this),this.mediaPlayer.registerEventListener(UOLPlayer.isPhone?"webkitendfullscreen":"fullscreenchange",this.onFullscreenChange.bind(this)),this.mediaPlayer.registerEventListener("reload",function(){this.balaioTimeout.abort()}.bind(this)),this.errorCallback=this.onVideoError.bind(this),UOLPlayer.isHidden()){var t=e.bind(this);document.addEventListener(UOLPlayer.visibilityChange,t,!1)}var a;window.addEventListener("resize",function(){clearTimeout(a),a=setTimeout(function(){if(clearTimeout(a),this.ads){var e=this.getSize();this.ads.resize(e.width,e.height,"NORMAL")}}.bind(this),250)}.bind(this)),this.mountAd(),this.wrapper.getData("detachstate")===UOLPlayer.Detach.states.DETACHED&&this.detach.detachPlayer(!0)}else"P"==this.data.item.type&&(this.errorCallback=this.onAudioError.bind(this));this.mediaPlayer.setPreload(this.preload),this.onWaiting=function(){UOLPlayer.isIOS||(this.backbone.core.waiting(),this.chronoReBuffering=this.chronoReBuffering||new UOLPlayer.Chronometer("chronoReBuffering"),this.chronoReBuffering.start())}.bind(this),this.onPause=function(){this.wrapper.hasClass("up-loading-ad")||this.backbone.video.pause()}.bind(this),this.onPlaying=function(){var e;clearInterval(e),e=setInterval(function(){if(this.mediaPlayer.mediaElement.playing){if(clearInterval(e),this._videoBeginSended!==!0){this._videoBeginSended=!0;var t=this.chronoVideoBegin.stop().elapsedTime,a=this.chronoVideoBegin.log(),r=this.serverTime.start?this.serverTime.start:"Erro ao obter serverTimeStart",i=this.serverTime.end?this.serverTime.end:"Erro ao obter serverTimeEnd",s=this.clientTime.start?this.clientTime.start:"Erro ao obter clientTimeStart",o=this.clientTime.end?this.clientTime.end:"Erro ao obter clientTimeEnd",n={debugDatesToTime:a.join(),debugTime:t.time,debugServerTimeStart:new Date(r).toString(),debugServerTimeEnd:new Date(i).toString(),debugClientTimeStart:new Date(s).toString(),debugClientTimeEnd:new Date(o).toString(),debugDiffTimeStart:this.serverTime.start-this.clientTime.start,debugDiffTimeEnd:this.serverTime.end-this.clientTime.end,debugTimeString:"server: "+r+","+i+" - client: "+s+","+o};this.logger.send("videoBegin",{time:t,payload:n}),UOLPlayer.Promise.get(UOLPlayer["const"].urls.BALANCE.replace("{mediaId}",this.mediaId)),this.logFirstMilestone("videoBegin")}this.backbone.video.start(),this.detach.checkPosition(),this.notifyMediaView()}}.bind(this),100),this.mediaPlayer.mediaElement.playing&&this.mediaPlayer.mediaElement.currentTime>0&&this.backbone.video.resume(),this.balaioTimeout.abort(),this.checkReBuffering()}.bind(this),this.onReject=function(){this.balaioTimeout.abort(),this.backbone.video.rejected(),this.autoplayRejects+=1,this.logger.send("autoplayRejected")}.bind(this),this.onEnd=function(){this.backbone.video.end(),this.ads&&!this.ads.adError?this.ads.contentEnded():this.backbone.core.ended()}.bind(this),this.mediaPlayer.registerEventListener("onPause",this.onPause),this.mediaPlayer.registerEventListener("onReject",this.onReject),this.mediaPlayer.registerEventListener("error",this.errorCallback),this.chronoVideoBegin.pause(),!UOLPlayer.isHidden()&&this.autoplay&&this.onClick();var r=this.controlBar=new UOLPlayer.ControlBar(this,this.mediaPlayer);r.registerEventListener("volumeChange",function(e){this.ads&&this.ads.setVolume(e)}.bind(this)),r.registerEventListener("toggleMute",function(){this.toggleMute()}.bind(this)),this.startMute&&this.mute()},UOLPlayer.prototype.logCreated=function(){UOLPlayer.instancesMaterialized+=1,setTimeout(function(){UOLPlayerLog.send(this,"create")}.bind(this),100)},UOLPlayer.prototype.logFirstMilestone=function(e,t){if(this.playerStarted&&!this.firstMilestoneSended){this.firstMilestoneSended=!0;var a=e;["videoBegin","error"].indexOf(e)===-1&&(a=this.getFullState());var r={};t=t||{},t.endSource=e,t.endPoint=a,t.mediaStaterd=!!this._videoBeginSended,t.timeAd=this.chronoAdDuration.getCurrentTime().elapsedTime.time,t.adsActive=this.adsActive,t.adsDone=this.adsDone,this.ads&&(r.ad=this.ads.adPos,r.adObj=this.ads.ad),r.time=this.chronoFirstMilestone.getCurrentTime().elapsedTime,r.payload=t,this.logger.send("firstMilestone",r)}},UOLPlayer.prototype.addLevelList=function(e){this.levelList.push(this.mediaPlayer.getCurrentPerc()+"|"+e+"|0")},UOLPlayer.prototype.updateLevelList=function(){this.levelList.length>0&&(this.levelList[this.levelList.length-1]=this.levelList[this.levelList.length-1].replace(/(\d+)$/,parseInt(this.levelList[this.levelList.length-1].match(/\|(\d+)$/)[1])+1))},UOLPlayer.prototype.renderFormats=function(e){if(this.tracker.pushState("formats",Object.keys(e)),e&&e.hasOwnProperty("MP3")){if(e.MP3.token&&e.MP3.sign){for(var t in e.MP3.alternatives)e.MP3.alternatives[t]=e.MP3.alternatives[t]+"?token="+encodeURI(e.MP3.token)+"&sign="+encodeURI(e.MP3.sign)+this.key;e.MP3.url=e.MP3.url+"?token="+encodeURI(e.MP3.token)+"&sign="+encodeURI(e.MP3.sign)+this.key}return e.MP3}if(!e||void 0===e.audioUrl){var a,r,i={},s="8096p",o="0p";i.available={},i.list=[];for(r in e)if(a=e[r],a.type=r,r.indexOf("3gp")==-1){if(r.indexOf("DASH")!=-1&&UOLPlayer.Fingerprint.mediaTypeSupported.dash&&this.dashEnabled){if(a.mediaType="dash",!UOLPlayer.isMobile){a.url=a.url.replace(".mpd",".desk.mpd");for(var t=0;t<a.alternatives.length;t++)a.alternatives[t]=a.alternatives[t].replace(".mpd",".desk.mpd")}i.available[r]=a}if(this.hlsFallback||r.indexOf("HLS")==-1||!this.hlsEnabled&&!this.hlsNative||(a.mediaType=this.hlsNative?"hlsNative":"hls",i.available[r]=a),r.indexOf("WEBM")!=-1&&UOLPlayer.Fingerprint.mediaTypeSupported.webm&&(a.mediaType="webm",i.available[r]=a),r.indexOf("0p")!=-1&&UOLPlayer.Fingerprint.mediaTypeSupported.mp4&&(a.mediaType="mp4",r.indexOf("360p")!=-1&&(i.available[r]=a),UOLPlayer.isMobile||(r.indexOf("720p")!=-1&&(i.available[r]=a),r.indexOf("1080p")!=-1&&(i.available[r]=a))),r.indexOf("mobile")!=-1&&UOLPlayer.isMobile&&(a.mediaType="mp4Mobile",i.available[r]=a),r.indexOf("mobile")==-1&&"flv"!=r&&(parseInt(r)>0&&parseInt(r)<parseInt(s)&&(s=r),parseInt(r)>0&&parseInt(r)>parseInt(o)&&(o=r),i.list.push(a)),a.token&&a.sign){a.url+="?token="+encodeURI(a.token)+"&sign="+encodeURI(a.sign)+this.key;var n;for(n in a.alternatives)a.alternatives[n]+="?token="+encodeURI(a.token)+"&sign="+encodeURI(a.sign)+this.key}}return i.minimalQualityMP4=s,UOLPlayer.Fingerprint.mediaTypeSupported.dash&&this.dashEnabled&&i.available.DASH?i["default"]=i.available.DASH:(UOLPlayer.Fingerprint.mediaTypeSupported.hls&&this.hlsEnabled||this.hlsNative)&&i.available.HLS&&(i["default"]=i.available.HLS),i["default"]||(UOLPlayer.Fingerprint.mediaTypeSupported.mp4&&(i.available.mobile||i.available[s])?UOLPlayer.isMobile&&i.available.mobile?i["default"]=i.available.mobile:i.available[s]?i["default"]=i.available[s]:i.available.mobile&&(i["default"]=i.available.mobile):UOLPlayer.Fingerprint.mediaTypeSupported.webm&&i.available.WEBM&&(i["default"]=i.available.WEBM)),UOLPlayer.urlParameter.mp4===!0?i["default"]=i.available[s]:UOLPlayer.urlParameter.webm===!0&&(i["default"]=i.available.WEBM),i["default"]&&i["default"].sign&&i["default"].token&&(i.sign=i["default"].sign,i.token=i["default"].token),this.renderRetry(i),i}},UOLPlayer.prototype.renderRetry=function(e){e.retry=[];var t="";if(UOLPlayer.Fingerprint.mediaTypeSupported.mp4){var a={};UOLPlayer.isMobile&&e.available.mobile?a=UOLPlayer.cloneJSON(e.available.mobile):e.available[e.minimalQualityMP4]?a=UOLPlayer.cloneJSON(e.available[e.minimalQualityMP4]):e.available.mobile&&(a=UOLPlayer.cloneJSON(e.available.mobile)),a.token&&a.sign&&(t="?token="+encodeURI(a.token)+"&sign="+encodeURI(a.sign)+this.key),a.alternatives&&(a.externalCDN||a.alternatives.push("video.m.mais.uol.com.br/"+a.filename+".mp4"+t),e.retry.push(a))}if(UOLPlayer.Fingerprint.mediaTypeSupported.webm&&e.available.WEBM){var a={};a=UOLPlayer.cloneJSON(e.available.WEBM),a.token&&a.sign&&(t="?token="+encodeURI(a.token)+"&sign="+encodeURI(a.sign)+this.key),a.alternatives&&!a.externalCDN&&a.alternatives.push("video.m.mais.uol.com.br/"+a.filename+".webm"+t),e.retry.push(a)}},UOLPlayer.prototype.parseFormats=function(e){this.data.formats=this.data.formats||this.renderFormats(e)},UOLPlayer.prototype.notifyMediaView=function(){var e=this;UOLPlayer.jsonp({url:UOLPlayer["const"].urls.NOTIFY+this.mediaId,success:function(t){!e.serverTime.end&&t.item&&t.item.current_time&&(e.serverTime.end=t.item.current_time),e.clientTime.end||(e.clientTime.end=Date.now()),e.logger.log("notifyMediaView: OK!")}})},UOLPlayer.prototype.mountAd=function(){this.dfp&&window.google&&window.google.ima?(this.ads=new UOLPlayerAds(this),this.ads.registerEventListener("contentResumeRequested",function(){this.chronoVideoBegin.resume()}.bind(this)),this.ads.registerEventListener("allAdsCompleted",function(){this.backbone.core.ended()}.bind(this))):this.logger.logDFP("DFP DESLIGADO")},UOLPlayer.prototype.isPlayingAd=function(){return this.wrapper.hasClass("up-playing-ad")},UOLPlayer.prototype.setVideoEndedCallbackEnabled=function(e){this.logger.log("setVideoEndedCallbackEnabled: "+e),e?(this.mediaPlayer.registerEventListener("ended",this.onEnd),this.mediaPlayer.registerEventListener("playing",this.onPlaying),this.mediaPlayer.registerEventListener("waiting",this.onWaiting)):(this.mediaPlayer.removeEventListener("ended",this.onEnd),this.mediaPlayer.removeEventListener("playing",this.onPlaying),this.mediaPlayer.removeEventListener("waiting",this.onWaiting))},UOLPlayer.prototype.checkSize=function(){var e=this.getSize();this.isDetached()||this.isFullscreen()?this.isDetached()&&!this.isFullscreen()?this.wrapper.addClass("_small"):this.isFullscreen()&&this.wrapper.removeClass("_small").removeClass("_medium"):e.width<=350?(this.wrapper.removeClass("_medium").addClass("_small"),this.options.related.enabled=!1):e.width>350&&e.width<=600?this.wrapper.removeClass("_small").addClass("_medium"):this.wrapper.removeClass("_small").removeClass("_medium");var t=this.wrapper.getElementsByClassName("uolplayer-container")[0],a=function(){if(t&&"video"===this.mediaType){var e=this.getSize(),a=e.windowWidth,r=e.windowWidth/(16/9),i=Math.round(a/r*e.windowHeight);r>e.windowHeight?(t.style.width=i+"px",t.style.margin="auto"):t.style.width="auto"}}.bind(this);UOLPlayer.isIframe&&a()},UOLPlayer.prototype.setFullscreen=function(){if(this.isIpad)return void(this.wrapper.hasClass("_fullscreen_ipad")?(this.wrapper.removeClass("_fullscreen_ipad"),this.ui.setFullscreen(!1)):(this.wrapper.addClass("_fullscreen_ipad"),this.ui.setFullscreen(!0)));var e,t;this.isFullscreen()?(UOLPlayer.isIphone?this.mediaPlayer.mediaElement.webkitExitFullscreen():(t=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen,t.call(document)),this.ui.setFullscreen(!1),this.tracker.pushState("fullscreen",!1)):(UOLPlayer.isIphone?this.mediaPlayer.mediaElement.webkitEnterFullscreen():(e=this.wrapper.requestFullscreen||this.wrapper.mozRequestFullScreen||this.wrapper.webkitRequestFullscreen||this.wrapper.msRequestFullscreen,e.call(this.fullscreenContainer||this.wrapper),this.ui.setFullscreen(!0)),this.tracker.pushState("fullscreen",!0))},UOLPlayer.prototype.onFullscreenChange=function(){var e=this.getSize();this.isFullscreen()?(UOLPlayer.onFullscreen(this),this.ads&&this.ads.resize(e.fullscreenWidth,e.fullscreenHeight,"FULLSCREEN"),"orientation"in screen&&UOLPlayer.isMobile&&screen.orientation.lock("landscape-primary")):(this.ui.setFullscreen(!1),this.ads&&this.ads.resize(e.width,e.height,"NORMAL"),"orientation"in screen&&UOLPlayer.isMobile&&screen.orientation.lock("natural")),UOLPlayer.isIphone||this.checkSize()},UOLPlayer.prototype.setRepro=function(){this.repro&&this.repro.countdown()},UOLPlayer.prototype.getSize=function(){var e=this.wrapper.getElementsByClassName("uolplayer-elements")[0]||this.wrapper,t=Math.round(e.offsetWidth),a=Math.round(e.offsetHeight),r=Math.round(window.innerWidth),i=Math.round(window.innerHeight);return{width:t,height:a,fullscreenWidth:window.outerWidth,fullscreenHeight:window.outerHeight,windowWidth:r,windowHeight:i,formatted:t+"x"+a}},UOLPlayer.prototype.isDetached=function(){return this.wrapper.hasClass("up-detach")},UOLPlayer.prototype.isFullscreen=function(){var e=(document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement)&&(this.wrapper.hasClass("_fullscreen")||this.wrapper.hasClass("_fullscreen_ipad"));return UOLPlayer.isFullscreen=e,e},UOLPlayer.prototype.setControlHeight=function(e){e=parseInt(e)?parseInt(e):0,this.wrapper.querySelector(".up-ctrlbar").style.bottom=e+"px",this.wrapper.querySelector(".up-ctrlbar").style.background="none",this.wrapper.querySelector(".up-ctrlbar-tools").style.bottom=parseInt(e)+45+"px",this.wrapper.querySelector(".up-ctrlbar-tools").style.position="absolute"},UOLPlayer.prototype.setError=function(e){var t=null,a=this.wrapper.getElementsByClassName("up-error")[0],r=UOLPlayer.ElementErrorHandler.logMessage(e);if(UOLPlayer.e("ERROR REPORT"),this.wrapper.addClass("_video"),this.logFirstMilestone("error",{error:UOLPlayer.ElementErrorHandler.codeErros[e]}),a)t=a.getElementsByTagName("p")[0];else{var i;i=UOLPlayer.domNode("div"),i.className="ui",a=UOLPlayer.domNode("div"),a.addClass("up-error display-none"),t=UOLPlayer.domNode("p"),a.appendChild(t),i.appendChild(a),this.wrapper.appendChild(i)}if(e===UOLPlayer.ElementErrorHandler.errorCodes.VIDEO_FLASH_DEPRECATED||e===UOLPlayer.ElementErrorHandler.errorCodes.AUDIO_FLASH_DEPRECATED){var s=this.data.item.shareUrl||"https://mais.uol.com.br/view/"+this.mediaId;r.mensagem=r.mensagem.replace(/{mediaUrl}/g,s)}else if(e===UOLPlayer.ElementErrorHandler.errorCodes.PAYLOAD_TOO_LARGE){var o,n="",l="";try{o=UOLPlayer.isMobile?UOLPlayer.info.os:"desktop",n=UOLPlayer.ElementErrorHandler.supportUrls.cookies[UOLPlayer.info.browser.toLowerCase()][o.toLowerCase()],l='<a href="'+n+'" target="_blank">Clique aqui para iniciar.</a>'}catch(d){}r.mensagem=r.mensagem.replace(/{href}/g,l)}this.errorsReporteds=this.errorsReporteds||{},this.errorsReporteds[e]||(this.errorsReporteds[e]=!0,UOLPlayerLog.send(this,"error",r)),this.criticalFailure&&UOLPlayerLog.send(this,"criticalFailure",r),t.innerHTML=r.mensagem,setTimeout(function(){this.wrapper.removeClass("up-loading").removeClass("up-waiting").addClass("_error")}.bind(this),100)},UOLPlayer.prototype.toggleMute=function(){this.wrapper.hasClass("_mute")?this.wrapper.removeClass("_mute"):this.wrapper.addClass("_mute"),this.mediaPlayer.toggleMute(),this.controlBar.toggleMute(),this.ads&&this.ads.toggleMute()},UOLPlayer.prototype.mute=function(){if(this.wrapper.addClass("_mute"),this.mediaPlayer.mute(),this.controlBar.mute(),this.ads&&this.ads.mute(),this.isAutoplayMuted||this.startMute){var e=function(){this.controlBar.isMute()&&this.toggleMute(),this.wrapper.removeEventListener("click",e)}.bind(this);this.wrapper.addEventListener("click",e)}},UOLPlayer.prototype.clearMute=function(){this.wrapper.setData("startmute",!1),this.startMute=!1,this.isMute()&&this.toggleMute()},UOLPlayer.prototype.isMute=function(){return this.wrapper.hasClass("_mute")},UOLPlayer.prototype.checkReBuffering=function(){if(this.chronoReBuffering){this.updateLevelList();var e=this.chronoReBuffering.stop(),t={time:e.elapsedTime,payload:{rebufferingCount:this.rebufferingCount}};this.rebufferingCount+=1,this.rebufferingArray.push(e.elapsedTime.time);var a=10;this.data&&this.data.item&&this.data.item.playerParameters&&this.data.item.playerParameters.rebuffering_max_logs&&(a=this.data.item.playerParameters.rebuffering_max_logs),this.rebufferingCount<=a&&this.mediaPlayer.getCurrentTime()>0&&this.logger.send("rebuffering",t),this.backbone.video.rebuffered()}this.chronoReBuffering=null},UOLPlayer.prototype.forward=function(e){this.mediaPlayer&&this.mediaPlayer.forward(e)},UOLPlayer.prototype.rewind=function(e){this.mediaPlayer&&this.mediaPlayer.rewind(e)},UOLPlayer.prototype.isStarted=function(){return this.wrapper.hasClass("up-started")&&this.getState()!==UOLPlayer.PAUSED&&this.getState()!==UOLPlayer.ENDED},UOLPlayer.prototype.wasPlayed=function(){return this.wrapper.hasClass("up-playing")},UOLPlayer.prototype.isPaused=function(){return this.wrapper.hasClass("up-paused")},UOLPlayer.prototype.onVideoError=function(e){if(!e.srcElement||null!==e.srcElement.error){this.retryAttempts=this.retryAttempts||0;var t,a={};("undefined"==typeof this.errorTime||this.mediaPlayer.getCurrentTime()>0)&&(this.errorTime=this.mediaPlayer.getCurrentTime()),this.data&&this.data.formats&&this.data.formats.retry&&(a=this.data.formats.retry);var r=function(){for(var i=0;a[i]&&a[i].mediaType!==this.mediaPlayer.mediaType;)i++;if((!this.currentRetryObj||this.currentRetryObj.alternatives&&0===this.currentRetryObj.alternatives.length)&&(this.currentRetryObj=a.splice(i,1)[0]),void 0!==this.currentRetryObj&&(t=this.currentRetryObj.alternatives.shift()),void 0===t&&a.length>0){var s=function(){this.mediaPlayer.mediaType=a[0].mediaType,r()}.bind(this);return this.dataParser&&this.dataParser.promises&&!this.dataParser.promises.formatsRetry?this.dataParser.formatsRetryPromise().then(function(t,a,r){this.data.item.formats=t,this.data.formats=this.renderFormats(t),this.hlsEnabled&&this.mediaPlayer.hls&&!UOLPlayer.isSafariMacOS?this.mediaPlayer.formatsReloaded():this.onVideoError(e)}.bind(this),s):s()}if(void 0!==t){if(UOLPlayer.isIOS&&this.hlsNative){this.hlsNative=!1,this.ads&&(this.ads.destroy(),this.ads=null),this.wrapper.addClass("up-started").addClass("up-loading"),this.setVideoEndedCallbackEnabled(!1);var o=setTimeout(function(){clearInterval(o),this.setVideoEndedCallbackEnabled(!0)}.bind(this),200)}this.retryAttempts++;var n=[this.data.formats["default"].mediaType,this.mediaPlayer.lastUrl.split("?")[0]];if(this.data.formats["default"]=this.currentRetryObj,this.hlsEnabled&&this.mediaPlayer.hls){var l=e.error||"";this.mediaPlayer.currentM3u8&&(n[1]=this.mediaPlayer.currentM3u8),this.mediaPlayer.sendError(l),this.mediaPlayer.hls.destroy(),this.mediaPlayer=new UOLPlayer.VideoPlayer(this,this.wrapper),this.controlBar&&this.controlBar.update()}if(this.dashEnabled&&this.mediaPlayer.dash){var l=e.error||"";this.mediaPlayer.mpd&&(n[1]=this.mediaPlayer.mpd),this.mediaPlayer.sendError(l),this.mediaPlayer.dash.reset(),this.mediaPlayer=new UOLPlayer.VideoPlayer(this,this.wrapper),this.controlBar&&this.controlBar.update()}this.mediaPlayer.videoURL=UOLPlayer.mediaSourceURL(t,this.data.item.revision,this.hashId),this.mediaPlayer.reloadContent(this.errorTime),this.retryCounts++;var d={retryPreviousFormat:n[0],retryPreviousServer:n[1],retryCurrentFormat:this.currentRetryObj.mediaType,retryCurrentServer:t,retryAttempt:this.retryAttempts,retryCount:this.retryCounts};this.logger.send("retry",{payload:d}),this.logger.log("retry count: "+this.retryCounts),this.balaioTimeout&&this.balaioTimeout.start(function(){r()}.bind(this))}else this.balaioTimeout&&this.balaioTimeout.abort(),UOLPlayer.ElementErrorHandler.mediaElementErrorHanlder(this,this.mediaPlayer.mediaElement)}.bind(this);r()}},UOLPlayer.prototype.onAudioError=function(e){if(this.errorTime=void 0===this.errorTime?this.mediaPlayer.getCurrentTime():this.errorTime,this.retryAttempts=void 0===this.retryAttempts?this.data.formats.alternatives.length+2:this.retryAttempts,this.retryAttempts>0)this.tracker.pushState("retryError",this.retryAttempts),!this.wrapper.hasClass("up-started")&&this.ui&&this.ui.setState("loading"),this.logger.logError("executando retentativa - "+this.retryAttempts),this.mediaPlayer.reloadContent(),this.retryAttempts--;else{this.tracker.pushState("retryError",0);var t=e.target||e.srcElement;t&&t.error?t.error.code:0;UOLPlayer.ElementErrorHandler.mediaElementErrorHanlder(this,this.mediaPlayer.mediaElement)}},UOLPlayer.prototype.embedFlash=function(e){var t=this,a=UOLPlayer.Promise.get(UOLPlayer["const"].urls.data.METADATA.replace("{mediaId}",t.mediaId));a.then(function(e,a,r){return t.data=e,"P"==e.item.type?t.setError(UOLPlayer.ElementErrorHandler.errorCodes.AUDIO_FLASH_DEPRECATED):t.setError(UOLPlayer.ElementErrorHandler.errorCodes.VIDEO_FLASH_DEPRECATED)},function(e,a,r){return 400===a?t.setError(UOLPlayer.ElementErrorHandler.errorCodes.INVALID_MEDIA_ID):t.setError(UOLPlayer.ElementErrorHandler.errorCodes.MEDIA_NOT_FOUND)})},UOLPlayer.prototype.getState=function(){var e="";return e=this.wrapper.hasClass("up-loading")?UOLPlayer.LOADING:this.wrapper.hasClass("up-waiting")?UOLPlayer.BUFFERING:this.wrapper.hasClass("up-paused")?UOLPlayer.PAUSED:this.wrapper.hasClass("up-ended")?UOLPlayer.ENDED:this.wrapper.hasClass("up-playing-ad")?UOLPlayer.PLAYINGAD:this.wrapper.hasClass("up-playing-video")?"video"===this.mediaType?UOLPlayer.PLAYINGVIDEO:UOLPlayer.PLAYINGAUDIO:UOLPlayer.READY},UOLPlayer.prototype.getFullState=function(){var e="";return e=this.wrapper.hasClass("_error")?UOLPlayer.ERROR:this.wrapper.hasClass("up-loading")&&!this.wrapper.hasClass("_clicked")?UOLPlayer.PRELOADING:this.wrapper.hasClass("up-loading")&&!this.wrapper.hasClass("up-loading-ad")?UOLPlayer.LOADING:this.wrapper.hasClass("up-waiting")?UOLPlayer.BUFFERING:this.wrapper.hasClass("up-paused")&&this.wrapper.hasClass("up-playing-ad")?UOLPlayer.ADPAUSED+(this.wrapper.getData("adPos")?"_"+this.wrapper.getData("adPos"):""):this.wrapper.hasClass("up-paused")&&this.wrapper.hasClass("up-playing")?UOLPlayer.VIDEOPAUSED:this.wrapper.hasClass("up-ended")?UOLPlayer.ENDED:this.wrapper.hasClass("up-loading-ad")?UOLPlayer.LOADINGAD+(this.wrapper.getData("adPos")?"_"+this.wrapper.getData("adPos"):""):this.wrapper.hasClass("up-playing-ad")?UOLPlayer.PLAYINGAD+(this.wrapper.getData("adPos")?"_"+this.wrapper.getData("adPos"):""):this.wrapper.hasClass("up-playing-video")?"video"===this.mediaType?UOLPlayer.PLAYINGVIDEO:UOLPlayer.PLAYINGAUDIO:UOLPlayer.READY},UOLPlayer.prototype.destroy=function(){function e(){}var t=this.mediaId,a=this.hashId;this.logger.log("[DESTROYING PLAYER]"),this.wrapper.getElementsByClassName("up-pause-overlay")[0].empty(),this.wrapper.getElementsByClassName("up-top")[0].empty(),this.wrapper.empty(),this.ads&&this.ads.destroy(!0),this.detach.destroy(),this.observer&&this.observer.disconnect();try{this.parentNode.replaceChild(this.originalWrapper,this.wrapper)}catch(r){}this.wrapper=this.originalWrapper,this.backbone.core.destroy(),UOLPlayer[t]=UOLPlayer[a]=new e,delete UOLPlayer[a],delete UOLPlayer[t]},UOLPlayer.prototype.deactivate=function(){return clearTimeout(this.timeout),this.getState()===UOLPlayer.LOADING||this.getState()===UOLPlayer.BUFFERING?void(this.timeout=setTimeout(function(){
UOLPlayer.getCurrentMedia()!==this&&this.deactivate()}.bind(this),100)):(this.ads&&this.ads.pause(),this.wrapper.hasClass("up-playing-video")&&this.onClick(),void(this.deactivated=!0))};var UOLPlayerLog=function(e){this.app=e,this.performance=window.performance&&window.performance.now?window.performance:{now:function(){return 0}},this.logTimers={},this.logEnabled=UOLPlayer.config.log,this.active=void 0,this.samplingLog=!1;var t={LOG:{color:"#353535"},DFP:{color:"#2A852B"},METRICS:{color:"#E67C17"},ERROR:{color:"#850000"},TIME:{color:"#356AFF"},TIMEOUT:{color:"#7f2fd8"},HLS:{color:"#a4c0Ff"},DASH:{color:"#4286f4"},TEST:{color:"#e100ff"}},a=function(e){var a=t[e].color;return this.logEnabled?function(t){UOLPlayer.isIE&&!UOLPlayer.isEdge?UOLPlayer.l(e+" | "+t):UOLPlayer.l("%c"+e+" | "+t+" ","background: "+a+"; color: #fff; font-size: 14px"),this.logEnabled&&UOLPlayer.isMobile&&this.app.wrapper&&!this.divConsole&&(this.divConsole=UOLPlayer.domNode("div"),this.divConsole.addClass("uolplayer-console"),this.app.wrapper.appendChild(this.divConsole)),this.divConsole&&(this.divConsole.innerHTML=this.divConsole.innerHTML+'<br/><span style="background: '+a+'; color: #fff;">'+e+": "+t+"</span>",this.divConsole.scrollTop=this.divConsole.scrollHeight)}:function(){}}.bind(this);this.log=a("LOG"),this.logTime=a("TIME"),this.logDFP=a("DFP"),this.logMetrics=a("METRICS"),this.logError=a("ERROR"),this.logTimeout=a("TIMEOUT"),this.logHLS=a("HLS"),this.logDASH=a("DASH"),this.logTEST=a("TEST"),this.log("UOLPlayer - ver:"+UOLPlayer.version),this.log("ENVIRONMENT: "+UOLPlayer.environment()),this.log("CONNECTION TYPE: "+UOLPlayer.info.connectionType)};UOLPlayerLog.prototype.startTime=function(e){this.logTime("START - "+e),this.logTimers[e]={},this.logTimers[e].startTime=(new Date).getTime(),this.logTimers[e].startPerformance=this.performance.now()},UOLPlayerLog.prototype.stopTime=function(e){if(this.logTimers[e])return this.logTimers[e].time=(new Date).getTime()-this.logTimers[e].startTime,this.logTimers[e].performance=Math.floor(this.performance.now()-this.logTimers[e].startPerformance),this.logTime("STOP - "+e+" - time: "+this.logTimers[e].time+" - performace: "+this.logTimers[e].performance),this.logTimers[e]},UOLPlayerLog.prototype.tick=function(e){this.logTimers[e].tick||(this.logTimers[e].tick=[]),this.logTime("TICK - "+e+" - TIME: "+this.stopTime(e).time),this.logTimers[e].tick.push(this.stopTime(e))},UOLPlayerLog.prototype.getTime=function(e){return this.logTimers[e]},UOLPlayerLog.prototype.send=function(e,t,a){if(this.log("LOG "+e),this.active!==!1){if(UOLPlayer.isHomeUOL&&void 0===this.active&&this.app.data.item&&this.app.data.item.playerParameters&&this.app.data.item.playerParameters.miner_home_sample_tax){var r=parseFloat(this.app.data.item.playerParameters.miner_home_sample_tax),i=Math.random().toFixed(2);if(i>r)return this.log("[HOME] Fora da amostragem aleatória simples: "+r+" < "+i),void(this.active=!1);this.log("[HOME] Envio normal: "+r+" > "+i)}this.active=!0,UOLPlayerLog.send(this.app,e,t,a)}},UOLPlayerLog.send=function(e,t,a,r){var i=UOLPlayerLog.prepareObject(e,t,a);(UOLPlayer.config.log||"error"===t)&&UOLPlayer.l(i),UOLPlayerLog.sendToMiner(e,t,i,r)},UOLPlayerLog.sendToMiner=function(e,t,a,r){var i=UOLPlayerLog.params(a,";"),s="&prd=17",o="&msr="+t+":1;"+i.measures,n="&grp="+i.groups,l=UOLPlayer["const"].urls.MINER+s+o+n,d=r||{};d.url=l,UOLPlayer.ajax(d)},UOLPlayerLog.params=function(e,t){var a="",t=t||"&",r=[],i=[],s=["mediaId","apiDrakkarStatus","apiCroupierStatus","typeError","rebuffering","rebufferingCount"];for(var o in e)a=!1,e[o]&&e[o].push?e[o].length>0&&(a=o+":"+encodeURIComponent(JSON.stringify(e[o]))):a=o+":"+encodeURIComponent(e[o]),a!==!1&&(s.indexOf(o)===-1&&"number"==typeof e[o]?r.push(a):i.push(a));return{measures:r.join(t),groups:i.join(t)}},UOLPlayerLog.prepareObject=function(e,t,a){var r,i,s,o,n,r={},l=!1,d="",p="",u="",c=0,m=0,h="",y=0,g=0,v=0,f=0,P=0,L=0;try{if(a&&(r.timeout=!!a.timeout&&a.timeout,a.timeoutId&&(r.timeoutId=a.timeoutId),void 0!==a.adError&&(r.adError=a.adError),void 0!==a.ad&&(r.ad=a.ad),a.adObj&&(r.adId=a.adObj.getAdId(),r.adSystem=a.adObj.getAdSystem(),r.adCreativeId=a.adObj.getCreativeId(),r.adTitle=a.adObj.getTitle()+"_"+r.adId,r.adContentType=a.adObj.getContentType()),a.time&&(i=a.time.time,s=a.time.performance),void 0!==a.payload&&(r=UOLPlayer.mergeObject(r,a.payload)),void 0!==a.typeError&&(r=UOLPlayer.mergeObject(r,a)),"GA"==t))for(var n in a)r["GA_"+n]=a[n];if(UOLPlayer.info&&(r.browser=UOLPlayer.info.browser+" "+UOLPlayer.info.browserMajorVersion,r.os=UOLPlayer.info.os+" "+UOLPlayer.info.osVersion),e.data&&e.data.item){if(l=e.data.item.userIp,d=e.data.item.url,p=e.data.item.duration.seconds,u=e.data.item.author,c=e.data.item.revision,e.data.item.playerParameters)for(var n in e.data.item.playerParameters)r["playerParameters_"+n]=e.data.item.playerParameters[n];if(e.data.item.publishedDate){var O=e.data.item.publishedDate.formatted;r.publishedDate=parseInt(O.substr(4,4)+O.substr(2,2)+O.substr(0,2)),r.publishedTimestamp=e.data.item.publishedDate.timestamp}}if(e.statistic&&(r.downloadTime=e.statistic.amountTime,r.downloadSize=e.statistic.amountSize,r.downloadVelocity=e.statistic.amountTime>0?1e3*e.statistic.amountSize/e.statistic.amountTime:0,r.downloadVelocityKB=r.downloadVelocity/1024),e.keyboardState)for(var n in e.keyboardState)r["keyboard_"+n]=e.keyboardState[n];if(e.wrapper){y=e.wrapper.clientWidth,g=e.wrapper.clientHeight,y>0&&g>0&&(v=y/g),UOLPlayer.isIframe&&("number"==typeof window.innerWidth?(f=window.innerWidth,P=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(f=document.documentElement.clientWidth,P=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(f=document.body.clientWidth,P=document.body.clientHeight),f>0&&P>0&&(L=P/P));var o=UOLPlayer.getCookie("DNA")||"";o=o.split("|").shift()}e.mediaPlayer&&e.mediaPlayer.mediaElement&&(h=e.mediaPlayer.mediaElement.src,m=e.mediaPlayer.mediaElement.maxReadyState,r.currentTime=e.mediaPlayer.mediaElement.currentTime||0,r.playbackRate=e.mediaPlayer.mediaElement.playbackRate,e.mediaPlayer.mediaElement.error&&(r.mediaErrorCode=e.mediaPlayer.mediaElement.error.code,r.mediaErrorMessage=e.mediaPlayer.mediaElement.error.message));for(n in UOLPlayer.Cache.logs){var E=UOLPlayer.Cache.logs[n];r["cache_"+n+"_time"]=E.time.time,r["cache_"+n+"_state"]=E.state,r["cache_"+n+"_error"]=E.error,r["cache_"+n+"_crc32"]=E.crc32}if(UOLPlayer.Profiler.parsedAt){var U=new Date;r.parsedAt=UOLPlayer.Profiler.parsedAt.toDateTime(),r.logAt=U.toDateTime(),r.largeTimeDiff=U-UOLPlayer.Profiler.parsedAt>2e5}for(n in UOLPlayer.Profiler.requests)r["server_"+n+"_time_min"]=UOLPlayer.Profiler.requests[n].minimum,r["server_"+n+"_time_max"]=UOLPlayer.Profiler.requests[n].maximum,r["server_"+n+"_last_status"]=UOLPlayer.Profiler.requests[n].status;for(n in UOLPlayer.Profiler.serverStatus)r["server_"+n+"_status"]=UOLPlayer.Profiler.serverStatus[n];for(n in UOLPlayer.Profiler.apis)r["api_"+n+"_time"]=UOLPlayer.Profiler.apis[n].time,r["api_"+n+"_status"]=UOLPlayer.Profiler.apis[n].status;UOLPlayer.Profiler.servers&&(r.servers=UOLPlayer.Profiler.servers),r.caches_invalidation=UOLPlayer.invalidated;var b=/^https:/;r.ip=l,r.logName=t,r.hashId=e.hashId,r.mediaId=e.mediaId,r.time=i,r.performance=s,r.duration=p,r.author=u,r.revision=c,r.maxReadyState=m,r.dna=o,r.userAgent=UOLPlayer.info.userAgent,r.mobile=e.isMobile,r.mediaType=e.audio?"audio":"video",r.version=UOLPlayer.version,r.hlsNative=!!e.hlsNative,r.hls=!!e.hlsEnabled||r.hlsNative,r.webm=!!e.webmEnabled,r.mp4=!(r.hls&&r.webm),r.flashFallback=e.flashFallback,r.onDemand=e.onDemand,r.pauseCounts=e.pauseCounts,r.related=!!e.related,r.recommended="string"==typeof e.recommended?e.recommended:!!e.recommended,r.autoplayScroll=!!e.wrapper.getData("autoplayscroll"),r.autoplay=e._autoplay||r.autoplayScroll,r.autoplayMobile=!!e.autoplayMobile,r.autoplayRejects=!!e.autoplayRejects,r.syntheticPlay=e.syntheticPlay,r.replay=e.replay,r.XHR2Supported=UOLPlayer.isXHR2Supported,r.testEnabled=""!==e.testEnabled&&e.testEnabled,r.dfp=e.dfp,r.iuDFP=e.iuDFP,r.hostname=UOLPlayer.hostName,r.url=UOLPlayer.getURL(),r.loadApiError=e.apiError&&e.apiError.length>0?e.apiError:"",r.criticalFailure=e.criticalFailure===!0,r.download=e.download,r.currentFormat=e.currentFormat,r.testName=e.testName,r.testParticipant=e.testParticipant,r.retryCount=e.retryCounts,r.testResult=e.testResult,r.externalCDN=e.externalCDN,r.environment=UOLPlayer.environment(),r.isFlash=e.flashFallback||e.isFlash,r.isIframe=UOLPlayer.isIframe,r.isUrlSecurity=b.test(UOLPlayer.getURL()),r.isIframeSecurity=UOLPlayer.isIframe&&b.test(document.referrer),r.isInstantArticle=UOLPlayer.isInstantArticle,r.isAMP=UOLPlayer.isAMP,r.isLegacyIframe=UOLPlayer.isLegacyIframe,r.wrapperWidth=y,r.wrapperHeight=g,r.wrapperAspectRatio=v,r.iFrameWidth=f,r.iFrameHeight=P,r.iframeAspectRatio=L,r.fingerprint=UOLPlayer.Fingerprint.id,r.isAutoplayRejected=!e.isAutoplayOk,r.isAutoplayMuted=e.isAutoplayMuted,r.instancesAutoLoaded=UOLPlayer.instancesAutoLoaded,r.instancesMaterialized=UOLPlayer.instancesMaterialized,e.options&&e.options.subtitle&&void 0!==e.options.subtitle.subtitleOn&&!e.options.subtitle.disabled&&(r.subtitleOn=e.options.subtitle.subtitleOn),e.levelList.length>0&&"GA"===r.logName&&(r.levelList=e.levelList),r.timeLoadApi=e.chronoLoadApi?e.chronoLoadApi.time:"",e.chronoLoadLibHLS&&(r.timeLoadLibHls=e.chronoLoadLibHLS.time),e.chronoLoadLibDFP&&(r.timeLoadLibDfp=e.chronoLoadLibDFP.time),e.tracker&&(r=UOLPlayer.mergeObject(r,e.tracker.getData())),UOLPlayer.supportedMediaTypes&&(r=UOLPlayer.mergeObject(r,UOLPlayer.supportedMediaTypes))}catch(C){console.error(C)}return r},UOLPlayer.searchLog=function(e){var t=function(e,t){var a=UOLPlayerLog.params(e,";"),r="&prd=17",i="&msr=fix:1",s="&grp="+a.groups,o=UOLPlayer["const"].urls.MINER+r+i+s,n=t||{};n.url=o,UOLPlayer.ajax(n)};return t}(),UOLPlayer.currentFormatLog=function(e,t,a){return console.info("[UOLPLAYER] "+t+" - "+a),e.logger.log(t+" - "+a),a};var UOLPlayerUI=function(e){this.app=e,this.wrapper=e.wrapper,this.ui=this.app.wrapper.getElementsByClassName("ui")[0],this.posterPreload=this.app.wrapper.getElementsByClassName("up-poster")[0],this.poster=this.ui.getElementsByClassName("up-poster")[0],this.btplay=this.ui.getElementsByClassName("bt-play")[0],this.btforward=this.ui.getElementsByClassName("up-bt-forward")[0],this.timeoutMouseout=this.app.wrapper.getData("timeout")||3e3,this.btplay&&(this.btplayIcon=this.btplay.getElementsByClassName("up-icon")[0]),this.wrapper.getData("totaltime")&&(this.btplay.getElementsByClassName("up-duration")[0].innerHTML=this.app.wrapper.getData("totaltime")),this.initCtrlBar(),"video"===this.app.mediaType&&(UOLPlayer.setPoster(this.app,this.poster),UOLPlayer.setPoster(this.app,this.posterPreload)),UOLPlayer.eventsControl.call(this);var t=this.wrapper.getElementsByClassName("up-duration")[0]||this.wrapper.getElementsByClassName("up-time-duration")[0];t.innerHTML=this.app.data&&this.app.data.item&&this.app.data.item.duration?this.app.data.item.duration.formatted:"",this.rotateFallback(0),this.MouseEvents()},volumeMarkup='<div class="up-ctrlbar-cell up-volume-group"><div class="up-bt up-bt-volume up-bt-volume-mute"></div><div class="up-volume"><div class="up-dragbar-control up-dragbar up-volume-panel"><div class="up-dragbar-handle"></div><div class="up-dragbar-slider"><div class="up-dragbar-bar"></div><div class="up-dragbar-buffered"></div></div></div></div></div>',changeQualityMarkup='<div class="up-ctrlbar-tools"><div class="up-ctrlbar-wrapper"><div class="up-ctrlbar-tools-panel"><div class="up-ctrlbar-tools-item up-ctrlbar-tools-head up-ctrlbar-openquality"><div class="up-ctrlbar-tools-label">Qualidade</div><div class="up-ctrlbar-tools-content up-next-element"><span class="quality-isauto">Auto</span> <span class="quality-type"></span></div></div><div class="up-ctrlbar-tools-item up-ctrlbar-tools-head up-ctrlbar-openplaybackrate"><div class="up-ctrlbar-tools-label">Velocidade</div><div class="up-ctrlbar-tools-content up-next-element playbackrate-current">Normal</div></div><div class="up-ctrlbar-tools-item up-ctrlbar-autorep display-none"><div class="up-ctrlbar-tools-label">Reprodução automática</div><div class="up-ctrlbar-tools-content"><svg  class="up-switch up-switch-on" xmlns="http://www.w3.org/2000/svg" width="48" height="28" viewBox="0 10 48 28"><g fill="none" fill-rule="evenodd"><rect width="40" height="20" x="4" y="14" fill="#FFF" rx="10"/><circle class="up-switch-circle" cx="34" cy="24" r="4" fill="#22DC72"/></g></svg></div></div></div><div class="up-ctrlbar-tools-subpanel"><div class="up-quality up-ctrlbar-tools-subpanel-item display-none"><div class="up-ctrlbar-tools-item up-ctrlbar-tools-head up-ctrlbar-closequality"><div class="up-ctrlbar-tools-content up-prev-element"><span>Qualidade</span></div></div><div class="up-quality-type-group"></div></div><div class="up-playbackrate up-ctrlbar-tools-subpanel-item display-none"><div class="up-ctrlbar-tools-item up-ctrlbar-tools-head up-ctrlbar-closeplaybackrate"><div class="up-ctrlbar-tools-content up-prev-element"><span>Velocidade</span></div></div><div class="up-playbackrate-type-group"></div></div></div></div></div>';UOLPlayerUI.btPlayMarkup='<div class="bt-play cursor-pointer"><div class="up-bt-forward "><div class="up-bt-spin up-bt-forward-spin display-none">{{this.app.forwardRewindBase}}</div><div class="jump-step forward-jump-step display-none"></div></div><div class="up-bt-rewind"><div class="up-bt-spin up-bt-rewind-spin display-none">{{this.app.forwardRewindBase}}</div><div class="jump-step rewind-jump-step display-none"></div></div><div class="up-poster"></div><div class="up-icon up-bt-play-big"></div></div>',UOLPlayerUI.timeDisplayMarkup='<div class="up-ctrlbar-cell up-time-display"><span class="up-time-current">0:00</span><span class="up-time-separator">/</span><span class="up-time-duration">0:00</span></div>',UOLPlayerUI.controlbarMarkup=changeQualityMarkup+'<div class="up-ctrlbar"><div class="up-ctrlbar-line up-progressbar up-progressbar-video"><div class="up-dragbar-control up-dragbar"><div class="up-dragbar-handle"></div><div class="up-dragbar-slider"><div class="up-dragbar-bar"></div><div class="up-dragbar-buffered"></div></div></div></div><div class="up-ctrlbar-line"><div class="up-ctrlbar-cell up-bt up-bt-play"></div><div class="up-ctrlbar-cell up-bt up-bt-init display-none"></div>'+UOLPlayerUI.timeDisplayMarkup+'<div class="up-ctrlbar-cell up-progressbar up-progressbar-audio"><div class="up-dragbar-control up-dragbar"><div class="up-dragbar-handle"></div><div class="up-dragbar-slider"><div class="up-dragbar-bar"></div><div class="up-dragbar-buffered"></div></div></div></div><div class="up-ctrlbar-cell up-spacer"></div>'+volumeMarkup+'<div class="up-ctrlbar-cell up-bt up-bt-tools"></div><div class="up-ctrlbar-cell up-bt up-bt-subtitle display-none"></div><div class="up-ctrlbar-cell up-bt up-bt-detach display-none"></div><div class="up-ctrlbar-cell up-bt up-bt-fullscreen"></div><div class="up-ctrlbar-cell up-bt-download-display display-none"><a class="up-bt up-bt-download" target="_blank" href="#" download="download"></a></div></div></div>',UOLPlayerUI.prototype.setState=function(e){(function(e){e?this.wrapper.addClass("_tools"):this.wrapper.removeClass("_tools")}).bind(this),function(e){e?this.wrapper.addClass("_share"):this.wrapper.removeClass("_share")}.bind(this),function(e){e?this.wrapper.addClass("_related"):this.wrapper.removeClass("_related")}.bind(this);switch(e){case"stop":this.btplay&&this.btplay.show(),this.setControlState("stop"),this.loading(!1);break;case"loading":this.loading(!0);break;case"playingAd":this.loading(!1);break;case"playingVideo":this.loading(!1);break;case"play":this.play(!0);break;case"pause":this.play(!1),this.loading(!1);break;case"autorep":this.wrapper.hasClass("up-autorep")?this.wrapper.removeClass("up-autorep"):this.wrapper.addClass("up-autorep");break;case"tools":this.wrapper.hasClass("_tools")?this.wrapper.removeClass("_tools"):this.wrapper.addClass("_tools");break;case"waiting":this.wrapper.addClass("_waiting");break;case"error":this.error(),this.loading(!1);break;case"ended":this.wrapper.removeClass("_clicked"),this.btplay&&this.btplay.show(),this.reload()}},UOLPlayerUI.prototype.play=function(e){e===!0?this.setControlState("play"):this.setControlState("pause")},UOLPlayerUI.prototype.reload=function(e){this.setControlState("reload")},UOLPlayerUI.prototype.loading=function(e){e?this.wrapper.addClass("_loading"):this.wrapper.removeClass("_loading")},UOLPlayerUI.prototype.error=function(){this.wrapper.addClass("_error"),this.btplayIcon.addClass("fa-play"),this.btplayIcon.removeClass("fa-pause")},UOLPlayerUI.prototype.setFullscreen=function(e){e?(this.setControlState("fullscreen"),this.wrapper.addClass("_fullscreen"),this.app.fullscreen=!0):(this.setControlState("normalscreen"),this.wrapper.removeClass("_fullscreen"),this.app.fullscreen=!1)},UOLPlayerUI.prototype.setControlState=function(e){if(this.app.skin)switch(e){case"stop":this.controlbar.play.removeClass("up-bt-pause").removeClass("up-bt-repeat");break;case"play":this.controlbar.play.addClass("up-bt-pause").removeClass("up-bt-repeat");break;case"pause":this.controlbar.play.removeClass("up-bt-pause").removeClass("up-bt-repeat");break;case"reload":this.controlbar.play.removeClass("up-bt-pause").addClass("up-bt-repeat"),this.wrapper.addClass("_reload");break;case"fullscreen":this.controlbar.fullscreen.addClass("up-bt-fullscreen-back");break;case"normalscreen":this.controlbar.fullscreen.removeClass("up-bt-fullscreen-back")}},UOLPlayerUI.prototype.initSkin=function(){},UOLPlayerUI.prototype.initCtrlBar=function(){var e=this.ui.getElementsByClassName("up-ctrlbar")[0];this.app.skin?(e.show(),this.controlbar={controlbar:e,play:e.getElementsByClassName("up-bt-play")[0],init:e.getElementsByClassName("up-bt-init")[0],totalTime:e.getElementsByClassName("up-time-duration")[0],currentTime:e.getElementsByClassName("up-time-current")[0],fullscreen:e.getElementsByClassName("up-bt-fullscreen")[0],volume:{root:e.getElementsByClassName("up-volume")[0],bt:e.getElementsByClassName("up-volume-bt")[0],control:e.getElementsByClassName("up-volume-control")[0],bar:e.getElementsByClassName("up-volume-bar")[0],slider:e.getElementsByClassName("up-volume-slider")[0]}},this.app.useResume&&this.app.startTime>0?this.controlbar.init.show().addEventListener("click",function(e){this.app.mediaPlayer&&this.app.mediaPlayer.seek(1)}.bind(this)):this.controlbar.init.hide(),this.app.mediaPlayer.mediaElement.addEventListener("click",function(){UOLPlayer.isMobile&&this.wrapper.hasClass("up-started")?this.wrapper.addClass("mouseover"):this.app.onClick()}.bind(this)),UOLPlayer.fullscreenEnabled?this.controlbar.fullscreen.addEventListener("click",function(){this.app.setFullscreen()}.bind(this)):this.controlbar.fullscreen.hide(),this.app.controls||this.controlbar.controlbar.hide(),this.app.cover||this.ui.getElementsByClassName("bt-play")[0].addClass("opacity-0")):e.hide()},UOLPlayerUI.prototype.rotateFallback=function(e){if("transform"in document.body.style==!1&&"webkitTransform"in document.body.style==!0){var t=document.querySelector(".up-preload-spinner"),a="rotate("+e+"deg)";if(t){var r=-t.offsetWidth/2;t.style.marginTop=r+"px",t.style.marginLeft=r+"px",t.style.transform=a,t.style.webkitTransform=a,t.style.OTransform=a,t.style.MozTransform=a}setTimeout(this.rotateFallback.bind(this),10,e<360?e+5:0)}},UOLPlayer.prototype.UI={init:function(){this.wrapper.getElementsByClassName("up-time-duration")[0].innerHTML=this.data.item.duration.formatted,this.wrapper.getElementsByClassName("up-duration")[0].innerHTML=this.data.item.duration.formatted,"video"===this.mediaType&&UOLPlayer.each(this.wrapper.getElementsByClassName("up-poster"),function(e){UOLPlayer.setPoster(this,e)}.bind(this))},checkPoster:function(){this.poster&&!this.wrapper.hasClass("_fixedposter")&&(this.wrapper.addClass("_fixedposter"),UOLPlayer.setThumb(this.wrapper,this.poster))}};var UOLPlayerAds=function(e){UOLPlayer.eventsControl.call(this),this.events={adStarted:new UOLPlayer.customEvents,allAdsCompleted:new UOLPlayer.customEvents,contentCompleted:new UOLPlayer.customEvents,contentPauseRequested:new UOLPlayer.customEvents,contentResumeRequested:new UOLPlayer.customEvents,timeupdate:new UOLPlayer.customEvents};var t=e.wrapper.getElementsByClassName("ui")[0],a={btvisit:t.getElementsByClassName("up-ad-visit-advertiser")[0],remaining:t.getElementsByClassName("up-ad-remaining-time")[0],progressbar:t.getElementsByClassName("up-ad-bar")[0],ctrlbarCurrentTime:e.wrapper.getElementsByClassName("up-time-current")[0],ctrlbarDuration:e.wrapper.getElementsByClassName("up-time-duration")[0]};this.contentCompleteCalled=!1,this.allAdsCompleteCalled=!1,this.adError=!1,this.app=e,this.ad=null,this.adPos=null,this.playingAd=!1,this.paused=!1,this.adPodIndex=0,this.customClickDiv=a.btvisit,this.isMute=!1;try{google.ima}catch(r){console.warn("UOLPLAYER: google.ima não carregado.")}google.ima.settings.setLocale("pt-BR"),UOLPlayer.isIOS&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.adDisplayContainer=new google.ima.AdDisplayContainer(this.app.mediaPlayer.adContainer,this.app.mediaPlayer.mediaElement,this.customClickDiv),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsManager=null,this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded,!1,this),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError,!1,this),this.timeouts=this.app.timeouts,this.timeoutList={},this.timeoutList.requestAdsTimeout=this.timeouts[this.timeouts.type.REQUEST_ADS],this.timeoutList.loadAdTimeout=this.timeouts[this.timeouts.type.LOAD_AD],this.timeoutList.bufferTimeout=this.timeouts[this.timeouts.type.PLAYING_AD],this.startAdCountdown=function(){this.app.ui.setState("playingAd");var e=function(){_perc=this.getCurrentPerc(),a.remaining.innerHTML=this.getRemainingTime()<0?"0:00":this.getRemainingTime().toString().formatTime(),a.progressbar.style.width=_perc+"%",a.ctrlbarCurrentTime.innerHTML=this.getCurrentTime().toString().formatTime(),this.events.timeupdate.dispatch({currentTime:this.getCurrentTime(),duration:this.getDuration(),perc:_perc})}.bind(this);a.remaining.innerHTML="",a.progressbar.style.width=0,a.ctrlbarDuration.innerHTML=this.getDuration().toString().formatTime(),this.countdownTimer=setInterval(e,1e3),e(),this.timeoutList.bufferTimeout.start(function(){this.timeoutId=this.timeouts.type.PLAYING_AD,this.destroy(),this.adPos=this.getAdPosition(),this.ad&&this.app.tracker.pushStates(["ad",this.getAdPosition()],["adId",this.ad.getAdId()],["adCreativeId",this.ad.getCreativeId()],["adSystem",this.ad.getAdSystem()],["adTitle",this.ad.getTitle()]),this.app.logger.send(this.timeouts.type.PLAYING_AD,{timeout:!0})}.bind(this));var t=setTimeout(function(){(this.paused||this.getCurrentTime()>=this.timeouts.time.PLAYING_AD/1e3-5)&&(clearTimeout(t),this.timeoutList.bufferTimeout.abort())}.bind(this),this.timeouts.time.PLAYING_AD-1e3)},this.stopAdCountdown=function(){a.remaining.innerHTML="",a.progressbar.style.width=0,a.ctrlbarCurrentTime.innerHTML="0:00",a.ctrlbarDuration.innerHTML=e.data.item.duration.formatted,this.countdownTimer&&clearInterval(this.countdownTimer)}};UOLPlayerAds.prototype.initialUserAction=function(){this.app.logger.logDFP("initialUserAction"),this.contentCompleteCalled=!1,this.adDisplayContainer.initialize(),this.app.mediaPlayer.pause()},UOLPlayerAds.prototype.requestAds=function(){this.app.wrapper.setData("adPos",this.getAdPosition()),this.app.logger.startTime("dfp-init"),this.app.logger.startTime("dfpRequestAds");var e=new google.ima.AdsRequest,t=this.app.getSize();e.adTagUrl=this.createAdTag(),e.linearAdSlotWidth=t.width,e.linearAdSlotHeight=t.height,e.nonLinearAdSlotWidth=t.width,e.nonLinearAdSlotHeight=t.height,e.setAdWillAutoPlay(this.app.isAutoplayOk),e.setAdWillPlayMuted(this.app.isAutoplayMuted),this.adsLoader.requestAds(e),this.timeoutList.requestAdsTimeout.start(function(){this.timeoutId=this.timeouts.type.REQUEST_ADS,this.destroy(),this.trackAds(),this.app.logger.send(this.timeouts.type.REQUEST_ADS,{time:this.app.logger.stopTime(this.timeouts.type.REQUEST_ADS),timeout:!0})}.bind(this))},UOLPlayerAds.prototype.onAdsManagerLoaded=function(e){this.app.logger.logDFP("Ads loaded.");var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!1,t.loadVideoTimeout=UOLPlayer.safariMultiplier(1e3*this.app.data.item.playerParameters.dfp_native_timeout_time,this.app),this.adsManager=e.getAdsManager(this.app.mediaPlayer.mediaElement,t),this.processAdsManager(this.adsManager)},UOLPlayerAds.prototype.processAdsManager=function(e){this.app.logger.logDFP("processAdsManager."),e.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,function(){this.contentCompleteCalled&&"post-roll"===this.getAdPosition()&&this.allAdsCompleted()}.bind(this),!1,this);var t=[google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED];for(var a in t)e.addEventListener(t[a],this.onAdEvent,!1,this);var r,i,s,o=this.app.getSize();this.app.isFullscreen()?(r=o.fullscreenWidth,i=o.fullscreenHeight,s=google.ima.ViewMode.FULLSCREEN):(r=o.width,i=o.height,s=google.ima.ViewMode.NORMAL);try{this.app.logger.logDFP("adsManager.init"),e.init(r,i,s),e.start()}catch(n){this.app.logger.logError(n)}},UOLPlayerAds.prototype.onContentPauseRequested=function(){this.timeoutId=!1,this.app.adsActive=!0,this.app.mediaPlayer.saveCurrentTime(),this.app.mediaPlayer.pause(!1),this.app.logger.logDFP("onContentPauseRequested.")},UOLPlayerAds.prototype.onContentResumeRequested=function(e){this.getAdPodIndex()!=-1&&this.resumeAfterAd(),this.stopAdCountdown(),this.timeoutList.bufferTimeout.abort(),this.app.logger.logDFP("onContentResumeRequested"),this.events.contentResumeRequested.dispatch(this.getAdPodIndex())},UOLPlayerAds.prototype.onAdEvent=function(e){var t;this.app.logger.logDFP("Ad event: "+e.type),e&&e.getAd&&(this.ad=e.getAd());var a=function(){0!=this.adPodIndex||this.logSended||(this.app.logger.send("dfpRequestAds",{time:this.app.logger.stopTime("dfpRequestAds"),ad:t,adObj:this.ad}),this.timeoutList.requestAdsTimeout.abort()),this.logSended=!0}.bind(this);switch(e.type){case google.ima.AdEvent.Type.AD_METADATA:a(),this.adPos=t=this.getAdPosition(),this.app.logger.startTime("load-ads"),this.app.tracker.pushState("adMetadata",t),this.app.wrapper.setData("adPos",t),this.app.backbone.ad.metadata({time:this.app.logger.getTime("dfpRequestAds"),position:t});break;case google.ima.AdEvent.Type.LOADED:a(),this.adPos=t=this.getAdPosition(),this.app.logger.startTime("load-ads"),this.app.wrapper.setData("adPos",t),this.mute();var r,i,s=t.split(/\W/).map(function(e){return e.charAt(0).toUpperCase()+e.substring(1,e.length)}).join("");!this.ad.g||this.ad.g.vpaid!==!1&&void 0!==this.ad.g.vpaid?(r="vpaid",i=!0):(r=this.ad.getSkipTimeOffset()>-1,i=!1),"pre-roll"!==t&&this.contentCompleteCalled!==!0||this.timeoutList.loadAdTimeout.start(function(){this.timeoutId=this.timeouts.type.LOAD_AD,this.app.logger.send(this.timeouts.type.LOAD_AD,{time:this.app.logger.stopTime("load-ads"),ad:this.getAdPosition(),adObj:this.ad,payload:{timeout:!0}}),this.destroy(),this.app.backbone.ad.timeout({time:this.app.logger.getTime("load-ads"),position:this.getAdPosition(),adObj:this.ad,payload:{timeout:!0}})}.bind(this)),this.app.tracker.pushState("adLoadedPos",t),this.app.tracker.pushState("ad"+s+"Skippable",r,0),this.app.tracker.pushState("ad"+s+"SkipTime",this.ad.getSkipTimeOffset(),0),this.app.tracker.pushState("ad"+s+"Duration",this.ad.getDuration(),0),this.app.tracker.pushState("ad"+s+"Vpaid",i,0);break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.onContentPauseRequested(),this.app.setVideoEndedCallbackEnabled(!1),this.events.contentPauseRequested.dispatch();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.onContentResumeRequested(),this.app.setVideoEndedCallbackEnabled(!0);break;case google.ima.AdEvent.Type.STARTED:try{this.adPodIndex++,this.adSkipped=void 0,this.playingAd=!0,this.adPos=t=this.getAdPosition(),this.app.chronoAdDuration.start(),this.app.backbone.ad.start(),this.timeoutList.loadAdTimeout.abort(),this.app.logger.send("dfpLoadAds",{time:this.app.logger.stopTime("load-ads"),ad:t,adObj:this.ad}),this.app.backbone.ad.load({time:this.app.logger.getTime("load-ads"),position:t,adObj:this.ad}),this.app.logger.send("dfpBegin",{time:this.app.logger.stopTime("dfp-init"),ad:t,adObj:this.ad}),this.app.backbone.ad.start({time:this.app.logger.getTime("dfp-init"),position:t}),this.app.wrapper.hasClass("_mute")||this.toggleMute(),this.startAdCountdown(),this.app.tracker.pushState("adStarted",t),this.events.adStarted.dispatch()}catch(o){this.onAdError(o)}break;case google.ima.AdEvent.Type.CLICK:this.adPos=t=this.getAdPosition(),UOLPlayer.isMobile&&this.adClicked(),this.app.backbone.ad.click({position:t}),this.app.tracker.pushState("adClicked",!0);break;case google.ima.AdEvent.Type.PAUSED:this.adPos=t=this.getAdPosition(),this.paused=!0,this.app.backbone.ad.pause({position:t}),this.app.tracker.pushState("adPaused",this.paused);break;case google.ima.AdEvent.Type.RESUMED:this.adPos=t=this.getAdPosition(),this.paused=!1,this.app.tracker.pushState("adPaused",this.paused),this.app.backbone.ad.resume({position:t});break;case google.ima.AdEvent.Type.SKIPPED:this.adSkipped=!0,this.adPos=t=this.getAdPosition(),this.timeoutList.bufferTimeout.abort(),this.app.tracker.pushState("adSkiped",!0),this.app.backbone.ad.skipped({position:t});break;case google.ima.AdEvent.Type.COMPLETE:this.adPos=t=this.getAdPosition(),this.app.chronoAdDuration.stop(),this.app.tracker.pushState("adComplete",!0),this.app.backbone.ad.ended({position:t}),this.events.timeupdate.dispatch({currentTime:this.getCurrentTime(),duration:this.getDuration(),perc:100});break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.app.chronoAdDuration.stop(),this.app.tracker.pushState("adAllAdsComplete",!0),this.allAdsCompleted();break;case google.ima.AdEvent.Type.LOG:e.getAdData()&&(this.adPos=this.adError="noAd",this.app.wrapper.setData("adPos","noAd"));break;case google.ima.AdErrorEvent.Type.AD_ERROR:this.onAdError(e);break;case google.ima.AdEvent.Type.AD_PROGRESS:this.adPos=t=this.getAdPosition(),this.app.backbone.ad.progress({position:t})}},UOLPlayerAds.prototype.contentEnded=function(){this.adPodIndex=-1,this.app.logger.logDFP("contentEnded"),this.contentCompleteCalled=!0,this.adError=!1,this.duration=null,this.adsLoader.contentComplete(),this.allAdsCompleteCalled&&this.events.allAdsCompleted.dispatch()},UOLPlayerAds.prototype.resumeAfterAd=function(){this.app.logger.logDFP("resumeAfterAd");var e;!this.playingAd&&this.timeoutId?(this.trackAds(),this.adPos=e=this.getAdPosition(),this.app.logger.send("dfpBegin",{time:this.app.logger.stopTime("dfp-init"),timeoutId:this.timeoutId,timeout:!0})):this.adError&&(this.trackAds(),this.adPos=e=UOLPlayerAds.adPosition(this.adPodIndex),this.app.logger.logError("DFP ("+e+") error: "+this.adError),
this.app.logger.send("dfpBegin",{time:this.app.logger.stopTime("dfp-init"),ad:e,adError:this.adError}),this.timeoutList.requestAdsTimeout.abort()),this.app.mediaPlayer.play(),UOLPlayer.isSafari&&UOLPlayer.isIphone&&this.adError&&this.app.mediaPlayer.seek(this.app.mediaPlayer.mediaElement.currentTime+1),this.app.adsActive=!1,this.app.setVideoEndedCallbackEnabled(!0)},UOLPlayerAds.prototype.allAdsCompleted=function(){this.app.logger.logDFP("allAdsCompleted"),this.adPos=adPos=UOLPlayerAds.adPosition(this.getAdPodIndex()),this.adError&&(this.app.logger.logError("DFP: ("+adPos+") error: "+this.adError),this.app.logger.send("dfpBegin",{time:this.app.logger.stopTime("dfp-init"),ad:adPos,adError:this.adError})),this.getAdPodIndex()===-1&&this.events.allAdsCompleted.dispatch(),this.app.adsActive=!1,this.allAdsCompleteCalled=!0},UOLPlayerAds.prototype.createAdTag=function(){if(UOLPlayer.toBoolean(this.app.forcedfp))return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=vmap&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ar%3Dpremidpost&cmsid=496&vid=short_onecue&correlator=";if("1"===this.app.forcedfp)return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator=";if("2"===this.app.forcedfp)return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dskippablelinear&correlator=";if("3"===this.app.forcedfp)return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dredirectlinear&correlator=";if("4"===this.app.forcedfp)return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dredirecterror&nofb=1&correlator=";if("5"===this.app.forcedfp)return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dredirecterror&correlator=";if("6"===this.app.forcedfp)return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinearvpaid2js&correlator=";if("7"===this.app.forcedfp)return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dnonlinearvpaid2js&correlator=";if("8"===this.app.forcedfp)return"https://pubads.g.doubleclick.net/gampad/ads?sz=480x70&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dnonlinear&correlator=";if("9"===this.app.forcedfp)return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=vmap&cust_params=sar%3Da0f2&unviewed_position_start=1&tfcd=0&npa=0&correlator=";if("10"===this.app.forcedfp)return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=vmap&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ar%3Dpreonly&cmsid=496&vid=short_onecue&correlator=";if("11"===this.app.forcedfp)return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=vmap&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ar%3Dpreonlybumper&cmsid=496&vid=short_onecue&correlator=";if("12"===this.app.forcedfp)return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=vmap&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ar%3Dpostonly&cmsid=496&vid=short_onecue&correlator=";if("13"===this.app.forcedfp)return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=vmap&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ar%3Dpostonlybumper&cmsid=496&vid=short_onecue&correlator=";if("vpaid"===this.app.forcedfp)return"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinearvpaid2js&correlator=";var e,t,a="";if("apple"===this.app.forcedfp||"new"===this.app.forcedfp?this.app.iuDFP="/8804/teste/qa5":UOLPlayer.isMobile&&this.app.iuDFP&&(this.app.iuDFP=this.app.iuDFP.replace("/uol/","/uol_mobile/").replace("/bol/","/bol_mobile/").replace("/folha/","/folha_mobile/").replace("/parceiros/","/parceiros_mobile/")),window.UOLPD){var r=window.UOLPD.dataLayer;for(key in r)a+="%26"+key+"%3D"+r[key]}var i="%26videoplayertype%3Dhtml5",s="";this.app.options.dfp.adunit&&window.DYNAD_TV&&window.DYNAD_TV.config&&(window.DYNAD_TV.config.pathDFP&&(this.app.iuDFP=window.DYNAD_TV.config.pathDFP,console.log("[UOLPlayer] usando adunit customizado: "+this.app.iuDFP)),window.DYNAD_TV.config.videoplayertype&&(i="%26videoplayertype%3D"+window.DYNAD_TV.config.videoplayertype),window.DYNAD_TV.config.keyword&&(s="%26keyword%3D"+window.DYNAD_TV.config.keyword));var o=this.app.iuDFP;return e="codprofile%3D"+this.app.data.item.codProfile+"%26videotags%3D"+this.app.data.item.tags+i+s+a,t=UOLPlayer.HTTP+"pubads.g.doubleclick.net/gampad/ads?sz="+(this.app.data.item.playerParameters.dfp_sz?this.app.data.item.playerParameters.dfp_sz:"640x480")+"&gdfp_req=1&iu="+o+"&ciu_szs=300x250&url=[referrer_url]&correlator=[timestamp]&env=vp&unviewed_position_start=1&output=vast&impl=s&vid="+this.app.data.item.mediaId+"&description_url="+this.app.data.item.url+"&cust_params="+e},UOLPlayerAds.prototype.adClicked=function(){this.app.playing?this.pause():this.resume(),this.app.playing=!this.app.playing},UOLPlayerAds.prototype.pause=function(){this.adsManager&&this.adsManager.pause(),UOLPlayer.onPause(this.app)},UOLPlayerAds.prototype.resume=function(){this.adsManager&&this.adsManager.resume(),UOLPlayer.onResume(this.app)},UOLPlayerAds.prototype.resize=function(e,t,a){this.adsManager&&this.adsManager.resize(e,t,google.ima.ViewMode[a])},UOLPlayerAds.prototype.setVolume=function(e){this.adsManager&&this.adsManager.setVolume(Number(e)),this.app.backbone.ad.volumeChange()},UOLPlayerAds.prototype.mute=function(){this.setVolume(0),this.isMute=!0},UOLPlayerAds.prototype.toggleMute=function(){this.isMute?(this.setVolume(UOLPlayer.getCookie("lplr_vlm")||1),this.isMute=!1):(this.setVolume(0),this.isMute=!0)},UOLPlayerAds.prototype.getAdPosition=function(){return UOLPlayerAds.adPosition(this.getAdPodIndex())},UOLPlayerAds.prototype.getAdPodIndex=function(){try{return this.ad&&this.ad.getAdPodInfo()?this.ad.getAdPodInfo().getPodIndex():0}catch(e){return 0}},UOLPlayerAds.prototype.getAdId=function(){return this.ad?this.ad.getAdId():void 0},UOLPlayerAds.prototype.getAdTitle=function(){return this.ad?this.ad.getAdId()+" - "+this.ad.getTitle():void 0},UOLPlayerAds.prototype.getDuration=function(){return!this.duration&&this.ad&&this.ad.getDuration&&(this.duration=this.ad.getDuration()),this.duration||0},UOLPlayerAds.prototype.getCurrentTime=function(){return this.getDuration()-this.getRemainingTime()},UOLPlayerAds.prototype.getCurrentPerc=function(){return Math.floor(100*(this.getCurrentTime()/this.getDuration()))},UOLPlayerAds.prototype.getRemainingTime=function(){return rt=Math.round(this.adsManager.getRemainingTime()),rt<=0?this.getDuration():rt},UOLPlayerAds.prototype.trackAds=function(){try{this.adPos=this.getAdPosition(),this.app.tracker.pushState("ad",this.adPos),this.ad&&this.app.tracker.pushStates(["adId",this.ad.getAdId()],["adSystem",this.ad.getAdSystem()],["adCreativeId",this.ad.getCreativeId()],["adTitle",this.ad.getTitle()])}catch(e){}},UOLPlayerAds.prototype.onAdError=function(e){this.adError=e&&e.getError?e&&e.getError().toString():"unknown error",this.app.setVideoEndedCallbackEnabled(!0),this.app.chronoAdDuration.stop(),this.app.tracker.pushState("dfpError",this.adError),this.app.logger.logError("Ad error: "+this.adError),this.app.backbone.ad.error({error:this.adError}),this.destroy()},UOLPlayerAds.prototype.destroy=function(e){this.app.logger.logDFP("destroy"),this.adError||(this.adError=this.timeoutId?"TIMEOUT_"+this.timeoutId:"FATAL_ERROR"),this.adDisplayContainer&&this.adDisplayContainer.destroy(),this.adsManager&&this.adsManager.destroy();for(var t in this.timeoutList)this.timeoutList[t].abort();e||this.onContentResumeRequested()},UOLPlayerAds.adPosition=function(e){var t="";switch(e){case 0:t="pre-roll";break;case-1:t="post-roll";break;default:t="mid-roll"}return t},UOLPlayer.ElementErrorHandler=function(){},UOLPlayer.ElementErrorHandler.errorCodes=function(){return{WITHOUT_MOBILE_FORMAT:0,INVALID_MEDIA_ID:1,API_INVALID_RESPONSE:4,FLASH_NOT_SUPPORTED:5,API_EMPTY_RESPONSE:6,CODEC_UNAVAILABLE:7,MEDIA_NOT_FOUND:8,NETWORK_BLOCKING_MP4:9,BROWSER_DEPRECATED:10,VIDEO_FLASH_DEPRECATED:11,AUDIO_FLASH_DEPRECATED:12,VIDEO_SOURCE_UNKNOWN_ERROR:20,VIDEO_SOURCE_ABORTED:21,VIDEO_SOURCE_NETWORK_UNSTABLE:22,VIDEO_SOURCE_FAIL_DECODE:23,VIDEO_SOURCE_NOT_SUPPORTED:24,VIDEO_SOURCE_ENCRYPTED:25,VIDEO_SOURCE_NETWORK_CONNECTION:26,VIDEO_SOURCE_WITHOUT_FALLBACK:27,AUDIO_SOURCE_UNKNOWN_ERROR:30,AUDIO_SOURCE_ABORTED:31,AUDIO_SOURCE_NETWORK_UNSTABLE:32,AUDIO_SOURCE_FAIL_DECODE:33,AUDIO_SOURCE_NOT_SUPPORTED:34,AUDIO_SOURCE_ENCRYPTED:35,AUDIO_SOURCE_NETWORK_CONNECTION:36,HLS_UNKNOWN_ERROR:40,HLS_NETWORK_UNSTABLE:41,HLS_MEDIA_ERROR:42,HLS_UNDEFINED_ON_INITIALIZE:43,PAYLOAD_TOO_LARGE:44,DASH_UNKNOWN_ERROR:55,DASH_NETWORK_UNSTABLE:56,DASH_MEDIA_ERROR:57,DASH_UNDEFINED_ON_INITIALIZE:58,DASH_MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE:510,DASH_MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE:511,DASH_XLINK_LOADER_LOADING_FAILURE_ERROR_CODE:512,DASH_SEGMENTS_UPDATE_FAILED_ERROR_CODE:513,DASH_SEGMENTS_UNAVAILABLE_ERROR_CODE:514,DASH_SEGMENT_BASE_LOADER_ERROR_CODE:515,DASH_TIME_SYNC_FAILED_ERROR_CODE:516,DASH_FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE:517,DASH_FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE:518,DASH_URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE:519,DASH_APPEND_ERROR_CODE:520,DASH_REMOVE_ERROR_CODE:521,DASH_DATA_UPDATE_FAILED_ERROR_CODE:522,DASH_CAPABILITY_MEDIASOURCE_ERROR_CODE:523,DASH_CAPABILITY_MEDIAKEYS_ERROR_CODE:524,DASH_DOWNLOAD_ERROR_ID_MANIFEST_CODE:525,DASH_DOWNLOAD_ERROR_ID_SIDX_CODE:526,DASH_DOWNLOAD_ERROR_ID_CONTENT_CODE:527,DASH_DOWNLOAD_ERROR_ID_INITIALIZATION_CODE:528,DASH_DOWNLOAD_ERROR_ID_XLINK_CODE:529,DASH_MANIFEST_ERROR_ID_CODEC_CODE:530,DASH_MANIFEST_ERROR_ID_PARSE_CODE:531,DASH_MANIFEST_ERROR_ID_NOSTREAMS_CODE:532,DASH_TIMED_TEXT_ERROR_ID_PARSE_CODE:533,DASH_MANIFEST_ERROR_ID_MULTIPLEXED_CODE:534,DASH_MEDIASOURCE_TYPE_UNSUPPORTED_CODE:535,VIDEO_NO_PERMISSION_UNTRACKED:900,VIDEO_NO_PERMISSION_JUST_OWNER:901,VIDEO_NO_PERMISSION_BY_DAT_SCHEDULING:902,VIDEO_NO_PERMISSION_JUST_FRIENDS_UOLK:903,VIDEO_NO_PERMISSION_FOR_THIS_COUNTRY:904,VIDEO_NO_PERMISSION_BY_PRODUCT:905,VIDEO_NO_PERMISSION_ANONYMOUS:906,VIDEO_NO_PERMISSION_SUBSCRIBER:907,VIDEO_NO_PERMISSION_BY_COD_STATUS:908,VIDEO_NO_PERMISSION_BY_EDITORIAL_STATUS:909,VIDEO_REMOVED:910,AUDIO_NO_PERMISSION_UNTRACKED:930,AUDIO_NO_PERMISSION_JUST_OWNER:931,AUDIO_NO_PERMISSION_BY_DAT_SCHEDULING:932,AUDIO_NO_PERMISSION_JUST_FRIENDS_UOLK:933,AUDIO_NO_PERMISSION_FOR_THIS_COUNTRY:934,AUDIO_NO_PERMISSION_BY_PRODUCT:935,AUDIO_NO_PERMISSION_ANONYMOUS:936,AUDIO_NO_PERMISSION_SUBSCRIBER:937,AUDIO_NO_PERMISSION_BY_COD_STATUS:938,AUDIO_NO_PERMISSION_BY_EDITORIAL_STATUS:939,AUDIO_REMOVED:940}}(),UOLPlayer.ElementErrorHandler.codeErros=function(){var e={};for(var t in UOLPlayer.ElementErrorHandler.errorCodes)e[UOLPlayer.ElementErrorHandler.errorCodes[t]]=t;return e}(),UOLPlayer.ElementErrorHandler.errorTypes=function(){return{0:{message:"Este v&iacute;deo n&atilde;o &eacute; compat&iacute;vel com o seu dispositivo [Erro UV-000]",error:"Este video nao e compativel com o seu dispositivo"},1:{message:"N&atilde;o foi poss&iacute;vel encontrar o v&iacute;deo [Erro UV-001]",error:"Nao foi possivel encontrar o video"},4:{message:"Este v&iacute;deo est&aacute; indispon&iacute;vel no momento [Erro UV-004]",error:"Este video esta indisponivel no momento"},5:{message:"Para ver este v&iacute;deo, seu navegador precisa ter o Flash Player instalado [Erro UV-005]",error:"Para ver este video, seu navegador precisa ter o Flash Player instalado"},6:{message:"N&atilde;o foi poss&iacute;vel encontrar o v&iacute;deo [Erro UV-006]",error:"Nao foi possivel encontrar o video"},7:{message:"Seu navegador n&atilde;o toca v&iacute;deos no formato .mp4 [Erro UV-007]",error:"Codec nao instalado ou desativado"},8:{message:"Esta m&iacute;dia n&atilde;o existe em nosso acervo [Erro UV-008]",error:"Midia excluida ou nao encontrada"},9:{message:"Sua configura&ccedil;&atilde;o de rede est&aacute; bloqueando a transfer&ecirc;ncia de arquivos de v&iacute;deo [Erro UV-009]",error:"Bloqueio de rede"},10:{message:"Por favor, para ver o v&iacute;deo, atualize o seu navegador. [Erro UV-010]",error:"Browser depreciado e sem suporte"},11:{message:'Este formato de v&iacute;deo est&aacute; &eacute; mais suportado [Erro UV-011]<br><br>Para visualizar o v&iacute;deo, clique aqui: <a href="{mediaUrl}" target="_blank" class="up-txt-primary-color"><u>{mediaUrl}</u></a>',error:"Flash video depreciado e sem suporte"},12:{message:'Este formato de &aacute;udio n&atilde;o &eacute; mais suportado [Erro UV-012]<br><br>Para ouvir o &aacute;udio, clique aqui: <a href="{mediaUrl}" target="_blank" class="up-txt-primary-color"><u>{mediaUrl}</u></a>',error:"Flash audio depreciado e sem suporte"},20:{message:"N&atilde;o foi poss&iacute;vel carregar o v&iacute;deo. Por favor, verifique sua conex&atilde;o &agrave; internet [Erro UV-020]",error:"Nao foi possivel carregar o video. Por favor, verifique sua conexao a internet"},21:{message:"Conex&atilde;o interrompida pelo usu&aacute;rio [Erro UV-021]",error:"Conexao interrompida pelo usuario"},22:{message:"N&atilde;o foi poss&iacute;vel carregar o v&iacute;deo. Por favor, verifique sua conex&atilde;o &agrave; internet [Erro UV-022]",error:"Nao foi possivel carregar o video. Por favor, verifique sua conexao a internet"},23:{message:"O formato deste v&iacute;deo n&atilde;o &eacute; suportado pelo seu navegador [Erro UV-023]",error:"O formato deste video nao e suportado pelo seu navegador"},24:{message:"Execu&ccedil;&atilde;o do v&iacute;deo interrompida por falha&nbsp;na conex&atilde;o&nbsp;&agrave; internet [Erro UV-024]",error:"Execucao do video interrompida por falhaa conexao internet"},25:{message:"N&atilde;o foi poss&iacute;vel descriptografar o v&iacute;deo [Erro UV-025]",error:"Nao foi possivel descriptografar o video"},26:{message:"N&atilde;o foi poss&iacute;vel carregar o v&iacute;deo. Por favor, verifique sua conex&atilde;o &agrave; internet [Erro UV-026]",error:"Erro de conexao com o servidor ou resposta invalida"},27:{message:"N&atilde;o foi poss&iacute;vel carregar o v&iacute;deo. Por favor, verifique sua conex&atilde;o &agrave; internet [Erro UV-026]",error:"Vídeo sem fallback disponível"},30:{message:"N&atilde;o foi poss&iacute;vel carregar o&nbsp;&aacute;udio. Por favor, verifique sua conex&atilde;o &agrave; internet [Erro UV-030]",error:"Nao foi possivel carregar o audio. Por favor, verifique sua conexao a internet"},31:{message:"Conex&atilde;o interrompida pelo usu&aacute;rio [Erro UV-031]",error:"Conexao interrompida pelo usuario"},32:{message:"N&atilde;o foi poss&iacute;vel carregar o&nbsp;&aacute;udio. Por favor, verifique sua cone&atilde;o &agrave; internet [Erro UV-032]",error:"Nao foi possivel carregar o audio. Por favor, verifique sua conexao a internet"},33:{message:"O formato deste &aacute;udio n&atilde;o &eacute; suportado pelo seu navegador [Erro UV-033]",error:"O formato deste audio nao e suportado pelo seu navegador"},34:{message:"Execu&ccedil;&atilde;o do&nbsp;&aacute;udio interrompida por falha de conex&atilde;o&nbsp;&agrave; internet [Erro UV-034]",error:"Execucao do audio interrompida por falha de conexao internet"},35:{message:"N&atilde;o foi poss&iacute;vel descriptografar o &aacute;udio [Erro UV-035]",error:"Nao foi possivel descriptografar o audio"},36:{message:"N&atilde;o foi poss&iacute;vel carregar o v&iacute;deo. Por favor, verifique sua conex&atilde;o &agrave; internet [Erro UV-036]",error:"Erro de conexao com o servidor ou resposta invalida"},40:{message:"Execu&ccedil;&atilde;o do v&iacute;deo interrompida por falha&nbsp;na interna [Erro UV-040]",error:"Erro interno no HLS"},41:{message:"Execu&ccedil;&atilde;o do v&iacute;deo interrompida por falha&nbsp;na conex&atilde;o&nbsp;&agrave; internet [Erro UV-041]",error:"Error de internet no HLS"},42:{message:"O formato deste v&iacute;deo n&atilde;o &eacute; suportado pelo seu navegador [Erro UV-042]",error:"Erro de media no HLS"},43:{message:"Erro no HLS causado por perda de escopo [Erro UV-043]",error:"Erro no HLS causado pelo RequireJS"},44:{message:"Por favor, para reproduzir esta m&iacute;dia, &eacute; preciso liberar espa&ccedil;o para cookies em seu browser. [Erro UV-044]<br />{href}",error:"Erro causado por cookie cheio"},55:{message:"Execu&ccedil;&atilde;o do v&iacute;deo interrompida por falha&nbsp;na interna [Erro UV-055]",error:"Erro interno no DASH"},56:{message:"Execu&ccedil;&atilde;o do v&iacute;deo interrompida por falha&nbsp;na conex&atilde;o&nbsp;&agrave; internet [Erro UV-056]",error:"Error de internet no DASH"},57:{message:"O formato deste v&iacute;deo n&atilde;o &eacute; suportado pelo seu navegador [Erro UV-057]",error:"Erro de media no DASH"},58:{message:"Erro no DASH causado por perda de escopo [Erro UV-058]",error:"Erro no DASH causado pelo RequireJS"},510:{message:"Erro durante a leitura do arquivo de manifesto do v&iacute;deo [Erro UV-510]",error:"DASH_MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE"},511:{message:"Erro durante o carregamento do arquivo de manifesto do v&iacute;deo [Erro UV-511]",error:"MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE"},512:{message:"Erro durante o carregamento do xlink [Erro UV-512]",error:"DASH_XLINK_LOADER_LOADING_FAILURE_ERROR_CODE"},513:{message:"Erro no carregamento dos segmentos do v&iacute;deo [Erro UV-513]",error:"DASH_SEGMENTS_UPDATE_FAILED_ERROR_CODE"},514:{message:"Erro no carregamento dos segmentos do v&iacute;deo [Erro UV-514]",error:"DASH_SEGMENTS_UNAVAILABLE_ERROR_CODE"},515:{message:"Erro no carregamento dos segmentos do v&iacute;deo [Erro UV-515]",error:"DASH_SEGMENT_BASE_LOADER_ERROR_CODE"},516:{message:"Erro de sincronia o v&iacute;deo [Erro UV-516]",error:"DASH_TIME_SYNC_FAILED_ERROR_CODE"},517:{message:"Erro no carregamento dos fragmentos do v&iacute;deo [Erro UV-517]",error:"DASH_FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE"},518:{message:"Erro no carregamento dos fragmentos do v&iacute;deo [Erro UV-518]",error:"DASH_FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE"},519:{message:"Erro na resolução da URL do v&iacute;deo [Erro UV-519]",error:"DASH_URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE"},520:{message:"Erro ao criar dash [Erro UV-520]",error:"DASH_APPEND_ERROR_CODE"},521:{message:"Erro ao remover dash [Erro UV-521]",error:"DASH_REMOVE_ERROR_CODE"},522:{message:"Erro no carregamento dos dados [Erro UV-522]",error:"DASH_DATA_UPDATE_FAILED_ERROR_CODE"},523:{message:"Formato n&atilde;o suportado pelo navegador [Erro UV-523]",error:"DASH_CAPABILITY_MEDIASOURCE_ERROR_CODE"},524:{message:"Formato protegido n&atilde;o suportado pelo navegador [Erro UV-524]",error:"DASH_CAPABILITY_MEDIAKEYS_ERROR_CODE"},525:{message:"Erro durante o download do v&iacute;deo [Erro UV-525]",error:"DASH_DOWNLOAD_ERROR_ID_MANIFEST_CODE"},526:{message:"Erro durante o download do v&iacute;deo [Erro UV-526]",error:"DASH_DOWNLOAD_ERROR_ID_SIDX_CODE"},527:{message:"Erro durante o download do v&iacute;deo [Erro UV-527]",error:"DASH_DOWNLOAD_ERROR_ID_CONTENT_CODE"},528:{message:"Erro durante o download do v&iacute;deo [Erro UV-528]",error:"DASH_DOWNLOAD_ERROR_ID_INITIALIZATION_CODE"},529:{message:"Erro durante o download do v&iacute;deo [Erro UV-529]",error:"DASH_DOWNLOAD_ERROR_ID_XLINK_CODE"},530:{message:"Codec n&atilde;o suportado [Erro UV-530]",error:"DASH_MANIFEST_ERROR_ID_CODEC_CODE"},531:{message:"Erro durante o carregamento do arquivo de manifesto do v&iacute;deo [Erro UV-531]",error:"DASH_MANIFEST_ERROR_ID_PARSE_CODE"},532:{message:"Erro durante o carregamento do arquivo de manifesto do v&iacute;deo [Erro UV-532]",error:"DASH_MANIFEST_ERROR_ID_NOSTREAMS_CODE"},533:{message:"Erro durante carregamento de legendas [Erro UV-533]",error:"DASH_TIMED_TEXT_ERROR_ID_PARSE_CODE"},534:{message:"Formato MUXED n&atilde;o suportado  [Erro UV-534]",error:"DASH_MANIFEST_ERROR_ID_MULTIPLEXED_CODE"},535:{message:"Formato de m&iacute;dia n&atilde;o suportado [Erro UV-535]",error:"DASH_MEDIASOURCE_TYPE_UNSUPPORTED_CODE"},900:{message:"Desculpe, n&atilde;o &eacute; poss&iacute;vel exibir o v&iacute;deo desejado [Erro UV-900]",error:"VIDEO_NO_PERMISSION_UNTRACKED"},901:{message:"Desculpe, este v&iacute;deo s&oacute; pode ser visualizado por seu autor [Erro UV-901]",error:"VIDEO_NO_PERMISSION_JUST_OWNER"},902:{message:"Desculpe, este v&iacute;deo n&atilde;o est&aacute; dispon&iacute;vel no momento [Erro UV-902]",error:"VIDEO_NO_PERMISSION_BY_DAT_SCHEDULING"},903:{message:"Desculpe, este v&iacute;deo s&oacute; pode ser visualizado por amigos do autor [Erro UV-903]",error:"VIDEO_NO_PERMISSION_JUST_FRIENDS_UOLK"},904:{message:"Desculpe, por motivo de direitos autorais, este v&iacute;deo s&oacute; pode ser visto em territ&oacute;rio brasileiro [Erro UV-904]",error:"VIDEO_NO_PERMISSION_FOR_THIS_COUNTRY"},905:{message:"Este v&iacute;deo &eacute; exclusivo para assinantes UOL [Erro UV-905]",error:"VIDEO_NO_PERMISSION_BY_PRODUCT"},906:{message:"Desculpe, n&atilde;o &eacute; poss&iacute;vel exibir o v&iacute;deo desejado [Erro UV-906]",error:"VIDEO_NO_PERMISSION_ANONYMOUS"},907:{message:"Este v&iacute;deo &eacute; exclusivo para assinantes UOL [Erro UV-907]",error:"VIDEO_NO_PERMISSION_SUBSCRIBER"},908:{message:"Desculpe, n&atilde;o &eacute; poss&iacute;vel exibir o v&iacute;deo desejado [Erro UV-908]",error:"VIDEO_NO_PERMISSION_BY_COD_STATUS"},909:{message:"Desculpe, n&atilde;o &eacute; poss&iacute;vel exibir o v&iacute;deo desejado [Erro UV-909]",error:"VIDEO_NO_PERMISSION_BY_EDITORIAL_STATUS"},910:{message:"Esta m&iacute;dia n&atilde;o existe em nosso acervo [Erro UV-910]",error:"VIDEO_REMOVED"},930:{message:"Desculpe, n&atilde;o &eacute; poss&iacute;vel executar o &aacute;udio desejado [Erro UV-930]",error:"AUDIO_NO_PERMISSION_UNTRACKED"},931:{message:"Desculpe, este &aacute;udio s&oacute; pode ser executado por seu autor [Erro UV-931]",error:"AUDIO_NO_PERMISSION_JUST_OWNER"},932:{message:"Desculpe, este &aacute;udio n&atilde;o est&aacute; dispon&iacute;vel no momento [Erro UV-932]",error:"AUDIO_NO_PERMISSION_BY_DAT_SCHEDULING"},933:{message:"Desculpe, este &aacute;udio s&oacute; pode ser executado por amigos do autor [Erro UV-933]",error:"AUDIO_NO_PERMISSION_JUST_FRIENDS_UOLK"},934:{message:"Desculpe, este &aacute;udio s&oacute; pode ser executado por internautas no Brasil [Erro UV-934]",error:"AUDIO_NO_PERMISSION_FOR_THIS_COUNTRY"},935:{message:"Este &aacute;udio &eacute; exclusivo para assinantes UOL [Erro UV-935]",error:"AUDIO_NO_PERMISSION_BY_PRODUCT"},936:{message:"Desculpe, n&atilde;o &eacute; poss&iacute;vel executar o &aacute;udio desejado [Erro UV-936]",error:"AUDIO_NO_PERMISSION_ANONYMOUS"},937:{message:"Este &aacute;udio &eacute; exclusivo para assinantes UOL [Erro UV-937]",error:"AUDIO_NO_PERMISSION_SUBSCRIBER"},938:{message:"Desculpe, n&atilde;o &eacute; poss&iacute;vel executar o &aacute;udio desejado [Erro UV-938]",error:"AUDIO_NO_PERMISSION_BY_COD_STATUS"},939:{message:"Desculpe, n&atilde;o &eacute; poss&iacute;vel executar o &aacute;udio desejado [Erro UV-939]",error:"AUDIO_NO_PERMISSION_BY_EDITORIAL_STATUS"},940:{message:"Este &aacute;udio n&atilde;o existe em nosso acervo [Erro UV-940]",error:"AUDIO_REMOVED"}}}(),UOLPlayer.ElementErrorHandler.logMessage=function(e){var t=UOLPlayer.ElementErrorHandler.errorTypes[e];return{typeError:e,enumError:UOLPlayer.ElementErrorHandler.codeErros[e],mensagem:t.message,erro:t.error}},UOLPlayer.ElementErrorHandler.getSample=function(e,t){UOLPlayer.ajax({url:UOLPlayer["const"].urls.SAMPLES+"file."+e,data:"__rand="+Math.random(),success:t,timeout:t,error:t,corsFallback:!1,withCredentials:!1})},UOLPlayer.ElementErrorHandler.requestFirstBytes=function(e,t){UOLPlayer.ajax({url:e,headers:{Range:"bytes=0-2"},corsFallback:!1,success:t,timeout:t,error:t})},UOLPlayer.ElementErrorHandler.resolveFallbackURL=function(e,t,a){var r=function(i,s){t.indexOf("video.m.mais.uol.com.br")!==-1&&(e.externalCDN=null!==i.match(/cdn=true/i)),"function"==typeof a&&(a(i,s),r=function(){})},i=new UOLPlayer.Chronometer(t);if(i.start(),t.indexOf("video.m.mais.uol.com.br")===-1)return r(t);var s=function(a,s,o){if(413===s)return void e.setError(UOLPlayer.ElementErrorHandler.errorCodes.PAYLOAD_TOO_LARGE);if(UOLPlayer.Profiler.trackServer("videom",i.stop().elapsedTime.time,s),!o||!o.headers||!o.headers["x-urlredir-header"])return r(t);var n=encodeURI((o.headers["x-access-token"]+"").trim()),l=encodeURI((o.headers["x-access-sign"]+"").trim());t=(o.headers["x-urlredir-header"]+"").trim(),t+=t.indexOf("?")===-1?"?":"&",t+="token="+n+"&sign="+l,r(t,{token:n,sign:l})};UOLPlayer.ajax({url:t,method:"head",success:s,timeout:s,error:s})},UOLPlayer.ElementErrorHandler.checkNetworkBlocking=function(e){var t=["bmp","mp3","mp4","pdf","png","svg","swf","wav","zip"],a={},r=3,i=function(t){i=function(){},e(t)},s=function(e){var o=t.shift();o?UOLPlayer.ElementErrorHandler.getSample(o,function(i,n,l){return 200!==n&&e>=0?(t.unshift(o),s(--e)):(a[o]=n,void s(r))}):i(a)};s(r)},UOLPlayer.ElementErrorHandler.logHeaders=function(e,t,a,r){for(var i in r)e.headers[i]=r[i];e.headers.status=a,e.headers.server=t;for(var s=0,o=e.logHeaders.length;s<o;++s)e.headers[e.logHeaders[s]]},UOLPlayer.ElementErrorHandler.extractServerFromUrl=function(e){var t=/^(?:https?:)?(?:\/\/)?(.+?(?:\.m)?)\./,a=e.toString().match(t);return a=a?a.pop():"unknown",a.replace(/\W/gi,"")},UOLPlayer.ElementErrorHandler.extractMediaHeaders=function(e,t){var a=UOLPlayer.ElementErrorHandler.extractServerFromUrl(t);UOLPlayer.ElementErrorHandler.requestHeaders(t,function(t,r,i){var s=0;i.loadedAt&&i.loadedAt.elapsedTime&&(s=i.loadedAt.elapsedTime.time),UOLPlayer.Profiler.trackServer(a,s,t),UOLPlayer.ElementErrorHandler.logHeaders(e,a,t,r)})},UOLPlayer.ElementErrorHandler.parseHeaders=function(e){var t={},a="";try{a=e.getAllResponseHeaders()}catch(r){}return a&&a.trim().split("\n").forEach(function(e){e=e.split(": "),t[e[0].toLowerCase()]=e[1]}),t},UOLPlayer.ElementErrorHandler.requestHeaders=function(e,t){UOLPlayer.ElementErrorHandler.requestFirstBytes(e,function(e,a,r){var i=UOLPlayer.ElementErrorHandler.parseHeaders(r);t(a,i,r)})},UOLPlayer.ElementErrorHandler.logFetchedResult=function(e,t){for(var a in t)e.tracker.pushState("fetch_"+a,t[a],0)},UOLPlayer.ElementErrorHandler.mediaElementErrorHanlder=function(e,t){var a=e,r=t,i=function(){var e=0;r&&r.error?e=r.error.code:void 0===r.maxReadyState&&(e=6),"audio"===r.nodeName.toLowerCase()?a.setError(UOLPlayer.ElementErrorHandler.errorCodes.AUDIO_SOURCE_UNKNOWN_ERROR+e):a.setError(UOLPlayer.ElementErrorHandler.errorCodes.VIDEO_SOURCE_UNKNOWN_ERROR+e)},s=function(e){return UOLPlayer.ElementErrorHandler.logFetchedResult(a,e),200!==e.mp4&&void 0===r.maxReadyState&&200===e.png&&200===e.svg&&200===e.bmp?a.setError(UOLPlayer.ElementErrorHandler.errorCodes.NETWORK_BLOCKING_MP4):void i()};UOLPlayer.ElementErrorHandler.requestFirstBytes(r.src,function(t,a){return 413===a||400===a?void e.setError(UOLPlayer.ElementErrorHandler.errorCodes.PAYLOAD_TOO_LARGE):void UOLPlayer.ElementErrorHandler.checkNetworkBlocking(s)})},UOLPlayer.ElementErrorHandler.supportUrls={cookies:{chrome:{desktop:"https://support.google.com/chrome/answer/95647?co=GENIE.Platform%3DDesktop&hl=pt",android:"https://support.google.com/chrome/answer/95647?co=GENIE.Platform%3DAndroid&hl=pt&oco=1",ios:"https://support.google.com/chrome/answer/95647?co=GENIE.Platform%3DiOS&hl=pt&oco=1"},firefox:{desktop:"https://support.mozilla.org/pt-BR/kb/exclua-cookies-para-remover-info-armazenadas"},safari:{desktop:"https://support.apple.com/pt-br/guide/safari/manage-cookies-and-website-data-sfri11471/mac",ios:"https://support.apple.com/pt-br/HT201265"}}},UOLPlayer.Backbone=function(e){var t={init:function(){e.exp=new UOLPlayer.exp(e),e.rtlog=new UOLPlayer.realtimeLog(e,e.wsserver,e.messagesBuffer),UOLPlayer.isIframe&&UOLPlayer.toBoolean(UOLPlayer.urlParameter.detach)&&(e.Detach=new UOLPlayer.Iframe.Detach(e)),e.logCreated(),e.rtlog.append(e.rtlog.actions.types.created),e.autorep&&e.wrapper.addClass("up-with-autorep"),window.addEventListener("resize",e.checkSize.bind(e))},started:function(){e.wrapper.hasClass("up-started")||(UOLPlayer.onInit(e),e.wrapper.addClass("up-started"))},playing:function(){e.wrapper.hasClass("up-playing")||(UOLPlayer.onPlay(e),e.wrapper.addClass("up-playing").removeClass("up-waiting").removeClass("up-loading"))},loading:function(){e.wrapper.addClass("up-loading").removeClass("up-changemedia")},waiting:function(){e.wrapper.addClass("up-waiting")},ended:function(){UOLPlayer.EndScreen(e),UOLPlayer.onEnd(e),e.wrapper.hasClass("up-with-autorep")&&UOLPlayer.Autorep(e),e.detach.detachPlayer(!1),e.wrapper.addClass("up-ended").removeClass("up-playing")},changeMedia:function(){e.wrapper.addClass("up-changemedia"),e.rtlog.append(e.rtlog.actions.types.mediaChanged),e.rtlog.disconnect()},destroy:function(){e.related&&e.related.destroy(),e.rtlog.disconnect()}},a={core:t,window:{focus:function(){e.rtlog.append(e.rtlog.actions.types.windowFocused)},blur:function(){e.rtlog.append(e.rtlog.actions.types.windowBlurred)}},data:{parsed:function(){UOLPlayer.onReady(e),e.UI.init.call(e),e.UI.checkPoster.call(e),e.wrapper.getElementsByClassName("up-duration")[0].innerHTML=e.data.item.duration.formatted,UOLPlayer.Title(e),e.share=UOLPlayer.Share(e),e.rtlog.append(e.rtlog.actions.types.dataParsed)}},markup:{mounted:function(){e.message=new UOLPlayer.Message(e)}},mediaelement:{mounted:function(e){}},video:{begin:function(){e.rtlog.append(e.rtlog.actions.types.mediaStarted)},start:function(){e.wrapper.removeClass("up-waiting").removeClass("up-playing-ad").removeClass("up-loading-ad"),e.wrapper.hasClass("up-playing-video")||(t.playing(),e.wrapper.addClass("up-playing-video"),e.related=new UOLPlayer.Related(e),UOLPlayer.Subtitle(e),UOLPlayer.Resume(e),"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e.data.item.title,artist:e.data.item.author}),e.data.item.thumbnail&&(navigator.mediaSession.metadata.artwork=[{src:e.data.item.thumbnail}])),e.metrics&&e.metrics.video.start(),e.rtlog.append(e.rtlog.actions.types.play))},rejected:function(){e.wrapper.removeClass("up-started")},pause:function(){if(!e.wrapper.hasClass("up-changemedia")){e.wrapper.hasClass("up-loading")||e.wrapper.removeClass("up-hideall").addClass("up-paused"),
e.pauseCounts+=1,UOLPlayer.onPause(e);var t=t||e.wrapper.getElementsByClassName("up-pause-overlay")[0];!UOLPlayer.isMobile&&e.related&&e.related.horizontalList&&e.related.horizontalList(t),e.metrics&&e.metrics.video.pause(),e.rtlog.append(e.rtlog.actions.types.paused)}},resume:function(){UOLPlayer.onResume(e),e.wrapper.removeClass("up-paused"),e.metrics&&e.metrics.video.resume(),e.rtlog.append(e.rtlog.actions.types.resumed)},end:function(){e.wrapper.removeClass("up-paused").removeClass("up-playing-video"),e.metrics&&e.metrics.video.end(),e.rtlog.append(e.rtlog.actions.types.ended)},restart:function(){e.wrapper.addClass("up-playing").addClass("up-playing-video").removeClass("up-ended")},seeking:function(){e.metrics&&e.metrics.video.seeking(),e.rtlog.append(e.rtlog.actions.types.seeking)},seeked:function(){e.metrics&&e.metrics.video.seeked(),e.wrapper.removeClass("up-waiting").removeClass("up-loading"),e.rtlog.append(e.rtlog.actions.types.seeked)},rewind:function(t){e.rtlog.append(e.rtlog.actions.types.rewind)},forward:function(t){e.rtlog.append(e.rtlog.actions.types.forward)},progress:function(){e.rtlog.append(e.rtlog.actions.types.progressUpdate)},volumeChange:function(){e.rtlog.append(e.rtlog.actions.types.volumeChanged)},rebuffered:function(){e.rtlog.append(e.rtlog.actions.types.rebuffered)},onChangedQuality:function(t){e.rtlog.append(e.rtlog.actions.types.qualityChanged,t)}},ad:{metadata:function(t){e.rtlog.append(e.rtlog.actions.types.adMetaData,t)},click:function(t){e.rtlog.append(e.rtlog.actions.types.adClicked,t)},load:function(){e.rtlog.append(e.rtlog.actions.types.adLoaded)},loading:function(){e.wrapper.addClass("up-loading-ad")},start:function(a){t.playing(),e.wrapper.addClass("up-playing-ad").removeClass("up-paused").removeClass("up-waiting").removeClass("up-loading").removeClass("up-loading-ad"),e.metrics&&e.metrics.ad.start(),e.ads&&UOLPlayer.onAdInit(e.ads.getAdPosition()),e.rtlog.append(e.rtlog.actions.types.adStarted,a)},pause:function(t){e.wrapper.addClass("up-paused"),e.metrics&&e.metrics.ad.pause(),e.rtlog.append(e.rtlog.actions.types.adPaused,t)},resume:function(t){e.wrapper.removeClass("up-paused"),e.rtlog.append(e.rtlog.actions.types.adResumed,t)},timeout:function(t){e.rtlog.append(e.rtlog.actions.types.adTimeout,t)},skipped:function(t){e.wrapper.removeClass("up-playing-ad"),e.clearMute(),e.metrics&&e.metrics.ad.skipped(),e.ads&&UOLPlayer.onAdEnd(e.ads.getAdPosition()),e.rtlog.append(e.rtlog.actions.types.adSkipped,t)},ended:function(t){e.wrapper.removeClass("up-playing-ad").removeClass("up-loading-ad"),e.metrics&&e.metrics.ad.ended(),e.ads&&UOLPlayer.onAdEnd(e.ads.getAdPosition()),e.rtlog.append(e.rtlog.actions.types.adCompleted,t)},progress:function(t){e.rtlog.append(e.rtlog.actions.types.adProgressUpdate,t)},volumeChange:function(t){e.rtlog.append(e.rtlog.actions.types.adVolumeChanged,t)},rebuffering:function(t){e.rtlog.append(e.rtlog.actions.types.adVolumeChanged,t)},error:function(e){}},ui:{mouseover:function(){e.wrapper.addClass("mouseover").removeClass("up-hideall")},mouseout:function(){e.wrapper.removeClass("mouseover").addClass("up-hideall")},progressbar:{mouseover:function(){},mouseout:function(){}}}},r=function(t){var a=e.getFullState();if(t=window.event?window.event:t,e.keyboardState={key:t.key||t.keyCode,code:t.code||t.charCode,location:t.location,altKey:t.altKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,shiftKey:t.shiftKey,repeat:t.repeat},(a===UOLPlayer.PLAYINGVIDEO||a===UOLPlayer.PLAYINGAUDIO||a===UOLPlayer.VIDEOPAUSED)&&e.mediaPlayer)switch(t.keyCode){case 32:e.onClick();break;case 37:e.mediaPlayer&&e.mediaPlayer.rewind();break;case 38:e.mediaPlayer&&e.mediaPlayer.volumeUp();break;case 39:e.mediaPlayer&&e.mediaPlayer.forward();break;case 40:e.mediaPlayer&&e.mediaPlayer.volumeDown()}}.bind(this),i=function(t){e.onDemandClicked=!1,e.autoplay=!0,e.wrapper.hasClass("up-loading")||(UOLPlayer.inView(e.wrapper,!0)&&!e.wrapper.hasClass("up-started")?(e.run(),e.options.viewport.out.pause||document.removeEventListener("scroll",i)):e.wrapper.hasClass("up-started")&&(UOLPlayer.inView(e.wrapper,!0)&&"paused"===e.getState()?e.play():UOLPlayer.inView(e.wrapper,!0)||e.pause(),e.wrapper.hasClass("_mute")||document.removeEventListener("scroll",i)))}.bind(this);return!e.options.viewport["in"].play&&!e.options.viewport.out.pause||UOLPlayer.isMobile||document.addEventListener("scroll",i),document.addEventListener("keydown",r),a},UOLPlayer.exp=function(e){this.app=e;var t={};t.TIMEOUT_DFP={type:"timeoutDfp",persist:!1},t.DASH_LIB_EXPERIMENT={type:"dashExperiment",persist:!0};var a,r,i,s=function(t,a){var r=t,i=!1,s="none",o=void 0,n=void 0,l={};return{init:function(){i=e.activeExperiment===r},draw:function(){if(this.app.testName=l.expName=s=r,i){if(o&&a)return this.app.logger.logTEST("PERSISTINDO EXPERIMENTO "+s),this.app.logger.logTEST("RESULTADO DO EXPERIMENTO "+n),n;this.app.testParticipant=l.expParticipant=o=!0,Math.random()>=.5?l.expResult=n=!0:l.expResult=n=!1,this.app.testResult=n,this.app.logger.logTEST("PARTICIPANTE DO EXPERIMENTO "+s),this.app.logger.logTEST("RESULTADO DO EXPERIMENTO "+n)}else this.app.logger.logTEST("NAO PARTICIPANTE DO EXPERIMENTO "+s),this.app.testParticipant=l.expParticipant=o=!1,this.app.testResult=l.expResult=n=!1;return this.app.tracker&&this.app.tracker.pushStates.apply(this.app.tracker,UOLPlayer.objectEntries(l)),n}.bind(this),setInfo:function(e){l=UOLPlayer.mergeObject(l,e),this.app.tracker&&this.app.tracker.pushStates.apply(this.app.tracker,UOLPlayer.objectEntries(l))}.bind(this),getInfo:function(){return l}}}.bind(this),o={type:{}};for(a in t)r=t[a].type,i=t[a].persist,o.type[a]=r,o[r]=s(r,i);return o},UOLPlayer.prototype.onClick=function(){if(!this.playerStarted){var e=function(){this.backbone.core.loading(),this.autoplay||this.run()}.bind(this);"function"==typeof this.clickBait?this.clickBait(e):e(),this.playerStarted=!0,this.chronoFirstMilestone.start(),this.backbone.core.started()}if(this.ads&&!this.adsDone)return this.ads.initialUserAction(),this.chronoVideoBegin.resume(),void this.mediaPlayer.preloadContent(function(){this.chronoVideoBegin.pause(),this.mediaPlayer.pause(),this.ads.requestAds(),this.adsDone=!0}.bind(this));var t=UOLPlayer.getCurrentMedia();void 0!==t&&t!==this&&t.deactivate(),this.adsActive?this.ads.paused?this.ads.resume():this.ads.pause():(this.mediaPlayer.mediaElement.playing?this.mediaPlayer.pause():(this.setVideoEndedCallbackEnabled(!0),this.chronoVideoBegin.resume(),this.mediaPlayer.play(),this.wrapper.hasClass("up-ended")&&(this.backbone.video.restart(),this.mediaPlayer.seek(0))),playing=this.mediaPlayer.mediaElement.playing)},UOLPlayer.prototype.play=UOLPlayer.prototype.onClick,UOLPlayer.prototype.pause=function(){this.adsActive?this.ads.paused||this.ads.pause():this.mediaPlayer.mediaElement.playing&&this.mediaPlayer.pause()},UOLPlayer.realtimeLog=function(e){var t=(e.mediaId,"WebSocket"in window||"MozWebSocket"in window,UOLPlayer.version,{types:{connected:"CONNECTED",disconnected:"DISCONNECTED",reconnected:"RECONNECTED",dataParsed:"DATAPARSED",windowBlurred:"WINDOWBLURRED",windowFocused:"WINDOWFOCUSED",adRequested:"ADREQUESTED",adStarted:"ADSTARTED",adSkipped:"ADSKIPPED",adError:"ADERROR",adTimeout:"ADTIMEOUT",adCompleted:"ADCOMPLETED",adPaused:"ADPAUSED",adResumed:"ADRESUMED",adMetaData:"ADMETADATA",adLoaded:"ADLOADED",adClicked:"ADCLICKED",adVolumeChanged:"ADVOLUMECHANGED",adProgressUpdate:"ADPROGRESSUPDATE",created:"CREATED",mediaLoad:"MEDIALOAD",playerStarted:"PLAYERSTARTED",mediaStarted:"MEDIASTARTED",progressUpdate:"PROGRESSUPDATE",mediaFinished:"MEDIAFINISHED",recommended:"RECOMMENDED",related:"RELATED",shared:"SHARED",play:"PLAY",paused:"PAUSED",resumed:"RESUMED",rebuffered:"REBUFFERED",qualityChanged:"QUALITYCHANGED",error:"ERROR",volumeChanged:"VOLUMECHANGED",forwarded:"FORWARDED",rewinded:"REWINDED",seeking:"SEEKING",seeked:"SEEKED",detached:"DETACHED",detachedClose:"DETACHEDCLOSE",waiting:"WAITING",ended:"ENDED",mediaChanged:"MEDIACHANGED",fullScreenResized:"FULLSCREENRESIZED"}});return{actions:t,append:function(){},disconnect:function(){}}},UOLPlayer.Resume=function(e){if(UOLPlayer.storageEnabled&&e.useResume){var t,a,r=5,i=5,s=e.data.item.duration.seconds-30,o=0,n=0,l=0,d=0,p=20,u="UOLPlayer-resume",c=new Date,m=30,h=c.setDate(c.getDate()-m),y=Date.now(),g=UOLPlayer.parseResponse(localStorage.getItem(u))||[];g="string"==typeof g?[]:g;for(var v,f=0;f<g.length;f++)v=g[f],v.createdAt<h&&(g.splice(f,1),f--);for(f in g)g[f].mediaId===e.mediaId&&(a=f);a?(t=g[a],t.createdAt=y):(g.length>=p&&g.splice(0,1),t={mediaId:e.mediaId,time:0,perc:0,viewed:!1,createdAt:y},a=g.push(t));var P=function(a){l=e.mediaPlayer.getCurrentTime(),d=e.mediaPlayer.getCurrentPerc(),n=l%r,0===n&&o!==l&&(l>=i&&l<=s?(o=l,t.time=o,t.perc=d,localStorage.setItem(u,JSON.stringify(g))):l>=s&&(t.time=0,t.perc=0,t.viewed=!0,localStorage.setItem(u,JSON.stringify(g)),e.mediaPlayer.removeEventListener("timeupdate",P)))}.bind(this);e.mediaPlayer.registerEventListener("timeupdate",P)}},UOLPlayer.Resume.get=function(e){if(UOLPlayer.storageEnabled){var t=UOLPlayer.parseResponse(localStorage.getItem("UOLPlayer-resume"));if(!t)return 0;for(var a=0,r=t.length;a<r;){if(t[a].mediaId===e)return t[a];a++}}return 0},UOLPlayer.EndScreen=function(e){var t=e.wrapper.getElementsByClassName("up-end-screen")[0],a=e.wrapper.getElementsByClassName("up-top")[0],r=e.wrapper.getElementsByClassName("up-ctrlbar")[0],i=0,s=0,o=function n(){var e=a.getInnerSize(),o=r.getInnerSize();return i!==e.outerHeight&&(t.style.top=e.outerHeight+"px"),s!==o.outerHeight&&(t.style.bottom=o.outerHeight+"px"),i=e.outerHeight,s=o.outerHeight,n}();window.addEventListener("resize",o),e.options.related.enabled?(t.style.display="block",e.wrapper.addClass("up-with-end-screen"),e.related=e.related||new UOLPlayer.Related(e),setTimeout(function(){o(),e.related.wall(t)},500)):e.options.share.enabled&&!e.options.playlist.enabled&&e.share.show()},UOLPlayer.prototype.Markup={mount:function(){var e=function(e,t){var a=UOLPlayer.urlParameter.cors?"crossorigin="+UOLPlayer.urlParameter.cors:"",r=UOLPlayer.urlParameter.controls?"controls":"";this.btPlayMarkup=UOLPlayerUI.btPlayMarkup.replace(/\{\{this.app.forwardRewindBase\}\}/g,this.forwardRewindBase),this.ctrlBarMarkup=UOLPlayerUI.controlbarMarkup,this.autorepMarkup="",this.startMuteMarkup='<div class="up-startmute up-bt"></div>',this.preloadMarkup=this.wrapper.hasClass("up-preload")?"":'<div class="up-preload"><div class="up-poster"></div><div class="up-icon up-preload-spinner"></div></div>',this.markup=this.preloadMarkup+this.startMuteMarkup+'<audio class="audio-element" type="audio/mpeg"></audio><video  '+r+" "+a+" "+(this.autoplay&&UOLPlayer.isMobile?"autoplay":"")+' playsinline class="video-element" type="video/mp4"></video><div class="up-gradient-top"></div><div class="up-gradient-bottom"></div><div class="up-top"><div class="up-top-buttons"></div></div><div class="up-pause-overlay"></div><div class="up-init-screen"><div class="up-duration"></div></div><div class="up-end-screen"></div><div class="ui" style="display:none"><div class="up-subtitle display-none"><span class="up-subtitle-content"><p></p></span></div><div class="up-message"></div>'+this.ctrlBarMarkup+this.autorepMarkup+'<div class="up-for-ad"><div class="up-ad-visit-advertiser"><div class="up-ad-text">Visitar anunciante</div></div><div class="up-ad-countdown"><div class="up-ad-text">Publicidade &#8226; <span class="up-ad-remaining-time"></span></div></div><div class="up-ad-progress"><div class="up-ad-bar"></div></div></div><div class="up-error display-none"><p>Este v&iacute;deo est&aacute; indispon&iacute;vel no momento</p></div>'+this.btPlayMarkup+'</div><div class="up-ad-container"></div>',this.wrapper.appendHtml('<div class="uolplayer-container"><div class="uolplayer-elements">'+this.markup+"</div></div>"),this.wrapper.setData("materialized",!0),e()};return this.markupPromise=this.markupPromise||new UOLPlayer.Promise(e.bind(this)),this.backbone.markup.mounted(),this.markupPromise}},UOLPlayerUI.prototype.MouseEvents=function(){var e,t;UOLPlayer.eventsControl.call(this),this.events={mouseover:new UOLPlayer.customEvents,mouseout:new UOLPlayer.customEvents};var a=function(){return t="mouseover",this.app.backbone.ui.mouseover(),this.events.mouseover.dispatch(),a}.bind(this),r=function(a){a&&a.isTrusted===!1||(t="mouseout",this.app.backbone.ui.mouseout(),this.events.mouseout.dispatch(),clearTimeout(e))}.bind(this),i=function(){"mousemove"!==t&&a(),t="mousemove",s()}.bind(this),s=function(){clearTimeout(e),e=setTimeout(function(){clearTimeout(e),t="timeout",this.app.wrapper.hasClass("up-paused")&&!UOLPlayer.isMobile||r()}.bind(this),this.timeoutMouseout)}.bind(this);this.wrapper.addEventListener(UOLPlayer.isMobile?"touchstart":"mouseover",a,UOLPlayer.supportsPassive),UOLPlayer.isMobile?this.wrapper.addEventListener("touchend",s,UOLPlayer.supportsPassive):this.wrapper.addEventListener("mouseout",r),this.wrapper.addEventListener(UOLPlayer.isMobile?"touchmove":"mousemove",i,UOLPlayer.supportsPassive),r()},UOLPlayer.Title=function(e){if(e.options.title.enabled&&!(e.wrapper.getElementsByClassName("up-related").length>0)){e.wrapper.addClass("up-with-title");var t=e.wrapper.getElementsByClassName("up-top")[0],a=UOLPlayer.domNode("div").addClass("up-title"),r=UOLPlayer.domNode("h2").addClass("up-title-text"),i=UOLPlayer.domNode("div").addClass("up-title-author"),s=UOLPlayer.domNode("div").addClass("up-title-channel");a.appendChild(r),a.appendChild(i),a.appendChild(s),t.appendChild(a),r.innerText=e.data.item.title,i.innerText=e.data.item.author,s.style.backgroundImage="url(//"+e.data.item.codProfile+".avataruol.com.br/avatar.jpg)"}},UOLPlayer.Iframe={Detach:function(e){var t=e.wrapper.getElementsByClassName("up-bt-detach")[0],a=e.wrapper.getElementsByClassName("uolplayer-container")[0],r=UOLPlayer.domNode("I").addClass("up-bt up-bt-detach-close");a.appendChild(r),t.show();var i=function(){UOLPlayer.events.send("UOLPlayer.controlDetach")},s=function(t){t.state===UOLPlayer.Detach.states.DETACHED?(a.addClass("up-detach-active"),e.wrapper.addClass("_small")):(a.removeClass("up-detach-active"),e.wrapper.removeClass("_small")),e.resize({width:t.width,height:t.height})};return t.addEventListener("click",i),r.addEventListener("click",i),{onDetach:s}}},UOLPlayer.customEvents=function(){var e=this;this._bindings=[];var t=function(t){a(t),e._bindings.push(t)},a=function(t){UOLPlayer.each(e._bindings,function(a,r){t===a&&e._bindings.splice(r,1)})},r=function(t){UOLPlayer.each(e._bindings,function(e,a){e.call(this,t)})};return{add:t,remove:a,dispatch:r}},UOLPlayer.eventsControl=function(){this.events={},this.registerEventListener=function(e,t){this.events[e]?this.events[e].add(t):UOLPlayer.w("Evento inexistente: "+e)},this.removeEventListener=function(e,t){this.events[e].remove(t)}},"function"!=typeof UOLPlayer.decycle&&(UOLPlayer.decycle=function(e,t){"use strict";var a=new WeakMap;return function r(e,i){var s,o;return void 0!==t&&(e=t(e)),"object"!=typeof e||null===e||e instanceof Boolean||e instanceof Date||e instanceof Number||e instanceof RegExp||e instanceof String?e:(s=a.get(e),void 0!==s?{$ref:s}:(a.set(e,i),Array.isArray(e)?(o=[],e.forEach(function(e,t){o[t]=r(e,i+"["+t+"]")})):(o={},Object.keys(e).forEach(function(t){o[t]=r(e[t],i+"["+JSON.stringify(t)+"]")})),o))}(e,"$")}),"function"!=typeof UOLPlayer.retrocycle&&(UOLPlayer.retrocycle=function retrocycle($){"use strict";var px=/^\$(?:\[(?:\d+|"(?:[^\\"\u0000-\u001f]|\\([\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*")\])*$/;return function rez(value){value&&"object"==typeof value&&(Array.isArray(value)?value.forEach(function(element,i){if("object"==typeof element&&null!==element){var path=element.$ref;"string"==typeof path&&px.test(path)?value[i]=eval(path):rez(element)}}):Object.keys(value).forEach(function(name){var item=value[name];if("object"==typeof item&&null!==item){var path=item.$ref;"string"==typeof path&&px.test(path)?value[name]=eval(path):rez(item)}}))}($),$}),UOLPlayer.Filter=function(e,t){if(void 0===e||null===e)throw new TypeError;var a=Object(e),r=a.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=[],s=arguments.length>=2?arguments[1]:void 0,o=0;o<r;o++)if(o in a){var n=a[o];t.call(s,n,o,a)&&i.push(n)}return i},UOLPlayer.events={send:function(e,t){t=t||"*",parent.postMessage(e,t)},receive:function(e){if(UOLPlayer.isIframe&&"object"==typeof e.data&&e.data.event&&e.data.event.indexOf("UOLPlayer.")!==-1){var t=e.data.event.replace("UOLPlayer.","").split("."),a=UOLPlayer[UOLPlayer.mediaId];try{t.length>1?a[t[0]][t[1]](e.data.data||{}):a[t[0]](e.data.data||{})}catch(e){}}},onReady:function(){UOLPlayer.events.send("UOLPlayer.onReady")},onInit:function(){UOLPlayer.events.send("UOLPlayer.onInit")},onPlay:function(){UOLPlayer.events.send("UOLPlayer.onPlay")},onPause:function(){UOLPlayer.events.send("UOLPlayer.onPause")},onResume:function(){UOLPlayer.events.send("UOLPlayer.onResume")},onSeeking:function(){UOLPlayer.events.send("UOLPlayer.onSeeking")},onSeeked:function(){UOLPlayer.events.send("UOLPlayer.onSeeked")},onRewind:function(){UOLPlayer.events.send("UOLPlayer.onRewind")},onForward:function(){UOLPlayer.events.send("UOLPlayer.onForward")},onEnd:function(){UOLPlayer.events.send("UOLPlayer.onEnd")},onFullscreen:function(){UOLPlayer.events.send("UOLPlayer.onFullscreen")},onDetach:function(e){UOLPlayer.events.send({event:"UOLPlayer.onDetach",data:e})},onAdInit:function(e){UOLPlayer.events.send({event:"UOLPlayer.onAdInit",data:e})},onAdEnd:function(e){UOLPlayer.events.send({event:"UOLPlayer.onAdEnd",data:e})}},UOLPlayer.onReady="function"==typeof UOLPlayer.onReady?UOLPlayer.onReady:UOLPlayer.events.onReady,UOLPlayer.onInit="function"==typeof UOLPlayer.onInit?UOLPlayer.onInit:UOLPlayer.events.onInit,UOLPlayer.onPlay="function"==typeof UOLPlayer.onPlay?UOLPlayer.onPlay:UOLPlayer.events.onPlay,UOLPlayer.onPause="function"==typeof UOLPlayer.onPause?UOLPlayer.onPause:UOLPlayer.events.onPause,UOLPlayer.onResume="function"==typeof UOLPlayer.onResume?UOLPlayer.onResume:UOLPlayer.events.onResume,UOLPlayer.onSeeking="function"==typeof UOLPlayer.onSeeking?UOLPlayer.onSeeking:UOLPlayer.events.onSeeking,UOLPlayer.onSeeked="function"==typeof UOLPlayer.onSeeked?UOLPlayer.onSeeked:UOLPlayer.events.onSeeked,UOLPlayer.onRewind="function"==typeof UOLPlayer.onRewind?UOLPlayer.onRewind:UOLPlayer.events.onRewind,UOLPlayer.onForward="function"==typeof UOLPlayer.onForward?UOLPlayer.onForward:UOLPlayer.events.onForward,UOLPlayer.onEnd="function"==typeof UOLPlayer.onEnd?UOLPlayer.onEnd:UOLPlayer.events.onEnd,UOLPlayer.onDetach="function"==typeof UOLPlayer.onDetach?UOLPlayer.onDetach:UOLPlayer.events.onDetach,UOLPlayer.onFullscreen="function"==typeof UOLPlayer.onFullscreen?UOLPlayer.onFullscreen:UOLPlayer.events.onFullscreen,UOLPlayer.onAdInit="function"==typeof UOLPlayer.onAdInit?UOLPlayer.onAdInit:UOLPlayer.events.onAdInit,UOLPlayer.onAdEnd="function"==typeof UOLPlayer.onAdEnd?UOLPlayer.onAdEnd:UOLPlayer.events.onAdEnd,window.addEventListener("message",UOLPlayer.events.receive),UOLPlayer.inView=function(e,t){var a=e.getBoundingClientRect(),r=document.documentElement,i=e.offsetHeight-e.offsetHeight/4;return a.top>=0&&a.left>=0&&a.bottom<=window.innerHeight+(t?0:i)&&a.right<=(window.innerWidth||r.clientWidth)},UOLPlayer.loadCSS=function(e,t){if(!document.getElementById("uolplayer-"+t)){var a=window.document.createElement("link");window.document.getElementsByTagName("style")[0];a.rel="stylesheet",a.type="text/css",a.href=e+"?v="+UOLPlayer.version,a.media="all",a.setAttribute("id","uolplayer-"+t),(document.head||doc.getElementsByTagName("head")[0]).appendChild(a)}},UOLPlayer.loadFonts=function(){var e=window.navigator.userAgent;UOLPlayer.supportsWoff2?(UOLPlayer.Cache.require({url:UOLPlayer.cssPath+"fonts/uolplayer-icons-woff2.css",key:"icons",type:UOLPlayer.Cache.type.CSS,checksum:UOLPlayer.isLocal?"icons_woff2_dev":"icons_woff2"}),UOLPlayer.Cache.require({url:"//stc.uol.com/c/webfont/projeto-grafico/uol-font/uol-text-light.woff2?v5",key:"font",type:UOLPlayer.Cache.type.CSS,checksum:UOLPlayer.isLocal?"font_woff2_dev":"font_woff2",skip:!0})):e.indexOf("Android 4.")>-1&&e.indexOf("like Gecko")>-1&&e.indexOf("Chrome")===-1?(UOLPlayer.Cache.require({url:UOLPlayer.cssPath+"fonts/uolplayer-icons-ttf.css",key:"icons",type:UOLPlayer.Cache.type.CSS,checksum:UOLPlayer.isLocal?"icons_ttf_dev":"icons_ttf"}),UOLPlayer.Cache.require({url:UOLPlayer.cssPath+"fonts/uolplayer-font-ttf.css",key:"font",type:UOLPlayer.Cache.type.CSS,checksum:UOLPlayer.isLocal?"font_ttf_dev":"font_ttf"})):(UOLPlayer.Cache.require({url:UOLPlayer.cssPath+"fonts/uolplayer-icons-woff.css",key:"icons",type:UOLPlayer.Cache.type.CSS,checksum:UOLPlayer.isLocal?"icons_woff_dev":"icons_woff"}),UOLPlayer.Cache.require({url:UOLPlayer.cssPath+"fonts/uolplayer-font-woff.css",key:"font",type:UOLPlayer.Cache.type.CSS,checksum:UOLPlayer.isLocal?"font_woff_dev":"font_woff"}))},UOLPlayer.supportsWoff2=function(e){if(!("FontFace"in e))return!1;var t=new FontFace("t",'url( "data:application/font-woff2;base64,d09GMgABAAAAAAIkAAoAAAAABVwAAAHcAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABlYAgloKLEoBNgIkAxgLDgAEIAWDcgc1G7IEyB6SJAFID5YA3nAHC6h4+H7s27nP1kTyOoQkGuJWtNGIJKYznRI3VEL7IaHq985ZUuKryZKcAtJsi5eULwUybm9KzajBBhywZ5ZwoJNuwDX5C/xBjvz5DbsoNsvG1NGQiqp0NMLZ7JlnW+5MaM3HwcHheUQeiVokekHkn/FRdefvJaTp2PczN+I1Sc3k9VuX51Tb0Tqqf1deVXGdJsDOhz0/EffMOPOzHNH06pYkDDjs+P8fb/z/8n9Iq8ITzWywkP6PBMMN9L/O7vY2FNoTAkp5PpD6g1nV9WmyQnM5uPpAMHR2fe06jbfvzPriekVTQxC6lpKr43oDtRZfCATl5OVAUKykqwm9o8R/kg37cxa6eZikS7cjK4aIwoyh6jOFplhFrz2b833G3Jii9AjDUiAZ9AxZtxdEYV6imvRF0+0Nej3wu6nPZrTLh81AVcV3kmMVdQj6Qbe9qetzbuDZ7vXOlRrqooFSxCv6SfrDICA6rnHZXQPVcUHJYGcoqa3jVH7ATrjWBNYYkEqF3RFpVIl0q2JvMOJd7/TyjXHw2NyAuJpNaEbz8RTEVtCbSH7JrwQQOqwGl7sTUOtdBZIY2DKqKlvOmPvUxJaURAZZcviTT0SKHCXqzwc=" ) format( "woff2" )',{});return t.load()["catch"](function(){}),"loading"==t.status||"loaded"==t.status}(this),UOLPlayer.loadImage=function(e,t,a){var r=new Image;r.onload=function(){t&&t()},r.onerror=function(){a&&a(),delete r},r.src=e},UOLPlayer.loadJs=function(e){var t,a=e.src,r=e.name,i=e.success,s=e.timeout,o=e.error,n=(e.cache===!0,!1),l=document,d=function(){if(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState){var e=this.readyState;e&&!/ded|te/.test(e)||!i||n||(t.removeEventListener("load",d),t.removeEventListener("readystatechange",d),t.removeEventListener("error",p),i()),u()}},p=function(){u(),n=!0,o&&o()},u=function(){clearTimeout(c),t&&t.parentNode&&t.parentNode.removeChild(t),t.removeEventListener("load",d),t.removeEventListener("readystatechange",d),t.removeEventListener("error",p)},c=setTimeout(function(){s&&s(),n=!0,u()},5e3);document.getElementById("uolplayer-"+r)?t=document.getElementById("uolplayer-"+r):(t=l.createElement("script"),t.src=a,t.type="text/javascript",t.async="async",t.setAttribute("id","uolplayer-"+r),(l.head||l.getElementsByTagName("head")[0]).appendChild(t)),t.addEventListener("load",d),t.addEventListener("readystatechange",d),t.addEventListener("error",p)},UOLPlayer.loadThumb=function(e,t){var a,r=["-xlarge","-wlarge","-wmedium","-large","-medium","-small"],i=function(){t&&t(e)},s=function(){r=UOLPlayer.Filter(r,function(t){return e.indexOf(t)!==-1&&(a=t),e.indexOf(t)===-1});var t=a;a=r.splice(0,1),e=e.replace(t,a),a.length>0&&UOLPlayer.loadImage(e,i,s)};UOLPlayer.loadImage(e,i,s)},UOLPlayer.observeDOM=function(){var e,t,a,r=window.MutationObserver||window.WebKitMutationObserver,i=window.addEventListener;return{observe:function(s,o){return t=s,a=function(){return o(t)},r?(e=new r(function(e,t){(e[0].addedNodes.length||e[0].removedNodes.length)&&a()}),e.observe(t,{childList:!0,subtree:!0})):i&&(t.addEventListener("DOMNodeInserted",a,!1),t.addEventListener("DOMNodeRemoved",a,!1)),this},disconnect:function(){r?e.disconnect():i&&(t.removeEventListener("DOMNodeInserted",a,!1),t.removeEventListener("DOMNodeRemoved",a,!1))}}},UOLPlayer.prototype.observeDOM=function(){this.observer=new UOLPlayer.observeDOM,this.observer.observe(this.wrapper.parentNode.parentNode||this.wrapper.parentNode,function(e){var t=document.getElementById("UOLPlayer_"+this.hashId);null!==t&&void 0!==t||(this.observer.disconnect(),this.destroy())}.bind(this))},UOLPlayer.Reduce=function(e,t){if(null==e)throw new TypeError("Array.prototype.reduce chamado é nulo (null) ou indefinido (undefined)");if("function"!=typeof t)throw new TypeError(t+" não é uma função");var a,r=Object(e),i=r.length>>>0,s=0;if(2==arguments.length)a=arguments[1];else{for(;s<i&&!(s in r);)s++;if(s>=i)throw new TypeError("Reduce possui um array vazio sem um valor inicial");a=r[s++]}for(;s<i;s++)s in r&&(a=t(a,r[s],s,r));return a},UOLPlayer.Data=function(e,t){this.promises={dataParsed:new UOLPlayer.Promise},this.action=t,this.app=e,this.app.apiError=[],this.ajaxConfig={corsFallback:!1,withCredentials:!0,maxTimeout:4e3}},UOLPlayer.Data.prototype.dataParsedPromise=function(){return this.promises.dataParsed},UOLPlayer.Data.prototype.metadataPromise=function(){return this.promises.metadata=this.promises.metadata||UOLPlayer.Promise.get(UOLPlayer["const"].urls.data.METADATA.replace("{mediaId}",this.app.mediaId)+(this.app.wrapper.getData("changeVideo")?"?withChange=true":""),this.ajaxConfig),this.promises.metadata},UOLPlayer.Data.prototype.formatsPromise=function(){return void 0!==this.app.forceCDN?this.promises.formats=this.promises.formats||UOLPlayer.Promise.get(UOLPlayer["const"].urls.data.FORMATS.replace("{mediaId}",this.app.mediaId)+"?cdn="+this.app.forceCDN,this.ajaxConfig):this.promises.formats=this.promises.formats||UOLPlayer.Promise.get(UOLPlayer["const"].urls.data.FORMATS.replace("{mediaId}",this.app.mediaId),this.ajaxConfig),this.promises.formats},UOLPlayer.Data.prototype.formatsRetryPromise=function(){return void 0!==this.app.forceCDN?this.promises.formatsRetry=this.promises.formatsRetry||UOLPlayer.Promise.get(UOLPlayer["const"].urls.data.FORMATS.replace("{mediaId}",this.app.mediaId)+"?cdn="+this.app.forceCDN+"&retry=true",this.ajaxConfig):this.promises.formatsRetry=this.promises.formatsRetry||UOLPlayer.Promise.get(UOLPlayer["const"].urls.data.FORMATS.replace("{mediaId}",this.app.mediaId)+"?retry=true",this.ajaxConfig),this.promises.formatsRetry},UOLPlayer.Data.prototype.configPromise=function(){var e=UOLPlayer["const"].urls.data.CONFIG.replace("{mediaId}",this.app.mediaId);return UOLPlayer.isIE&&!UOLPlayer.isEdge&&(e=e.replace(/^(https?:)?\/\//,"https://")),this.promises.config=this.promises.config||UOLPlayer.Promise.get(e,this.ajaxConfig),this.promises.config},UOLPlayer.Data.prototype.configClosedPromise=function(){var e={withCredentials:!1,corsFallback:this.ajaxConfig.corsFallback,maxTimeout:this.ajaxConfig.maxTimeout};return this.promises.configClosed=this.promises.configClosed||UOLPlayer.Promise.get(UOLPlayer["const"].urls.data.CONFIG.replace("{mediaId}",this.app.mediaId)+"?noauth=true",e),this.promises.configClosed},UOLPlayer.Data.prototype.metadataFallbackPromise=function(){return this.promises.metadataFallback=this.promises.metadataFallback||UOLPlayer.Promise.get(UOLPlayer["const"].urls.CROUPIER.replace("{mediaId}",this.app.mediaId),this.ajaxConfig),this.promises.metadataFallback},UOLPlayer.Data.prototype.metadataFailurePromise=function(){return this.promises.metadataFailure=this.promises.metadataFailure||new UOLPlayer.Promise(function(e){var t=window.location.href.indexOf("https://")===-1?"http:":"https:";e({thumbnail:t+"//thumb.mais.uol.com.br/"+self.app.mediaId+".jpg",title:"",author:"",generatedThumbs:1,mediaId:self.app.mediaId,type:payload.MP3.available?"P":"V",revision:0,url:t+"//mais.uol.com.br/view/"+self.app.mediaId,shareUrl:t+"//mais.uol.com.br/view/"+self.app.mediaId,duration:{seconds:0,formatted:"0:00"},formats:formats,payload:payload})}.bind(this)),this.promises.metadataFailure},UOLPlayer.Data.prototype.criticalFailurePromise=function(){if(this.promises.criticalFailure)return this.promises.criticalFailure;var e=new UOLPlayer.Chronometer("criticalFailure");e.start();var t=this.promises.criticalFailure=new UOLPlayer.Promise,a=this,r="video.m.mais.uol.com.br",i={},s=function(e,t,s){var o=a.app.mediaId;"DASH"===e?o=a.app.mediaId+"-12":"HLS"===e?o=a.app.mediaId+"-10":"WEBM"===e?o=a.app.mediaId+"-11":"mobile"===e&&(o=a.app.mediaId+"-9");var n=function(a,n){i[e]={available:a.indexOf(r)===-1&&a.indexOf(o+"."+t)!==-1,mediaType:"MP3"===e?"audio":"video",filename:o,format:e,url:a,token:n?n.token:void 0,sign:n?n.sign:void 0},s(i)};UOLPlayer.ElementErrorHandler.resolveFallbackURL(a.app,UOLPlayer.mediaSourceFallbackURL(o,0,t,a.app.hashId),n)},o=function(e){var t={},r=function(t){return{filename:e[t].filename+"",externalCDN:!1,url:e[t].url.split("?").shift(),token:e[t].token,sign:e[t].sign,alternatives:[e[t].url.split("?").shift().split("//").pop()]}};if(e.MP3.available)t.MP3=r("MP3");else for(var i in e)e[i].available&&(t[i]=r(i));var s=window.location.href.indexOf("https://")===-1?"http:":"https:";if(0===Object.keys(t).length||1===Object.keys(t).length&&t.mobile){var o=UOLPlayer.hashCode(a.app.mediaId.toString());t={"360p":{filename:a.app.mediaId+"",externalCDN:!1,url:s+"//storage.mais.uol.com.br/"+a.app.mediaId+".mp4?hash="+o,alternatives:["storage.mais.uol.com.br/"+a.app.mediaId+".mp4?hash="+o]},mobile:{filename:a.app.mediaId+"-9",externalCDN:!1,url:s+"//storage.mais.uol.com.br/"+a.app.mediaId+"-9.mp4?hash="+o,alternatives:["storage.mais.uol.com.br/"+a.app.mediaId+"-9.mp4?hash="+o]}}}return{thumbnail:s+"//thumb.mais.uol.com.br/"+a.app.mediaId+".jpg",title:"",author:"",generatedThumbs:1,mediaId:a.app.mediaId,type:e.MP3.available?"P":"V",revision:0,url:s+"//mais.uol.com.br/view/"+a.app.mediaId,shareUrl:s+"//mais.uol.com.br/view/"+a.app.mediaId,duration:{seconds:0,formatted:"0:00"},formats:t,payload:e}},n=new UOLPlayer.Promise(function(e){s("DASH","mpd",e)}),l=new UOLPlayer.Promise(function(e){s("HLS","m3u8",e)}),d=new UOLPlayer.Promise(function(e){s("360p","mp4",e)}),p=new UOLPlayer.Promise(function(e){s("WEBM","webm",e)}),u=new UOLPlayer.Promise(function(e){s("mobile","mp4",e)}),c=new UOLPlayer.Promise(function(e){s("MP3","mp3",e)});return c.then(function(){return d}).then(function(){return n}).then(function(){return l}).then(function(){return u}).then(function(){return p}).then(function(a){var r=-1,i={loadedAt:e.stop()};t.resolve(o(a),r,i)}),this.promises.criticalFailure},UOLPlayer.Data.prototype.loadApi=function(e){e=e||{};var t={},a=this,r=this.app,i=this.action;return UOLPlayer.urlParameter.key||this.configClosedPromise(),this.metadataPromise(),this.configPromise(),this.metadataPromise().then(function(e,t,i){return UOLPlayer.Profiler.trackApi("metadata",i.loadedAt.elapsedTime.time,t),r.tracker.pushState("apiDrakkarStatus",t),a.metadataPromise()},function(e,t,i){return UOLPlayer.Profiler.trackApi("metadata",i.loadedAt.elapsedTime.time,t),t>-1&&r.apiError.push("data:"+t),r.tracker.pushState("apiDrakkarStatus",t),400===t?(r.setError(UOLPlayer.ElementErrorHandler.errorCodes.INVALID_MEDIA_ID),UOLPlayer.Promise["break"]):404===t?(r.setError(UOLPlayer.ElementErrorHandler.errorCodes.MEDIA_NOT_FOUND),UOLPlayer.Promise["break"]):413===t?(r.setError(UOLPlayer.ElementErrorHandler.errorCodes.PAYLOAD_TOO_LARGE),UOLPlayer.Promise["break"]):a.metadataFallbackPromise()}).then(function(e,s,o){return a.promises.metadataFallback&&r.tracker.pushState("apiCroupierStatus",s),t.metadata=e.item?e.item:e,t.metadata.mediaId?(i.metadata&&i.metadata.call(null,t.metadata),a.promises.metadataFallback?a.metadataFallbackPromise():a.metadataPromise()):(r.setError(UOLPlayer.ElementErrorHandler.errorCodes.API_EMPTY_RESPONSE),UOLPlayer.Promise["break"])},function(e,t,i){return r.tracker.pushState("apiCroupierStatus",t),console.info("ERRO FATAL: METADATA COM ERRO"),r.apiError.push("metadataCroupier:"+t),r.chronoLoadApi&&r.chronoLoadApi.stop(),413===t?(r.setError(UOLPlayer.ElementErrorHandler.errorCodes.PAYLOAD_TOO_LARGE),UOLPlayer.Promise["break"]):(r.tracker.pushState("apiCroupierStatus",t),a.criticalFailurePromise())}).then(function(e,s,o){
return a.promises.criticalFailure&&(t.metadata=e.item?e.item:e,i.metadata.call(null,t.metadata),i.critical.call(null,e.payload)),413===s?(r.setError(UOLPlayer.ElementErrorHandler.errorCodes.PAYLOAD_TOO_LARGE),UOLPlayer.Promise["break"]):a.formatsPromise()}).then(function(e,t,i){return"object"==typeof e&&"undefined"==typeof e.code?(r.tracker.pushState("api_formats_retry",!1),a.formatsPromise()):(r.tracker.pushState("api_formats_retry",!0),a.formatsRetryPromise())},function(e,t,i){return r.tracker.pushState("api_formats_retry",!0),a.formatsRetryPromise()}).then(function(e,t,s){if("object"==typeof e&&"undefined"==typeof e.code){UOLPlayer.Profiler.trackApi("formats",s.loadedAt.elapsedTime.time,t);var o=s&&s.getAllResponseHeaders?s.getAllResponseHeaders():"",n=o.match(/^x-cache-type: (.+)$/im);return n?r.tracker.pushState("api_formats_cache_type",n.pop()):r.tracker.pushState("api_formats_cache_type","cors_error"),i.formats&&i.formats.call(null,e),a.promises.formatsRetry?a.formatsRetryPromise():a.formatsPromise()}return a.criticalFailurePromise()},function(e,t,r){return a.criticalFailurePromise()}).then(function(e,t,s){return a.promises.formatsRetry&&a.promises.criticalFailure&&i.formats&&(i.formats.call(null,e.formats),i.critical.call(null,e.payload),UOLPlayer.Profiler.trackApi("formats",s.loadedAt.elapsedTime.time,t),r.tracker.pushState("api_formats_cache_type","criticalFailure")),a.configPromise()}).then(function(e,t,a){return UOLPlayer.Profiler.trackApi("config",a.loadedAt.elapsedTime.time,t),e.item},function(e,t,a){if(UOLPlayer.Profiler.trackApi("config",a.loadedAt.elapsedTime.time,t),t>-1&&r.apiError.push("config:"+t),401===t){e=JSON.parse(e);var i,s;if("audio"===r.mediaType||r.data&&"P"===r.data.type?(i="AUDIO_",s=UOLPlayer.ElementErrorHandler.errorCodes.AUDIO_NO_PERMISSION_UNTRACKED):(i="VIDEO_",s=UOLPlayer.ElementErrorHandler.errorCodes.VIDEO_NO_PERMISSION_UNTRACKED),e&&e.item&&e.item.permission&&UOLPlayer.ElementErrorHandler.errorCodes[i+e.item.permission]&&(s=UOLPlayer.ElementErrorHandler.errorCodes[i+e.item.permission]),s===UOLPlayer.ElementErrorHandler.errorCodes.VIDEO_NO_PERMISSION_JUST_OWNER&&!r.key)return r.setError(s),UOLPlayer.Promise["break"]}var o={};return o.userIp="",o.playerParameters={iu:!1,dfp_on:!1,dfp_native_timeout_on:!1,dfp_native_timeout_time:void 0,dfp_custom_timeout_on:!1,dfp_custom_timeout_buffer_time:void 0,dfp_custom_timeout_request_time:void 0,range_request:!0,hls_enabled:!0,hls_maisuol_enabled:!0,hls_allow_domain_regexp:"",hls_max_buffer_length:30},o}).then(function(e,r,i){if(t.config=e,UOLPlayer.urlParameter.key){var s=new UOLPlayer.Promise;return s.resolve(),s}return a.configClosedPromise()}).then(function(e,t,r){return a.configPromise()},function(e,r,s){var o=!1;try{o=JSON.parse(e)}catch(n){o=!1}var l=["NO_PERMISSION_JUST_OWNER","NO_PERMISSION_BY_DAT_SCHEDULING"],d=o&&o.response&&o.response.description&&l.indexOf(o.response.description)>-1;return d&&200!==r&&"HAS_PERMISSION"===t.config.permission&&i.closedMedia&&i.closedMedia.call(),t.config.playerParameters.dfp_on=!1,a.configPromise()}).then(function(e,r,s){if(i.config)return i.config.call(null,t.config,a.promises.dataParsed.resolve)})},UOLPlayer.prototype.DataParser=function(){return this.data={},this.configured=!1,new UOLPlayer.Data(this,{closedMedia:function(){this.wrapper.addClass("_closed")}.bind(this),metadata:function(e){if(this.revision=e.revision,this.data.item=e.item?e.item:e,"P"===this.data.item.type)this.mediaType="audio",this.wrapper.removeClass("_video").addClass("_audio");else{this.mediaType="video",this.wrapper.removeClass("_audio").addClass("video");var t=this.wrapper.getElementsByClassName("video-element")[0];t.setAttribute("poster",this.data.item.thumbnail),t.setAttribute("title",this.data.item.title)}}.bind(this),formats:function(e){this.data.item.formats=e.formats||e}.bind(this),critical:function(e){this.dfp=!1,this.autorep=!1,this.criticalFailure=!0,this.options.related.enabled=!1,this.options.share.enabled=!1,this.payloadConsoled||(this.payloadConsoled=!0,this.logger.logError("Fallback for API critical failure"))}.bind(this),config:function(e,t){if(!this.serverTime.start&&e.current_time&&(this.serverTime.start=e.current_time),this.clientTime.start||(this.clientTime.start=Date.now()),this.data.item.userIp=e.userIp,this.data.item.playerParameters=e.playerParameters,this.customTimeout=UOLPlayer.safariMultiplier(UOLPlayer.toBoolean(this.data.item.playerParameters.dfp_custom_timeout_on)||UOLPlayer.customTimeout,this),UOLPlayer.urlParameter.hls===!1||UOLPlayer.urlParameter.mp4===!0||UOLPlayer.urlParameter.webm===!0?(this.hlsEnabled=!1,this.hlsNative=!1):(UOLPlayer.Fingerprint.mediaTypeSupported.hls?this.hlsEnabled=UOLPlayer.toBoolean(this.data.item.playerParameters.hls_enabled):this.hlsEnabled=!1,UOLPlayer.Fingerprint.mediaTypeSupported.hlsNative&&UOLPlayer.isIOS?this.hlsNative=UOLPlayer.toBoolean(this.data.item.playerParameters.hls_enabled):this.hlsNative=!1),UOLPlayer.urlParameter.dash===!1||UOLPlayer.urlParameter.hls===!0||UOLPlayer.urlParameter.mp4===!0||UOLPlayer.urlParameter.webm===!0?this.dashEnabled=!1:UOLPlayer.Fingerprint.mediaTypeSupported.dash?this.dashEnabled=UOLPlayer.toBoolean(this.data.item.playerParameters.dash_enabled):this.dashEnabled=!1,this.activeExperiment=this.data.item.playerParameters.activeExperiment?this.data.item.playerParameters.activeExperiment:"",this.testEnabled=this.data.item.playerParameters.test_enabled?this.data.item.playerParameters.test_enabled:"",this.testEnabled&&!this.configured&&(this.logger.log("TEST AB ENABLED: "+this.testEnabled),console.info("[UOLPLAYER] AB TEST ENABLED: "+this.testEnabled),this.configured=!0),"V"==this.data.item.type){this.dashExperiment=this.exp[this.exp.type.DASH_LIB_EXPERIMENT],this.dashExperiment.init(),this.dashExperiment.draw();var a=this.dashExperiment.getInfo().expParticipant,r=this.dashExperiment.getInfo().expResult;this.hlsEnabled&&this.dashEnabled&&this.data.item.formats.HLS&&this.data.item.formats.DASH&&a&&this.canTestsplit&&(this.dashEnabled=r,this.hlsEnabled=!this.dashEnabled),this.hlsFallback&&(this.hlsEnabled=!1),this.iuDFP=this.data.item.iu,UOLPlayer.toBoolean(this.forcedfp)?this.dfp=!0:this.dfp=this._dfp!==!1&&this.data.item.playerParameters.dfp_on!==!1&&!!this.iuDFP,this.dfp=!!(this.options.dfp.adunit&&window.DYNAD_TV&&window.DYNAD_TV.config)||this.dfp;var i,s;this.dfp?this.imaLib=i=this.imaLib||UOLPlayer.Cache.require({url:UOLPlayer["const"].urls.IMASDK,key:"ima",type:UOLPlayer.Cache.type.JAVASCRIPT,skip:!0,jsonp:!0}):(this.imaLib=i=this.imaLib||new UOLPlayer.Promise,i.reject(!1)),this.data.item.formats.DASH&&this.dashEnabled?(this.abrLib=s=this.abrLib||UOLPlayer.Cache.require({url:UOLPlayer["const"].urls.DASH,key:"dash",type:UOLPlayer.Cache.type.JAVASCRIPT,checksum:UOLPlayer.isLocal?"dash_dev":"dash",crossOrigin:"anonymous"}),this.abrLib.libName="dash"):this.data.item.formats.HLS&&this.hlsEnabled?(this.abrLib=s=this.abrLib||UOLPlayer.Cache.require({url:UOLPlayer["const"].urls.HLS,key:"hls",type:UOLPlayer.Cache.type.JAVASCRIPT,checksum:UOLPlayer.isLocal?"hls_dev":"hls",crossOrigin:"anonymous"}),this.abrLib.libName="hls"):(this.abrLib=s=this.abrLib||new UOLPlayer.Promise,this.abrLib.libName="no lib",s.reject(!1)),i.then(function(e){return e},function(e){return!1}).then(function(e){return this.dfp="boolean"==typeof e?e:!e.error,e.time&&(this.chronoLoadLibDFP=e.time,this.logger.logTime("DFP LIB: "+e.time.time)),s}.bind(this)).then(function(e){return e}.bind(this),function(e){return e}).then(function(a){a.state&&this.logger.log("CACHE HLS/DASH: "+a.state);var r=s.libName;if("no lib"!=r&&void 0===UOLPlayer.urlParameter[r]){var i="boolean"==typeof a?a:!a.error;"hls"===r?this.hlsEnabled=i:this.dashEnabled=i}else"hls"===r?this.hlsEnabled=UOLPlayer.toBoolean(UOLPlayer.urlParameter.hls):"dash"===r&&(this.dashEnabled=UOLPlayer.toBoolean(UOLPlayer.urlParameter.dash));"hls"===r?(a.state&&(this.hlsLibState=a.state),a.time&&(this.chronoLoadLibHLS=a.time,this.logger.logTime("HLS LIB: "+a.time.time))):"dash"===r&&(a.state&&(this.dashLibState=a.state),a.time&&(this.chronoLoadLibDASH=a.time,this.logger.logTime("DASH LIB: "+a.time.time))),this.parseFormats(this.data.item.formats),t(e)}.bind(this))}else this.parseFormats(this.data.item.formats),t(e);this.chronoLoadApi.stop()}.bind(this)})},UOLPlayer.Data.prototype.Related=function(){var e,t=this.app.mediaId;if(this.promise=new UOLPlayer.Promise,this.relatedData)return this.promise.resolve(this.relatedData,0),this.promise;var a=UOLPlayer["const"].urls.RECOMMENDED.replace("{mediaId}",t).replace("{ss}",void 0===UOLPlayer.urlParameter.recommended_ss?"2001":UOLPlayer.urlParameter.recommended_ss).replace("{c}",void 0===UOLPlayer.urlParameter.recommended_c?"3":UOLPlayer.urlParameter.recommended_c).replace("{h}",void 0===UOLPlayer.urlParameter.recommended_h?"6":UOLPlayer.urlParameter.recommended_h).replace("{s}",void 0===UOLPlayer.urlParameter.recommended_s?"true":UOLPlayer.urlParameter.recommended_s).replace("{d}",void 0===UOLPlayer.urlParameter.recommended_d?"1":UOLPlayer.urlParameter.recommended_d),r=function(t,a,r){var i=r&&r.loadedAt?r.loadedAt.elapsedTime:void 0,s={server_status:a,timeout:408==a};e===!0&&(s.server_response=t),UOLPlayerLog.send(this.app,"relatedTime",{time:i,payload:s}),this.relatedData=t,this.promise.resolve(t,i)}.bind(this),i=function(e,t,a){return 200==e.response.code?r(e,t,a):s(e,e.response.code,a)},s=function(t,a,r){e="error";var i={payload:{server_status:a,server_response:t,timeout:408==a}};r&&r.loadedAt&&(i.time=r.loadedAt.elapsedTime),UOLPlayerLog.send(this.app,"recommendedTime",i),o()}.bind(this),o=function(){UOLPlayer.jsonp({url:UOLPlayer["const"].urls.RELATED+t,success:r,timeout:this.promise.reject,error:this.promise.reject})}.bind(this);return UOLPlayer.ajax({url:a,success:i,timeout:s,error:s,maxTimeout:6e4}),this.promise},UOLPlayer.prototype.Instance={store:function(){window.UOLPlayer[this.mediaId]=this,window.UOLPlayer[this.hashId]=this,this.wrapper.setData("hashId",this.hashId),this.wrapper.setData("mediaId",this.mediaId),this.wrapper.setAttribute("id","UOLPlayer_"+this.hashId)}},UOLPlayer.getInstance=function(e){return window.UOLPlayer[e]},UOLPlayer.getCurrentMedia=function(){var e=void 0;return 1===document.getElementsByClassName("up-detach").length&&(e=document.getElementsByClassName("up-detach")[0]),1===document.getElementsByClassName("up-playing-video").length?e=document.getElementsByClassName("up-playing-video")[0]:1===document.getElementsByClassName("up-playing-ad").length&&(e=document.getElementsByClassName("up-playing-ad")[0]),void 0!==e&&(e=UOLPlayer.getInstance(e.getData("hashId"))),e},UOLPlayer.Pingback=function(){if(sh=UOLPlayer.urlParameter.sh,mp=UOLPlayer.urlParameter.mp,pingback=UOLPlayer.urlParameter.pingback,fd=UOLPlayer.urlParameter.fd,sh&&"undefined"!=typeof sh&&mp&&"undefined"!=typeof mp){var e={logName:"metrics-search",module:"uolmais-drakkar",hash:sh,mp:mp};"boolean"==typeof pingback&&(e.pingback=pingback),"boolean"==typeof fd&&(e.fd=fd),UOLPlayer.searchLog(e)}},UOLPlayer.Timeout=function(e){this.app=e;var t={};this.app.customTimeout=UOLPlayer.urlParameter.timeout!==!1&&this.app.customTimeout,this.app.customTimeout=!e.options.dfp.adunit&&this.app.customTimeout,"V"==this.app.data.item.type&&(t.REQUEST_ADS={type:"dfpRequestAds",active:this.app.customTimeout,time:1e3*UOLPlayer.safariMultiplier(this.app.data.item.playerParameters.dfp_custom_timeout_request_time,e)},t.LOAD_AD={type:"dfpLoadAds",active:this.app.customTimeout,time:1e3*UOLPlayer.safariMultiplier(this.app.data.item.playerParameters.dfp_custom_timeout_adload_time,e)},t.PLAYING_AD={type:"dfpPlayAd",active:this.app.customTimeout,time:1e3*UOLPlayer.safariMultiplier(2*this.app.data.item.playerParameters.dfp_custom_timeout_buffer_time,e)},t.HLS_SWITCH_LEVEL={type:"hlsSwitchLevel",active:!0,time:1e3*UOLPlayer.safariMultiplier(this.app.data.item.playerParameters.hls_switch_level_wait||10,e)},t.DASH_SWITCH_LEVEL={type:"dashSwitchLevel",active:!0,time:1e3*UOLPlayer.safariMultiplier(this.app.data.item.playerParameters.hls_switch_level_wait||10,e)}),t.TEST={type:"test",active:!0,time:1e3},t.RETRY_BALAIO={type:"retryBalaio",active:!0,time:15e3};var a,r,i,s,o=function(e,t,a){var r,i,s,o,l,d=!1,p=t,u=t;return i=function(){this.app.logger.logError("timeout: "+e),n.status=e,d=!0,s&&s.call(this)}.bind(this),a?{start:function(e){s=e,d=!1,o=window.performance.now(),l=null,r&&clearTimeout(r),r=setTimeout(i,p)},abort:function(e){l||(l=window.performance.now()),r&&clearTimeout(r),e&&e.call(this)}.bind(this),execute:i,time:p,updateDuration:function(e){p=e},getElapsedTime:function(){return Math.round(l-o)},getRemainingTime:function(){return Math.round(u-(l-o))},getStatus:function(){return d}}:{start:function(){},abort:function(){},execute:function(){},updateDuration:function(){},getElapsedTime:function(){return 0},getRemainingTime:function(){return 0},getStatus:function(){return!1}}}.bind(this),n={type:{},time:{}};for(a in t)r=t[a].type,i=t[a].time,s=t[a].active,n.type[a]=r,n.time[a]=i,n[r]=o(r,i,s);return n},UOLPlayer.Tracker=function(e,t){this.start=new Date,this.states=t||{},this.timeout=null,this.debug=e},UOLPlayer.Tracker.prototype.current=function(){return(new Date).toUnixTimestamp()-this.start.toUnixTimestamp()},UOLPlayer.Tracker.prototype.pushState=function(e,t,a){return this.states[e]!==t&&void(this.states[e]=t)},UOLPlayer.Tracker.prototype.pushStates=function(){var e=this;Array.prototype.forEach.call(arguments,function(t){e.pushState.apply(e,t)})},UOLPlayer.Tracker.prototype.pushStateDelayed=function(e,t,a){var r="timeout"+e;clearTimeout(r),setTimeout(this.pushState.bind(this),400,e,t,a)},UOLPlayer.Tracker.prototype.getData=function(e){return this.states},UOLPlayer.Configuration=function(e){var t={subPanel:e.wrapper.getElementsByClassName("up-ctrlbar-tools")[0].getElementsByClassName("up-ctrlbar-tools-subpanel")[0],subPanelNodes:e.wrapper.getElementsByClassName("up-ctrlbar-tools")[0].getElementsByClassName("up-ctrlbar-tools-subpanel-item"),tools:e.wrapper.getElementsByClassName("up-ctrlbar-tools")[0]};this.openPanel=function(e){for(var a=0,r=t.subPanelNodes.length;a<r;++a)t.subPanelNodes[a].hide();e.show(),t.tools.addClass("_open")},this.closePanel=function(){t.tools.removeClass("_open")}},UOLPlayer.DragBar=function(e){var t,a=e.control;UOLPlayer.eventsControl.call(this),this.events={update:new UOLPlayer.customEvents,navigate:new UOLPlayer.customEvents,mouseover:new UOLPlayer.customEvents,mouseout:new UOLPlayer.customEvents,press:new UOLPlayer.customEvents,release:new UOLPlayer.customEvents};var r=function(e){t=i(UOLPlayer.mousePosition(e).x),this.update(t),this.events.update.dispatch(t)}.bind(this),i=function(e){var t=e/(a.offsetWidth-5)*100;return Math.min(100,Math.max(0,t))};this.update=function(t){e.bar.style.width=Math.floor(t)+"%",e.handlebar.style.left=Math.floor(t)+"%"};var s={down:UOLPlayer.isMobile?"touchstart":"mousedown",up:UOLPlayer.isMobile?"touchend":"mouseup",over:UOLPlayer.isMobile?"touchstart":"mouseover",out:UOLPlayer.isMobile?"touchend":"mouseout",move:UOLPlayer.isMobile?"touchmove":"mousemove"};a.addEventListener(s.over,function(e){this.events.mouseover.dispatch()}.bind(this),UOLPlayer.supportsPassive),a.addEventListener(s.out,function(e){this.events.mouseout.dispatch()}.bind(this),UOLPlayer.supportsPassive),a.addEventListener(s.down,function(e){r(e),a.dragging=!0,a.addEventListener(s.move,r,UOLPlayer.supportsPassive),this.events.press.dispatch()}.bind(this),UOLPlayer.supportsPassive),a.addEventListener(s.up,function(e){a.removeEventListener(s.move,r),t=i(UOLPlayer.mousePosition(e).x),this.events.release.dispatch(t),a.dragging=!1}.bind(this),UOLPlayer.supportsPassive),a.addEventListener(s.move,function(e){var a=UOLPlayer.mousePosition(e).x;t=Math.floor(i(a)),this.events.navigate.dispatch({perc:t,x:a})}.bind(this),UOLPlayer.supportsPassive);var o=function(e){a.dragging&&(a.removeEventListener(s.move,r,UOLPlayer.supportsPassive),this.events.release.dispatch(t)),a.dragging=!1}.bind(this);document.addEventListener(s.up,o,UOLPlayer.supportsPassive);try{window.parent!==window&&window.parent.addEventListener(s.up,o,UOLPlayer.supportsPassive)}catch(n){}return this},UOLPlayer.ChangePlaybackRate=function(e){function t(e){var t=e.currentTarget.getData("playbackrate");this.events.change.dispatch(t)}function a(e){return(e/100).toString().replace(".",",")+"x"}function r(e){s.group.getElementsByClassName("_active")[0]&&s.group.getElementsByClassName("_active")[0].removeClass("_active"),s.group.getElementsByClassName("playbackrate-"+e)[0].addClass("_active"),s.currentLabel.innerHTML=100==e?"Normal":a(e)}UOLPlayer.eventsControl.call(this),UOLPlayer.Configuration.call(this,e),this.events.change=new UOLPlayer.customEvents;var i=this,s={change:e.wrapper.getElementsByClassName("up-ctrlbar-tools")[0].getElementsByClassName("up-playbackrate")[0],open:e.wrapper.getElementsByClassName("up-ctrlbar-openplaybackrate")[0],close:e.wrapper.getElementsByClassName("up-ctrlbar-closeplaybackrate")[0],group:e.wrapper.getElementsByClassName("up-playbackrate")[0].getElementsByClassName("up-playbackrate-type-group")[0],currentLabel:e.wrapper.getElementsByClassName("up-ctrlbar-openplaybackrate")[0].getElementsByClassName("up-ctrlbar-tools-content")[0]},o=function(){i.openPanel(s.change)};s.close.addEventListener("click",function(){i.closePanel()});var n=function(){s.open.addEventListener("click",o);for(var e=25,r=200;e<=r;e+=25)if(175!=e){var i='<div class="up-ctrlbar-tools-item up-playbackrate-item playbackrate-'+e+'"><div class="up-ctrlbar-tools-content">'+(100==e?"Normal":a(e))+"</div></div>";i=s.group.appendHtmlText(i).getElementsByClassName("playbackrate-"+e)[0],i.setData("playbackrate",e/100),i.addEventListener("click",t.bind(this)),100==e&&(s.current=i,s.current.addClass("_active"))}}.bind(this);n(),this.setActive=r},UOLPlayer.ChangeQuality=function(e,t){function a(e){var t=e.currentTarget.getData("type");this.events.change.dispatch(t)}function r(e){return"WEBM"==e?"360p":e}function s(e){return void 0===e.format?(l.currentType.innerHTML=r(e),l.isAuto.innerHTML="",l.typeGroup.getElementsByClassName("_active")[0]&&l.typeGroup.getElementsByClassName("_active")[0].removeClass("_active"),void(l.typeGroup.getElementsByClassName("quality-"+e)[0]&&l.typeGroup.getElementsByClassName("quality-"+e)[0].addClass("_active"))):(l.isAuto.innerHTML=e.auto?"Auto":"",l.currentType.innerHTML=e.format,l.typeGroup.getElementsByClassName("_waiting")[0]&&l.typeGroup.getElementsByClassName("_waiting")[0].removeClass("_waiting"),void(e.auto===!1&&l.typeGroup.getElementsByClassName("quality-"+e.format)[0].addClass("_waiting")))}function o(e){l.isAuto.innerHTML=e.auto?"Auto":"",l.currentType.innerHTML=e.format,l.typeGroup.getElementsByClassName("_active")[0]&&l.typeGroup.getElementsByClassName("_active")[0].removeClass("_active"),l.typeGroup.getElementsByClassName("_waiting")[0]&&l.typeGroup.getElementsByClassName("_waiting")[0].removeClass("_waiting"),e.auto===!1?l.typeGroup.getElementsByClassName("quality-"+e.format)[0].removeClass("_waiting").addClass("_active"):l.typeGroup.getElementsByClassName("quality-auto")[0]&&l.typeGroup.getElementsByClassName("quality-auto")[0].removeClass("_waiting").addClass("_active")}UOLPlayer.eventsControl.call(this),UOLPlayer.Configuration.call(this,e);var n=this;this.events.change=new UOLPlayer.customEvents;var l=(e.wrapper.getElementsByClassName("up-ctrlbar")[0],{changeQuality:e.wrapper.getElementsByClassName("up-ctrlbar-tools")[0].getElementsByClassName("up-quality")[0],quality:e.wrapper.getElementsByClassName("up-quality")[0].getElementsByClassName("up-quality-item"),typeGroup:e.wrapper.getElementsByClassName("up-quality")[0].getElementsByClassName("up-quality-type-group")[0],isAuto:e.wrapper.getElementsByClassName("up-ctrlbar-tools")[0].getElementsByClassName("quality-isauto")[0],currentType:e.wrapper.getElementsByClassName("up-ctrlbar-tools")[0].getElementsByClassName("quality-type")[0],currentQualityLabel:e.wrapper.getElementsByClassName("up-ctrlbar-tools")[0].getElementsByClassName("up-ctrlbar-tools-content")[0],openQuality:e.wrapper.getElementsByClassName("up-ctrlbar-openquality")[0],closeQuality:e.wrapper.getElementsByClassName("up-ctrlbar-closequality")[0]}),d=function(){n.openPanel(l.changeQuality)};for(l.closeQuality.addEventListener("click",function(){n.closePanel()}),i=0;i<l.quality.length;i++)l.quality[i].addEventListener("click",function(){l.currentQuality&&l.currentQuality.removeClass("_active"),this.hasClass("_active")?this.removeClass("_active"):(this.addClass("_active"),l.currentQuality=this)});var p=function(t){if(t=UOLPlayer.cloneJSON(t),delete t.flv,"HLS"!==e.data.formats["default"].type&&"DASH"!==e.data.formats["default"].type&&(delete t.mobile,delete t.HLS,delete t.DASH,"WEBM"===e.data.formats["default"].type?(delete t.mobile,delete t.HLS,delete t.DASH,delete t["360p"],delete t["720p"],delete t["1080p"]):delete t.WEBM),UOLPlayer.isSafari&&UOLPlayer.mobile||UOLPlayer.isIpad||Object.keys(t).length<2)l.currentType.innerHTML=r(Object.keys(t)[0]),l.isAuto.innerHTML="",l.openQuality.removeEventListener("click",d),l.currentQualityLabel.removeClass("up-next-element");else{l.openQuality.addEventListener("click",d),l.currentQualityLabel.addClass("up-next-element"),l.typeGroup.innerHTML="";for(var i in t){format=t[i];var o='<div class="up-ctrlbar-tools-item up-quality-item quality-'+format.type+'"><div class="up-ctrlbar-tools-content">'+r(format.type)+"</div></div>";o=l.typeGroup.appendHtmlText(o).getElementsByClassName("quality-"+format.type)[0],o.setData("type",format.type),void 0!=format.index&&o.setData("index",format.index),o.addEventListener("click",a.bind(this))}s(e.data.formats["default"].type)}}.bind(this);p(e.data.formats.available),this.updateList=p,this.setFormat=s,this.setActive=o},UOLPlayer.ControlBar=function(e,t){function r(){v.hasClass("_active")?(v.removeClass("_active"),e.wrapper.removeClass("up-pause-overlay-fade"),clearTimeout(y)):(v.addClass("_active"),e.wrapper.addClass("up-pause-overlay-fade"))}function i(){v.removeClass("_active"),v.removeClass("_open"),e.wrapper.removeClass("up-pause-overlay-fade")}function s(){clearTimeout(y),y=setTimeout(function(){i()}.bind(this),3e3)}UOLPlayer.eventsControl.call(this),this.events.volumeChange=new UOLPlayer.customEvents,this.events.toggleMute=new UOLPlayer.customEvents,this.events.changeQuality=new UOLPlayer.customEvents,this.events.changePlaybackRate=new UOLPlayer.customEvents,this.currentTime=0;var o,n,l,d,p,u,c={duration:e.data.item.duration},m=UOLPlayer.perc2time(e.mediaPlayer.getDuration);o=e.wrapper.getElementsByClassName("up-ctrlbar")[0],this.progressBar=l=new UOLPlayer.ProgressBar(e,o,c.duration),l.registerEventListener("seeking",function(t){clickedTime=t,e.backbone.video.seeking()}.bind(this)),l.registerEventListener("seeked",function(t){if(e.isPlayingAd()===!1){var a=m(t);e.mediaPlayer.seek(a),e.backbone.video.seeked(a)}}.bind(this));var h=!1;if(n=new UOLPlayer.Volume(e,o),n.registerEventListener("volumeChange",function(t){e.mediaPlayer.volume(t),UOLPlayer.isSafariMacOS&&!e.isPlayingAd()&&e.mediaPlayer.play(),this.events.volumeChange.dispatch(t),h=!0,e.tracker.pushStateDelayed("volume",Math.ceil(100*t))}.bind(this)),n.registerEventListener("toggleMute",function(e){this.events.toggleMute.dispatch(e)}.bind(this)),e.mediaPlayer.registerEventListener("volumeChange",function(e){h||n.updateVolume(e),h=!1}.bind(this)),download=new UOLPlayer.Download(e),e.data.item.generatedThumbs>0&&(d=new UOLPlayer.ThumbPreview(e,o,{total:e.data.item.generatedThumbs,mediaId:e.data.item.mediaId,duration:e.data.item.duration.seconds}),l.registerEventListener("navigate",function(e){d.navigate(e)}.bind(this))),!UOLPlayer.isMobile&&"V"==e.data.item.type){var y,g=o.getElementsByClassName("up-bt-tools")[0],v=e.wrapper.getElementsByClassName("up-ctrlbar-tools")[0];g.addEventListener("click",function(e){e.target===g&&r()}),g.addEventListener("mouseout",s),v.addEventListener("mouseover",function(){clearTimeout(y)}),v.addEventListener("mousemove",s),u=new UOLPlayer.ChangePlaybackRate(e),u.registerEventListener("change",function(t){e.mediaPlayer.playbackRate(t),this.events.changePlaybackRate.dispatch(t),e.tracker.pushState("playbackRate",t)}.bind(this)),e.mediaPlayer.registerEventListener("onChangedPlaybackRate",u.setActive),p=new UOLPlayer.ChangeQuality(e,e.data.formats),p.registerEventListener("change",function(t){e.mediaPlayer.changeQuality(t),this.events.changeQuality.dispatch(t),e.tracker.pushState("quality",t)}.bind(this)),e.data.formats.current&&(p.setFormat(e.data.formats.current.type),e.tracker.pushState("quality",e.data.formats.current.type)),e.mediaPlayer.registerEventListener("ready",function(t){p.updateList(e.data.formats.HLS||e.data.formats.DASH)}),e.mediaPlayer.registerEventListener("onChangingQuality",function(e){p.setFormat(e)}),e.mediaPlayer.registerEventListener("onChangedQuality",p.setActive),e.data.formats&&(e.data.formats.HLS||e.data.formats.DASH)&&p.updateList(e.data.formats.HLS||e.data.formats.DASH)}e.mediaPlayer.registerEventListener("progress",function(t){var a=e.mediaPlayer.mediaElement;a.maxReadyState=Math.max(a.readyState,a.maxReadyState||0),t.target.buffered.length>0&&!e.isPlayingAd()&&(a.maxBuffered=Math.max(t.target.buffered.end(0),a.maxBuffered||0),l.updateBuffer(e.startTime+t.target.buffered.end(0)),e.tracker.pushState("bufferizedPercentage",Math.ceil(a.maxBuffered/t.target.duration*100),0),e.tracker.pushState("bufferized",a.maxBuffered,10))}.bind(this)),e.mediaPlayer.registerEventListener("timeupdate",function(t){UOLPlayer.isIOS&&e.wrapper.hasClass("_waiting")&&e.wrapper.removeClass("_waiting");var a=Math.floor(e.startTime),r=Math.floor(t.target.currentTime),i=Math.floor(c.duration.seconds),s=Math.floor(t.target.duration);e.mediaPlayer.mediaElement;this.currentTime=0===a?r:r+(i-s),UOLPlayer.isNumeric(this.currentTime)&&(l.updateProgress(this.currentTime),e.wrapper.removeClass("_error"),e.tracker.pushState("currentTime",this.currentTime),e.tracker.pushState("currentTimePercentage",Math.ceil(r/i*100)))}.bind(this)),this.update=function(){p&&(p.updateList(e.data.formats.available),e.mediaPlayer.registerEventListener("onChangingQuality",function(e){p.setFormat(e)}),e.mediaPlayer.registerEventListener("onChangedQuality",p.setActive))},this.updateProgress=l.updateProgress,this.progress=l.progress,this.toggleMute=n.toggleMute,this.updateVolume=n.updateVolume,this.isMute=n.isMute,this.mute=n.mute,p&&(this.updateList=p.updateList);try{if(UOLPlayer.getURL().indexOf("simulateBug=controlbar")>-1){var f;setTimeout(function(){a+b},null!==(f=UOLPlayer.getURL().match(/simulateBugTime=(\d+)/))?parseInt(f.pop()):7e3)}}catch(P){}},UOLPlayer.Download=function(e){if(e.download&&e.data.item){var t=e.data,a=e.wrapper,r=e.wrapper.getElementsByClassName("up-bt-download")[0],i=t.item.hash||e.mediaId;if(i=i.split("-"),i.length>1&&i.pop(),i=i.join("-").replace(/-+/g,"-"),"V"==t.item.type){var s="0";for(var o in t.formats.available)parseInt(o)>parseInt(s)&&(s=o);parseInt(s)>0&&(a.getElementsByClassName("up-bt-download-display")[0].show(),r.setAttribute("alt",s),r.setAttribute("text",s),r.setAttribute("href",UOLPlayer.mediaSourceURL(t.formats.available[s].url,e.revision,e.hashId)),r.setAttribute("download",i+".mp4"))}else{var n=UOLPlayer.mediaSourceURL(t.formats.url,e.revision,e.hashId);r.setAttribute("href",n),r.setAttribute("download",i+".mp3"),a.getElementsByClassName("up-bt-download-display")[0].show()}}},UOLPlayer.ProgressBar=function(e,t,a){function r(){if(0==a.seconds&&e.mediaPlayer&&e.mediaPlayer.mediaElement&&!isNaN(e.mediaPlayer.mediaElement.duration)){a.seconds=Math.ceil(e.mediaPlayer.mediaElement.duration),d=UOLPlayer.time2perc(a.seconds);var t=Math.floor(a.seconds/60),r=a.seconds%60;r<10?a.formatted=t+":0"+r:a.formatted=t+":"+r}}function i(e){e=UOLPlayer.isNumeric(e)?e:0,l.currentTime.innerHTML=e.toString().formatTime()}var s,o=a,n=t.getElementsByClassName("up-progressbar-"+e.mediaType)[0],l={control:n.getElementsByClassName("up-dragbar-control")[0],handlebar:n.getElementsByClassName("up-dragbar-handle")[0],bar:n.getElementsByClassName("up-dragbar-bar")[0],buffer:n.getElementsByClassName("up-dragbar-buffered")[0],currentTime:t.getElementsByClassName("up-time-current")[0],totalTime:t.getElementsByClassName("up-time-duration")[0]},d=UOLPlayer.time2perc(a.seconds),p=0;UOLPlayer.DragBar.call(this,l),this.events.seeking=new UOLPlayer.customEvents,this.events.seeked=new UOLPlayer.customEvents,this.registerEventListener("mouseover",function(e){}.bind(this)),this.registerEventListener("mouseout",function(e){}.bind(this)),this.registerEventListener("press",function(e){this.pressed=!0,n.addClass("_active"),this.events.seeking.dispatch(e)}.bind(this)),this.registerEventListener("release",function(e){this.pressed=!1,n.removeClass("_active"),this.events.seeked.dispatch(Math.floor(e))}.bind(this));var u=function(e,t){p=d(e),s=t?100*e/t:d(e),this.pressed||this.update(s)}.bind(this);l.totalTime.innerHTML=a.formatted,this.updateBuffer=function(e){r(),l.buffer.style.width=d(e)+"%"},this.updateProgress=function(e,t){r(),l.totalTime.innerHTML=t?t.toString().formatTime():o.formatted,u(e,t),i(e)},this.progress=function(){return p}},UOLPlayer.ThumbPreview=function(e,t,a){var r,i,s,o,n,l,d,p,u,c,m,h='<div class="up-thumbpreview"><div class="up-preload-spinner"></div><span class="up-thumbpreview_img"></span><div class="up-current">0:00</div></div>',y=25,g=-142,v=-80,f=a.mediaId,P=a.total-1,L=100/P,O=-1,E=UOLPlayer.perc2time(a.duration),U=0,b=142,C=.9,_=1.3;s=t.getElementsByClassName("up-progressbar")[0],s.appendHtmlText(h),r=t.getElementsByClassName("up-thumbpreview")[0],o=r.getElementsByClassName("up-current")[0],i=r.getElementsByClassName("up-thumbpreview_img")[0],s.addEventListener(UOLPlayer.mouseover,function(){e.wrapper.addClass("up-pause-overlay-fade")}),s.addEventListener(UOLPlayer.mouseout,function(){e.wrapper.removeClass("up-pause-overlay-fade")}),this.navigate=function(t){if(0===a.duration&&e.mediaPlayer&&e.mediaPlayer.mediaElement&&!isNaN(e.mediaPlayer.mediaElement.duration)){e.data.item.duration.seconds=a.duration=Math.ceil(e.mediaPlayer.mediaElement.duration),E=UOLPlayer.perc2time(a.duration);var h=Math.floor(a.duration/60),P=a.duration%60;P<10?e.data.item.duration.formatted=h+":0"+P:e.data.item.duration.formatted=h+":"+P}timelineWidth=s.offsetWidth,n=Math.floor((t.perc+2)/L),l=Math.floor(n%y),d=Math.floor(n/y),p=Math.floor(l/5)*g,u=Math.floor(l%5)*v,d!=O&&(O=d,i.style.backgroundImage="url(//thumb.mais.uol.com.br/"+f+"-grid-"+d+".jpg)"),i.style.backgroundPosition=p+"px "+u+"px",o.innerText=E(t.perc).toString().formatTime(),c=t.x,UOLPlayer.isMobile?(U=(b-b*C)/2,width=b*C):UOLPlayer.isFullscreen?(U=(b-b*_)/2,width=b*_):width=b,m=Math.floor(c-c*(width/s.offsetWidth))-U,r.style.left=m+"px"}},UOLPlayer.Volume=function(e,t){function a(e){var t=100*e;s.bar.style.width=t+"%",s.handlebar.style.left=t+"%",r(t)}function r(e){0==e?s.bt.addClass("up-bt-volume-mute").removeClass("up-bt-volume-high").removeClass("up-bt-volume-low"):e>0&&e<51?s.bt.addClass("up-bt-volume-low").removeClass("up-bt-volume-mute").removeClass("up-bt-volume-high"):e>51&&s.bt.addClass("up-bt-volume-high").removeClass("up-bt-volume-mute").removeClass("up-bt-volume-low")}this.muted=!1;var i=t.getElementsByClassName("up-volume")[0],s={control:i.getElementsByClassName("up-dragbar-control")[0],panel:i.getElementsByClassName("up-volume-panel")[0],handlebar:i.getElementsByClassName("up-dragbar-handle")[0],bar:i.getElementsByClassName("up-dragbar-bar")[0],group:t.getElementsByClassName("up-volume-group")[0],bt:t.getElementsByClassName("up-bt-volume")[0],btUnmute:e.wrapper.getElementsByClassName("up-startmute")[0]};UOLPlayer.DragBar.call(this,s),this.events.volumeChange=new UOLPlayer.customEvents,this.events.toggleMute=new UOLPlayer.customEvents;var o=function(){this.events.toggleMute.dispatch(this.muted)}.bind(this);this.registerEventListener("update",function(e){this.muted=!1,
r(e),this.events.volumeChange.dispatch(e/100)}.bind(this)),s.bt.addEventListener("click",o),s.btUnmute.addEventListener("click",o),a(UOLPlayer.getCookie("lplr_vlm")||1),this.updateVolume=a,this.toggleMute=function(){this.muted=!this.muted,a(this.muted?0:UOLPlayer.getCookie("lplr_vlm"))}.bind(this),this.mute=function(){return this.muted=!0,a(0),this.muted}.bind(this),this.isMute=function(){return this.muted}.bind(this)},UOLPlayer.MediaElement=function(){if(this.events={formatsChanged:new UOLPlayer.customEvents,onChangedPlaybackRate:new UOLPlayer.customEvents,onChangedQuality:new UOLPlayer.customEvents,onChangingQuality:new UOLPlayer.customEvents,onCheckpoint:new UOLPlayer.customEvents,onEnd:new UOLPlayer.customEvents,onPause:new UOLPlayer.customEvents,onPlaying:new UOLPlayer.customEvents,onReject:new UOLPlayer.customEvents,onRoundedTimeUpdate:new UOLPlayer.customEvents,reload:new UOLPlayer.customEvents,toggleMute:new UOLPlayer.customEvents,volumeChange:new UOLPlayer.customEvents},this.currentSrc="",this.autoplayRejected=!1,this.mute=function(){this.isMute=!0,this.mediaElement.muted=this.isMute},this.toggleMute=function(){this.isMute=!this.isMute,this.mediaElement.muted=this.isMute},this.play=function(){this.app.logger.startTime("mediaLoad"),!this.app.dfp&&this.app.autoplay?this.checkAutoplay():this.mediaElement.play()},this.checkAutoplay=function(e,t){this.app.isAutoplayOk=!1,this.autoplayRejected=!1;var a=function(){var r=this.mediaElement.play();return void 0!==r?(r.then(function(){this.app.logger.log("Play OK"),this.app.isAutoplayOk=this.autoplayRejected===!1,e&&e()}.bind(this))["catch"](function(e){this.app.isAutoplayOk?(this.app.logger.logError("Play rejeitado pela segunda vez, aguardando clique do usuário"),this.app.isAutoplayOk=!1,this.app.isAutoplayMuted=!1,this.autoplayRejected=!0,t?t():this.events.onReject.dispatch(),this.mediaElement.pause()):(this.app.logger.logError("Play rejeitado, tentando iniciar mudo..."),this.app.isAutoplayOk=!0,this.app.isAutoplayMuted=!0,this.app.startMute=!0,this.app.mute(),a())}.bind(this)),r):(this.app.isAutoplayOk=!0,this.app.isAutoplayMuted=!1,e&&e(),void 0)}.bind(this);a()},this.preloadContent=function(e){this.app.isAutoplayOk=!1,this.videoURL=this.mediaElement.src,UOLPlayer.isMobile||this.app.autoplay?this.checkAutoplay(e):e()},this.pause=function(){this.mediaElement.pause()},this.togglePause=function(){this.mediaElement.paused&&this.app.wrapper.hasClass("_clicked")&&!this.app.wrapper.hasClass("_paused")?this.mediaElement.play():this.mediaElement.pause()},this.isMobilePlatform=function(){return this.mediaElement.paused&&UOLPlayer.isMobile},this.setSrc=function(e,t){t=isNaN(t)?0:t,UOLPlayer.ElementErrorHandler.resolveFallbackURL(this.app,e,function(a){this.lastUrl=this.currentSrc=e=a,UOLPlayer.ElementErrorHandler.extractMediaHeaders(this.app,e),this.mediaElement.src=e,this.app.currentFile=e,this.seek(t),this.app.logger.log(e)}.bind(this))},this.setPreload=function(e){this.mediaElement.preload=e},this.bufferedTime=function(){return this.mediaElement.buffered.length>0?this.mediaElement.buffered.end(0):0},this.getCurrentTime=function(){return Math.floor(this.mediaElement.currentTime)},this.saveCurrentTime=function(){this.lastPauseTime=this.mediaElement.currentTime},this.getCurrentPerc=function(){return Math.floor(100*((this.getCurrentTime()+1)/this.mediaElement.duration))},this.getRemainingTime=function(){return Math.ceil(this.mediaElement.duration-this.getCurrentTime())},this.getDuration=function(){return Math.max(this.app.data.item.duration.seconds,this.mediaElement.duration||0)}.bind(this),this.seek=function(){var e,t;return UOLPlayer.isSafari||UOLPlayer.isIE||UOLPlayer.isAndroidOld?(this.mediaNotLoadedTimeout=this.mediaNotLoadedTimeout||null,e=function(a){clearTimeout(this.mediaNotLoadedTimeout),this.mediaElement&&!this.mediaElement.error&&(isNaN(this.mediaElement.duration)?(null===this.mediaNotLoadedTimeout&&console.info("Trying to seek media before it loaded retrying..."),this.mediaNotLoadedTimeout=setTimeout(e,0,a)):(clearInterval(t),t=setInterval(function(){this.lastCurrentTime=this.mediaElement.currentTime=Math.floor(a),clearInterval(t)}.bind(this),500),this.app.wrapper.hasClass("up-playing")&&this.play(),this.mediaNotLoadedTimeout=null))}.bind(this)):e=function(e){this.lastCurrentTime=this.mediaElement.currentTime=Math.floor(e),this.app.wrapper.hasClass("up-playing")&&this.play()},e}.bind(this)(),this.forward=function(e){this.seek(this.mediaElement.currentTime+(e||5))}.bind(this),this.rewind=function(e){this.seek(this.mediaElement.currentTime-(e||5))}.bind(this),this.volume=function(e){return e=e===!1?1:e,void 0===e?this.mediaElement.volume:(e=Math.min(1,Math.max(0,e)),e>0&&UOLPlayer.setCookie("lplr_vlm",e,365),this.mediaElement.volume=e,void 0)},this.volumeUp=function(){this.volume(this.mediaElement.volume+.1)}.bind(this),this.volumeDown=function(){this.volume(this.mediaElement.volume-.1)}.bind(this),this.registerEventListener=function(e,t){if(this.events[e])this.events[e].add(t);else switch(e){case"fullscreenchange":UOLPlayer.each(["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"],function(e){document.addEventListener(e,t,!1)}.bind(this));break;default:this.mediaElement.addEventListener(e,t,!1)}},this.removeEventListener=function(e,t){if(this.events[e])this.events[e].remove(t);else switch(e){case"fullscreenchange":["webkitfullscreenchange","mozfullscreenchange","fullscreenChange"].each(function(e){document.removeEventListener(e,t,!1)});break;default:this.mediaElement.removeEventListener(e,t,!1)}},this.playbackRate=function(e){e=+e,clearTimeout(this.mediaNotLoadedPlaybackRateTimeout),isNaN(this.mediaElement.duration)?this.mediaNotLoadedTimeout=setTimeout(this.playbackRate.bind(this),100,e):(this.mediaElement.playbackRate=e,UOLPlayer.setCookie("lplr_pbr",e,1))},this.mediaElement){this.mediaElement.addEventListener("pause",function(){this.saveCurrentTime(),this.mediaElement.currentTime>0&&!this.mediaElement.ended&&this.events.onPause.dispatch()}.bind(this)),this.mediaElement.addEventListener("playing",function(){this.events.onPlaying.dispatch()}.bind(this)),this.mediaElement.addEventListener("volumechange",function(){this.mediaElement.muted||this.events.volumeChange.dispatch(this.mediaElement.volume),this.app.isPlayingAd()||this.app.backbone.video.volumeChange()}.bind(this));var e=0;this.mediaElement.addEventListener("timeupdate",function(t){e!==this.getCurrentTime()&&this.events.onRoundedTimeUpdate.dispatch({time:this.getCurrentTime(),perc:this.getCurrentPerc()}),e=this.getCurrentTime(),this.timeupdate_timestamp!==Math.floor(t.timeStamp/1e3)&&(this.timeupdate_timestamp=Math.floor(t.timeStamp/1e3),this.app.backbone.video.progress())}.bind(this)),this.mediaElement.addEventListener("ratechange",function(){this.events.onChangedPlaybackRate.dispatch(100*this.mediaElement.playbackRate)}.bind(this)),UOLPlayer.isIphone&&this.mediaElement.addEventListener("canplay",function(){this.app.wrapper.removeClass("up-waiting")}.bind(this)),this.registerEventListener("onChangedQuality",function(e){this.app.backbone.video.onChangedQuality({currentFormat:e,previousFormat:this.app.currentLevel}),this.app.currentLevel=e}.bind(this))}if(UOLPlayer.toBoolean(UOLPlayer.urlParameter.debugMediaElement))for(var t=["abort","canplay","canplaythrough","change","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","encrypted","ended","error","focus","focusin","focusout","input","interruptbegin","interruptend","keydown","keypress","load","loadeddata","loadedmetadata","loadstart","mousedown","mousemove","mouseout","mouseover","mouseup","mousewheel","mozaudioavailable","onkeyup","onMSVideoFormatChanged","onMSVideoFrameStepCompleted","onMSVideoOptimalLayoutChanged","onselect","pause","play","playing","progress","ratechange","readystatechange","reset","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],r=0;r<t.length;++r)this.mediaElement.addEventListener(t[r],function(e){this.desbuga!==!1&&UOLPlayer.l([e.type,e])}.bind(this));this.app.backbone.mediaelement.mounted(this.mediaElement),UOLPlayer.getCookie("lplr_vlm")!==!1&&0!==UOLPlayer.getCookie("lplr_vlm")&&this.volume(UOLPlayer.getCookie("lplr_vlm")),UOLPlayer.getCookie("lplr_pbr")!==!1&&0!==UOLPlayer.getCookie("lplr_pbr")&&this.playbackRate(UOLPlayer.getCookie("lplr_pbr"));try{if(UOLPlayer.getURL().indexOf("simulateBug=mediaplayer")>-1){var i;setTimeout(function(){a+b},null!==(i=UOLPlayer.getURL().match(/simulateBugTime=(\d+)/))?parseInt(i.pop()):7e3)}}catch(s){}},Object.defineProperty(HTMLMediaElement.prototype,"playing",{get:function(){return!!(this.currentTime>0&&!this.paused&&!this.ended&&this.readyState>2)}}),UOLPlayer.AudioPlayer=function(e,t){e.currentFormat=UOLPlayer.currentFormatLog(e,e.mediaId,"AUDIO"),this.app=e,this.wrapper=t,this.mediaElement=this.wrapper.getElementsByClassName("audio-element")[0],this.currentTime=0,this.audioUrl=e.data.item.audioUrl,e.data.formats?(e.data.formats.alternatives=UOLPlayer.sortRandom(e.data.formats.alternatives||[]),e.externalCDN=e.data.formats.externalCDN):e.externalCDN=!1,this.app.startMute=!1,this.wrapper.addClass("_audio").removeClass("_video"),UOLPlayer.MediaElement.call(this);try{this.wrapper.getElementsByClassName("up-for-ad")[0].remove(),this.wrapper.getElementsByClassName("video-element")[0].remove()}catch(a){console.error(a)}this.setAudio=this.attachMedia=function(){var t;if(e.data.formats){var a=e.data.formats.alternatives;a.length>0?t=UOLPlayer.mediaSourceURL(a.shift(),e.data.item.revision,e.hashId):void 0!==this.audioUrl?(t=UOLPlayer.mediaSourceURL(this.audioUrl,e.data.item.revision,e.hashId),this.audioUrl=void 0):t=UOLPlayer.mediaSourceFallbackURL(e.data.item.mediaId,e.data.item.revision,"mp3",e.hashId);var r=t.indexOf("?")===-1?"?":"&";t+=r+"token="+encodeURI(e.data.formats.token)+"&sign="+encodeURI(e.data.formats.sign)}else t=UOLPlayer.mediaSourceURL(this.audioUrl,e.data.item.revision,e.hashId);this.setSrc(t)}.bind(this),this.reloadContent=function(){this.app.logger.log("reloadContent"),this.setAudio(),this.mediaElement.load(),this.app.wrapper.hasClass("_clicked")&&this.play()}},UOLPlayer.prototype.changeVideo=function(e,t){console.info('UOLPlayer: ChangeVideo("'+e+'")');var t=t||{};UOLPlayer.sendUnloadLog(this.wrapper,"changeVideo"),this.destroy();var a=this.wrapper;for(value in t)a.setData(value,t[value]);return a.setData("mediaid",e).setData("changeVideo",!0).setData("materialized",!1).setData("startmute",!1),this.detach.state&&a.setData("detachstate",this.detach.state),t.autoplay===!1?a.setData("autoplay",!1):(t&&!UOLPlayer.isMobile||this.autoplay===!0)&&a.setData("autoplay",!0),this.backbone.core.changeMedia(),delete this,new UOLPlayer(a)},UOLPlayer.DASH=function(e,t){e.currentFormat=UOLPlayer.currentFormatLog(e,e.mediaId,"DASH");var a={},r={},s={},o=this;this.app=e,this.app.externalCDN=e.data.formats.available.DASH.externalCDN,this.wrapper=t,this.mediaElement=this.wrapper.getElementsByClassName("video-element")[0],this.adContainer=this.wrapper.getElementsByClassName("up-ad-container")[0],this.currentMedia=null,this.attached=!1,this.lastUrl="",e.forceCDN!==!1&&void 0!==e.forceCDN?this.mpd=e.data.formats.available.DASH.alternatives[0]:e.data.formats.available.DASH.url.indexOf("video.m.mais.uol.com.br")===-1?this.mpd=UOLPlayer.sortRandom(e.data.formats.available.DASH.alternatives.concat(e.data.formats.available.DASH.url))[0]:this.mpd="//video.m.mais.uol.com.br/"+e.mediaId+"-12.mpd",this.mpd=UOLPlayer.mediaSourceURL(this.mpd,e.data.item.revision,e.hashId),this.minimumQualityVisible=void 0!==e.data.item.playerParameters.dash_minimum_quality_visible?parseInt(e.data.item.playerParameters.dash_minimum_quality_visible):0,this.wrapper.addClass("_video").removeClass("_audio"),this.app.logger.logDASH(this.mpd),this.waitNextLevelInterval=null,UOLPlayer.MediaElement.call(this),this.events.ready=new UOLPlayer.customEvents,this.events.qualityChanged=new UOLPlayer.customEvents,this.wrapper.getElementsByClassName("audio-element")[0]&&this.wrapper.getElementsByClassName("audio-element")[0].remove();var n=null,l=null;o.currentServer=0;var d=function(t,a){var r=UOLPlayer.getStaticParameter(a);r.token&&r.sign||!e.data.formats.available.DASH.token||!e.data.formats.available.DASH.sign||(a+="?token="+encodeURI(e.data.formats.available.DASH.token)+"&sign="+encodeURI(e.data.formats.available.DASH.sign)),UOLPlayer.ElementErrorHandler.resolveFallbackURL(e,a,function(r){if(!t)return console.error("XHR already destroy");o.lastUrl=a=r,l=t,t.chrono=new UOLPlayer.Chronometer("URL: "+a),t.chrono.start();var i=function(r){if(t.readyState>=t.HEADERS_RECEIVED&&!t.dns&&(t.dns=!0,UOLPlayer.Profiler.trackDNS(o.lastUrl.extractDomain(),t.chrono.getCurrentTime().elapsedTime.time)),t.readyState>=t.LOADING&&!t.elapsedTime){var i=UOLPlayer.ElementErrorHandler.extractServerFromUrl(a);t.elapsedTime=t.chrono.stop().elapsedTime,UOLPlayer.Profiler.trackServer(i,t.elapsedTime.time,t.status)}if(t.readyState==t.DONE)try{var s=t.getAllResponseHeaders().toString(),n=s.match(/content-length:\s*(\d+)/).pop(),l=t.chrono.stop().elapsedTime,i=UOLPlayer.ElementErrorHandler.extractServerFromUrl(a);if(s&&n){n=parseFloat(n),e.statistic.time+=l.time,e.statistic.size+=n,e.statistic.amountTime+=l.time,e.statistic.amountSize+=n,e.statistic.requests?e.statistic.requests.push({url:a,size:n,time:l.time}):e.statistic.requests=[{url:a,size:n,time:l.time}];var d=e.statistic.time>0?1e3*e.statistic.size/e.statistic.time:0,p=e.statistic.amountTime>0?1e3*e.statistic.amountSize/e.statistic.amountTime:0;e.statistic.data={groupingMap:{server:i,log:"download",dna:UOLPlayer.DNA()},measureMap:{size:e.statistic.size,sizeMB:e.statistic.size/1024/1024,time:e.statistic.time,velocity:d,amountedVelocity:p,amountedVelocityKB:p/1024}}}}catch(u){}},s=function(a){413===t.status&&(n.destroy(),e.setError(UOLPlayer.ElementErrorHandler.errorCodes.PAYLOAD_TOO_LARGE))},d=function(e){s("payload error: XHR Complete")},p=function(e){s("payload error: XHR Error")};t.addEventListener("readystatechange",i,!1),t.addEventListener("load",d,!1),t.addEventListener("error",p,!1);var u=t.open.bind(t);t.open=function(a,i,s){var o=UOLPlayer.getStaticParameter(r);i=r,i=i.replace(/[\/]\d+/,"/"+e.mediaId).split("?").shift(),o.token&&o.sign&&(i+="?token="+o.token+"&sign="+o.sign),i=UOLPlayer.mediaSourceURL(i,e.data.item.revision,e.hashId),i="https:"+i,u(a,i,s),t.withCredentials=!0}.bind(t)}.bind(this))},p=function(t){function a(t){var a=new Date,r=t.request,i=UOLPlayer.getStaticParameter(t.url);i.token&&i.sign||!e.data.formats.available.DASH.token||!e.data.formats.available.DASH.sign||(t.url+="?token="+encodeURI(e.data.formats.available.DASH.token)+"&sign="+encodeURI(e.data.formats.available.DASH.sign));var o=new XMLHttpRequest,n=t.url.match(/https:\/\/|http:\/\//);if(n&&0===n.index)var l=t.url.replace(/^http:/,"https:");else var l="https:"+t.url;o.open(t.method,l,!0),r.responseType&&(o.responseType=r.responseType),r.range&&o.setRequestHeader("Range","bytes="+r.range),r.requestStartDate||(r.requestStartDate=a),s&&(o=s.modifyRequestHeader(o)),o.withCredentials=t.withCredentials,o.onload=t.onload,o.onloadend=t.onend,o.onerror=t.onerror,o.onprogress=t.progress,o.onabort=t.onabort,d(o,t.url),o.send(),t.response=o}function r(e){var t=e.response;t.onloadend=t.onerror=t.onprogress=void 0,t.abort()}t=t||{};var i,s=t.requestModifier;return i={load:a,abort:r}};if(this.xhrMockeyPatch=d,this.xhrMockeyDash=p,this.mediaLoad=function(){e.logger.send("mediaLoad",{time:e.logger.stopTime("mediaLoad")}),this.mediaElement.removeEventListener("playing",this.mediaLoadEvent,!1)},this.mediaLoadEvent=this.mediaLoad.bind(this),this.registerEventListener("playing",this.mediaLoadEvent),this.trackRequest=function(){if(l&&4===l.readyState){var e=UOLPlayer.ElementErrorHandler.extractServerFromUrl(this.lastUrl),t=UOLPlayer.ElementErrorHandler.parseHeaders(l);UOLPlayer.ElementErrorHandler.logHeaders(this.app,e,l.status,t),this.app.tracker.pushState("dashLastRequest",this.lastUrl.split("?").shift().split("/").pop()),this.app.tracker.pushState("dashCORS",l.status>0)}}.bind(this),this.changeQuality=function(t){var i=a[t],s=i.index===-1,o=e.startTime+this.getCurrentTime(),l=r[n.getQualityFor("video")];e.qualityChanged=!0,e.startTime=o,e.data.formats.current=a[t],i.index===-1?this.setAutoLevel("video",!0):n.getQualityFor("video")!==i.index&&(this.setAutoLevel("video",!1),this.dashSwitchTimeout.abort(),n.setQualityFor("video",i.index)),i.index===l||s?this.events.onChangedQuality.dispatch({format:i.type,auto:s}):this.events.onChangingQuality.dispatch({format:t,auto:s})}.bind(this),this.currentQuality=function(t){format=a[t];var r=e.startTime+this.getCurrentTime();e.qualityChanged=!0,e.startTime=r,e.data.formats.current=format,currFormat="auto"===t?"":t,format.index>=0&&n.setInitialBitrateFor("video",format.index),this.events.onChangingQuality.dispatch({format:currFormat,auto:n.autoLevelEnabled})}.bind(this),this.setSrc=function(e){this.app.currentFile=e,this.dash.initialize(this.mediaElement,e,!1)}.bind(this),this.setDefault=function(){this.changeQuality("auto")},this.reloadContent=function(){this.app.logger.logDASH("ReloadContent"),UOLPlayer.isMobile&&this.attachMedia(),this.play()},this.removePreloadListener=function(){this.app.logger.logDASH("removePreloadListener - "+this.preloadListener),this.preloadListener&&(this.mediaElement.removeEventListener("loadedmetadata",this.preloadListener,!1),this.preloadListener=null)},this.fallback=function(){return this.app.data.formats.retry[0]?(this.sendError(),this.app.dashEnabled=!1,this.app.data.formats["default"]=this.app.data.formats.retry[0],this.app.mediaPlayer=new UOLPlayer.VideoPlayer(this.app,this.app.wrapper)):void this.app.setError(UOLPlayer.ElementErrorHandler.errorCodes.VIDEO_SOURCE_WITHOUT_FALLBACK)}.bind(this),this.sendError=function(e,t){var a=UOLPlayer.ElementErrorHandler.errorCodes.DASH_UNKNOWN_ERROR;if("undefined"==typeof dashjs?(UOLPlayer.l("dashjs is undefined"),a=UOLPlayer.ElementErrorHandler.errorCodes.DASH_UNDEFINED_ON_INITIALIZE):e===dashjs.MediaPlayer.errors.DOWNLOAD_ERROR_ID_CONTENT_CODE?a=UOLPlayer.ElementErrorHandler.errorCodes.DASH_NETWORK_UNSTABLE:e===dashjs.MediaPlayer.errors.CAPABILITY_MEDIASOURCE_ERROR_CODE&&(a=UOLPlayer.ElementErrorHandler.errorCodes.DASH_MEDIA_ERROR),"number"==typeof e&&UOLPlayer.ElementErrorHandler.errorTypes[parseInt("5"+e)]){var r=UOLPlayer.ElementErrorHandler.errorTypes[parseInt("5"+e)].error;a=UOLPlayer.ElementErrorHandler.errorCodes[r]}a?UOLPlayerLog.send(this.app,"error",UOLPlayer.ElementErrorHandler.logMessage(a)):UOLPlayer.l("DASH - Undefined error")},this.destroy=function(e){this.app.onVideoError({error:e})}.bind(this),this.setInitialQuality=function(){if(e.data.formats.DASH){var t=UOLPlayer.isMobile&&void 0!=e.data.item.playerParameters.dash_start_quality_mobile&&void 0!=s[e.data.item.playerParameters.dash_start_quality_mobile]&&e.data.item.playerParameters.dash_start_quality_mobile,r=void 0!=e.data.item.playerParameters.dash_start_quality_desktop&&void 0!=s[e.data.item.playerParameters.dash_start_quality_desktop]&&e.data.item.playerParameters.dash_start_quality_desktop;a[e.startHd]?this.currentQuality(e.startHd):t!==!1?this.currentQuality(t):r!==!1?this.currentQuality(r):(e.startHd!==!1&&UOLPlayer.w("Formato "+e.startHd+" indisponível"),this.setDefault())}}.bind(this),this.onDASHError=function(e){this.lastError=Array.prototype.slice.call(arguments),e.error&&e.error.code&&this.sendError(e.error.code),this.destroy()}.bind(this),this.setAutoLevel=function(e,t){this.dash.setAutoSwitchQualityFor(e,t),this.dash.autoLevelEnabled=t},"undefined"==typeof dashjs)return this.fallback();n=this.dash=dashjs.MediaPlayer().create(),n.currentLevel=-1,n.on(dashjs.MediaPlayer.events.MANIFEST_LOADED,function(t){data=t.data,data.levels=data.Period.AdaptationSet[0].Representation_asArray,this.trackRequest(),this.app.logger.logDASH("Manifest Parsed - "+t);var o,n,l,d=data.levels.length-1;for(i=0;i<=d;i++)o=d-i,n=data.levels[o],l=n.height+"p",n.height>this.minimumQualityVisible&&(a[l]={type:l,index:o}),s[l]={type:l,index:o};s.auto=a.auto={type:"auto",index:-1},e.data.formats.DASH=a,this.setInitialQuality();for(f in a)r[a[f].index]=a[f].type;this.events.ready.dispatch()}.bind(this)),n.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,function(e,t){if("video"===e.mediaType){var a=e.newQuality,r=n.getBitrateInfoListFor("video");r[a].height+"p";this.trackRequest()}}.bind(this)),n.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED,function(e,t){if("video"===e.mediaType){var a=e.newQuality,r=n.getBitrateInfoListFor("video"),i=(r[a],r[a].height+"p");r.sort(function(e,t){return e.bitrate<t.bitrate?-1:e.bitrate>t.bitrate?1:0});for(var s=0;s<r.length;s++)r[s].id=s;n.currentLevel=a,this.trackRequest(),this.app.tracker.pushState("dashLevel",i),this.app.addLevelList(i),this.app.logger.logDASH("Qualidade: "+i),this.events.onChangedQuality.dispatch({format:i,auto:n.autoLevelEnabled})}}.bind(this)),n.on(dashjs.MediaPlayer.events.ERROR,this.onDASHError);var u=function(){n.nextLevel=-1,this.removeEventListener("progress",u,!1)}.bind(this);this.registerEventListener("progress",u)},UOLPlayer.DASH.isSupported=function(){return window.MediaSource=window.MediaSource||window.WebKitMediaSource,!UOLPlayer.isChromeOld&&void 0!==window.MediaSource&&"function"==typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/webm; codecs="vp9"')},UOLPlayer.DASH.prototype.attachMedia=function(){this.dashSwitchTimeout=this.app.timeouts[this.app.timeouts.type.DASH_SWITCH_LEVEL],this.setInitialQuality(),this.attached=!0,this.dash&&(a=this.dash,this.dash.extend("XHRLoader",this.xhrMockeyDash,!0),this.setSrc(this.mpd),UOLPlayer.urlParameter.initialQuality&&this.changeQuality(UOLPlayer.urlParameter.initialQuality),UOLPlayer.urlParameter.bufferPruningInterval&&this.dash.setBufferPruningInterval(UOLPlayer.urlParameter.bufferPruningInterval),UOLPlayer.urlParameter.bufferAheadToKeep&&this.dash.setBufferAheadToKeep(UOLPlayer.urlParameter.bufferAheadToKeep),UOLPlayer.urlParameter.bufferToKeep&&this.dash.setBufferToKeep(UOLPlayer.urlParameter.bufferToKeep),UOLPlayer.urlParameter.cacheLoadThresholdForType&&this.dash.setCacheLoadThresholdForType("video",UOLPlayer.urlParameter.cacheLoadThresholdForType),UOLPlayer.urlParameter.ABRStrategy&&this.dash.setABRStrategy(UOLPlayer.urlParameter.ABRStrategy)),this.app.startTime&&this.seek(this.app.startTime)},UOLPlayer.DASH.prototype.detachMedia=function(){this.attached=!1,this.dash.detachMedia()},UOLPlayer.DASH.prototype.formatsReloaded=function(){this.currentServer=0,this.app.externalCDN=this.app.data.formats.available.DASH.externalCDN,this.app.forceCDN!==!1&&void 0!==this.app.forceCDN?this.mpd=this.app.data.formats.available.DASH.alternatives[0]:this.app.data.formats.available.DASH.url.indexOf("video.m.mais.uol.com.br")===-1?this.mpd=UOLPlayer.sortRandom(this.app.data.formats.available.DASH.alternatives.concat(this.app.data.formats.available.DASH.url))[0]:this.mpd="//video.m.mais.uol.com.br/"+this.app.mediaId+"-12.mpd",this.mpd=UOLPlayer.mediaSourceURL(this.mpd,this.app.data.item.revision,this.app.hashId),this.onDASHError.apply(this,this.lastError)},UOLPlayer.HLS=function(e,t){e.currentFormat=UOLPlayer.currentFormatLog(e,e.mediaId,"HLS");var a={},r={},s={},o=this;this.app=e,this.app.externalCDN=e.data.formats.available.HLS.externalCDN,this.wrapper=t,this.mediaElement=this.wrapper.getElementsByClassName("video-element")[0],this.adContainer=this.wrapper.getElementsByClassName("up-ad-container")[0],this.currentMedia=null,this.attached=!1,this.lastUrl="",e.forceCDN!==!1&&void 0!==e.forceCDN?this.m3u8=e.data.formats.available.HLS.alternatives[0]:e.data.formats.available.HLS.url.indexOf("video.m.mais.uol.com.br")===-1?this.m3u8=UOLPlayer.sortRandom(e.data.formats.available.HLS.alternatives.concat(e.data.formats.available.HLS.url))[0]:this.m3u8="//video.m.mais.uol.com.br/"+e.mediaId+"-10.m3u8",this.m3u8=UOLPlayer.mediaSourceURL(this.m3u8,e.data.item.revision,e.hashId),this.minimumQualityVisible=void 0!==e.data.item.playerParameters.hls_minimum_quality_visible?parseInt(e.data.item.playerParameters.hls_minimum_quality_visible):300,this.wrapper.addClass("_video").removeClass("_audio"),this.app.logger.logHLS(this.m3u8),this.waitNextLevelInterval=null,UOLPlayer.MediaElement.call(this),this.events.ready=new UOLPlayer.customEvents,this.events.qualityChanged=new UOLPlayer.customEvents,this.wrapper.getElementsByClassName("audio-element")[0]&&this.wrapper.getElementsByClassName("audio-element")[0].remove();var n=null,l=null;o.currentServer=0;var d=function(){var t=e.data.formats.available.HLS;return!!(t&&t.alternatives&&t.alternatives.length>=o.currentServer+1)},p=function(t){var a="video.m.mais.uol.com.br";return e.data.formats.available.HLS.alternatives.length>o.currentServer&&(a=e.data.formats.available.HLS.alternatives[o.currentServer].extractDomain()),t.replace(/^(https?:)?(\/\/)?(.+?)\//im,"//"+a+"/")},u=function(){return UOLPlayer.isVideoM(o.lastUrl)||null!==o.lastUrl.match(new RegExp(e.mediaId+".mp4"))},c=function(t,a){var r=UOLPlayer.getStaticParameter(a);r.token&&r.sign||!e.data.formats.available.HLS.token||!e.data.formats.available.HLS.sign||(a+="?token="+encodeURI(e.data.formats.available.HLS.token)+"&sign="+encodeURI(e.data.formats.available.HLS.sign)+e.key),UOLPlayer.ElementErrorHandler.resolveFallbackURL(e,a,function(r){if(!t)return console.error("XHR already destroy");o.lastUrl=a=r,l=t,t.chrono=new UOLPlayer.Chronometer("URL: "+a),t.chrono.start();var i=function(r){if(t.readyState>=t.HEADERS_RECEIVED&&!t.dns&&(t.dns=!0,UOLPlayer.Profiler.trackDNS(o.lastUrl.extractDomain(),t.chrono.getCurrentTime().elapsedTime.time)),t.readyState>=t.LOADING&&!t.elapsedTime){var i=UOLPlayer.ElementErrorHandler.extractServerFromUrl(a);t.elapsedTime=t.chrono.stop().elapsedTime,UOLPlayer.Profiler.trackServer(i,t.elapsedTime.time,t.status)}if(t.readyState==t.DONE)try{var s=t.getAllResponseHeaders().toString(),n=s.match(/content-length:\s*(\d+)/).pop(),l=t.chrono.stop().elapsedTime,i=UOLPlayer.ElementErrorHandler.extractServerFromUrl(a);if(s&&n){n=parseFloat(n),e.statistic.time+=l.time,e.statistic.size+=n,e.statistic.amountTime+=l.time,e.statistic.amountSize+=n,e.statistic.requests?e.statistic.requests.push({url:a,size:n,time:l.time}):e.statistic.requests=[{url:a,size:n,time:l.time}];var d=e.statistic.time>0?1e3*e.statistic.size/e.statistic.time:0,p=e.statistic.amountTime>0?1e3*e.statistic.amountSize/e.statistic.amountTime:0;e.statistic.data={groupingMap:{server:i,log:"download",dna:UOLPlayer.DNA()},measureMap:{size:e.statistic.size,sizeMB:e.statistic.size/1024/1024,time:e.statistic.time,velocity:d,amountedVelocity:p,amountedVelocityKB:p/1024}}}}catch(u){}},s=function(a){413===t.status&&(n.destroy(),e.setError(UOLPlayer.ElementErrorHandler.errorCodes.PAYLOAD_TOO_LARGE))},d=function(e){s("payload error: XHR Complete")},p=function(e){s("payload error: XHR Error")};t.addEventListener("readystatechange",i,!1),t.addEventListener("load",d,!1),t.addEventListener("error",p,!1);var u=t.open.bind(t);t.open=function(a,i,s){var o=UOLPlayer.getStaticParameter(r);i=r,i=i.replace(/[\/]\d+/,"/"+e.mediaId).split("?").shift(),o.token&&o.sign&&(i+="?token="+o.token+"&sign="+o.sign+e.key),i=UOLPlayer.mediaSourceURL(i,e.data.item.revision,e.hashId),i="https:"+i,u(a,i,s),t.withCredentials=!0}.bind(t)}.bind(this))};Hls.DefaultConfig.loader.abort=function(){l&&l.abort&&l.abort()};var m={maxBufferLength:UOLPlayer.urlParameter.hlsMaxBufferLength||e.data.item.playerParameters.hls_max_buffer_length,loader:Hls.DefaultConfig.loader,startPosition:e.startTime,xhrSetup:c,enableWorker:!UOLPlayer.isSafariMacOS,debug:UOLPlayer.toBoolean(UOLPlayer.urlParameter.debugHls)};if(this.mediaLoad=function(){e.logger.send("mediaLoad",{time:e.logger.stopTime("mediaLoad")}),this.mediaElement.removeEventListener("playing",this.mediaLoadEvent,!1)},this.mediaLoadEvent=this.mediaLoad.bind(this),this.registerEventListener("playing",this.mediaLoadEvent),this.trackRequest=function(){if(l&&4===l.readyState){var e=UOLPlayer.ElementErrorHandler.extractServerFromUrl(this.lastUrl),t=UOLPlayer.ElementErrorHandler.parseHeaders(l);UOLPlayer.ElementErrorHandler.logHeaders(this.app,e,l.status,t),this.app.tracker.pushState("hlsLastRequest",this.lastUrl.split("?").shift().split("/").pop()),this.app.tracker.pushState("hlsCORS",l.status>0)}}.bind(this),this.changeQuality=function(t){var i=a[t],s=i.index===-1,o=e.startTime+this.getCurrentTime(),l=r[n.currentLevel];e.qualityChanged=!0,e.startTime=o,e.data.formats.current=a[t],n.nextLevel!==i.index&&(this.hlsSwitchTimeout.abort(),this.mediaElement.playing?n.nextLevel=i.index:n.currentLevel=i.index),i.index===n.currentLevel||s?this.events.onChangedQuality.dispatch({format:l,auto:s}):this.events.onChangingQuality.dispatch({format:t,auto:s})}.bind(this),this.currentQuality=function(t){var a=s[t],r=e.startTime+this.getCurrentTime();currFormat="auto"===t?"":t,e.qualityChanged=!0,e.startTime=r,e.data.formats.current=a,n.currentLevel!==a.index&&(n.currentLevel=a.index),a.index!==-1||UOLPlayer.isMobile||(n.startLevel=-1,n.nextLevel=-1),this.events.onChangingQuality.dispatch({format:currFormat,auto:n.autoLevelEnabled})}.bind(this),this.setSrc=function(e){this.app.currentFile=e,n.loadSource(e)}.bind(this),this.setDefault=function(){this.changeQuality("auto")},this.setInitialQuality=function(){if(e.data.formats.HLS){var t=UOLPlayer.isMobile&&void 0!=e.data.item.playerParameters.hls_start_quality_mobile&&void 0!=s[e.data.item.playerParameters.hls_start_quality_mobile]&&e.data.item.playerParameters.hls_start_quality_mobile,r=void 0!=e.data.item.playerParameters.hls_start_quality_desktop&&void 0!=s[e.data.item.playerParameters.hls_start_quality_desktop]&&e.data.item.playerParameters.hls_start_quality_desktop;a[e.startHd]?this.currentQuality(e.startHd):t!==!1?this.currentQuality(t):r!==!1?this.currentQuality(r):(e.startHd!==!1&&UOLPlayer.w("Formato "+e.startHd+" indisponível"),this.setDefault())}}.bind(this),this.reloadContent=function(){this.app.logger.logHLS("ReloadContent"),UOLPlayer.isMobile&&this.attachMedia(),this.play()},this.removePreloadListener=function(){this.app.logger.logHLS("removePreloadListener - "+this.preloadListener),this.preloadListener&&(this.mediaElement.removeEventListener("loadedmetadata",this.preloadListener,!1),this.preloadListener=null)},this.fallback=function(){return this.app.data.formats.retry[0]?(this.sendError(),this.app.hlsEnabled=!1,this.app.data.formats["default"]=this.app.data.formats.retry[0],this.app.mediaPlayer=new UOLPlayer.VideoPlayer(this.app,this.app.wrapper)):void this.app.setError(UOLPlayer.ElementErrorHandler.errorCodes.VIDEO_SOURCE_WITHOUT_FALLBACK)}.bind(this),this.sendError=function(e,t){var a=UOLPlayer.ElementErrorHandler.errorCodes.HLS_UNKNOWN_ERROR;"undefined"==typeof Hls?a=UOLPlayer.ElementErrorHandler.errorCodes.HLS_UNDEFINED_ON_INITIALIZE:e===Hls.ErrorTypes.NETWORK_ERROR?a=UOLPlayer.ElementErrorHandler.errorCodes.HLS_NETWORK_UNSTABLE:e===Hls.ErrorTypes.MEDIA_ERROR&&(a=UOLPlayer.ElementErrorHandler.errorCodes.HLS_MEDIA_ERROR),UOLPlayerLog.send(this.app,"error",UOLPlayer.ElementErrorHandler.logMessage(a))},this.destroy=function(e){this.app.onVideoError({error:e})},this.onHLSError=function(t,a){if(this.lastError=Array.prototype.slice.call(arguments),a&&a.fatal)if(this.trackRequest(),this.app.tracker.pushState("hlsFatalError",[t,a.type,a.details].join(" - ")),this.app.logger.logError('HLS Fatal Error "'+t+'" of type "'+a.type+'" with details "'+a.details+'"'),!d()||u())this.destroy(a.type);else if(a.type===Hls.ErrorTypes.NETWORK_ERROR){this.app.retryAttempts=this.app.retryAttempts||0,this.app.retryAttempts++,this.previousM3u8=e.data.formats.available.HLS.alternatives[o.currentServer],a.details.indexOf("manifest")>-1?(o.currentServer+=1,UOLPlayer.ElementErrorHandler.resolveFallbackURL(e,p(this.m3u8),function(e){
this.m3u8=e,this.app.logger.logHLS("ReloadSource: "+this.m3u8),UOLPlayer.l("ReloadSource: "+this.m3u8),this.setSrc(this.m3u8)}.bind(this))):(o.currentServer+=1,this.app.logger.logHLS("Start loadSource: "+this.m3u8),UOLPlayer.l("Start loadSource: "+this.m3u8),n.startLoad()),this.currentM3u8=d()?e.data.formats.available.HLS.alternatives[o.currentServer]:this.m3u8.replace(/^(https?:)?(\/\/)?(.+?)\//im,"video.m.mais.uol.com.br/").split("?")[0],this.app.retryCounts++;var r={retryPreviousFormat:"hls",retryPreviousServer:this.previousM3u8,retryCurrentFormat:"hls",retryCurrentServer:this.currentM3u8,retryAttempt:this.app.retryAttempts,retryCount:this.app.retryCounts};this.app.logger.send("retry",{payload:r}),this.app.logger.log("retry count: "+this.app.retryCounts)}else a.type===Hls.ErrorTypes.MEDIA_ERROR?UOLPlayer.ElementErrorHandler.resolveFallbackURL(e,p(this.lastUrl),function(e){this.currentTime=this.mediaElement.currentTime,n.swapAudioCodec(),n.recoverMediaError(),this.mediaErrorRecovery=!0}.bind(this)):this.destroy(a.type);else void 0!==a&&this.app.logger.logHLS('Error event: "'+t+'" type:"'+a.type+'" details: "'+a.details+'" fatal: "'+a.fatal+'"')}.bind(this),"undefined"==typeof Hls)return this.fallback();n=this.hls=new Hls(m),n.on(Hls.Events.MEDIA_ATTACHED,function(){this.app.logger.logHLS("Hls attached on video tag"),this.mediaErrorRecovery&&e.wrapper.hasClass("up-playing-video")&&(this.mediaElement.currentTime=this.currentTime,this.mediaElement.play())}.bind(this)),n.on(Hls.Events.ERROR,this.onHLSError),n.on(Hls.Events.MANIFEST_PARSED,function(t,o){this.trackRequest(),this.app.logger.logHLS("Manifest Parsed - "+t);var n,l,d,p=o.levels.length-1;for(i=0;i<=p;i++)n=p-i,l=o.levels[n],d=l.name,l.height>this.minimumQualityVisible&&(a[d]={type:d,index:n}),s[d]={type:d,index:n};s.auto=a.auto={type:"auto",index:-1},e.data.formats.HLS=a,this.setInitialQuality();for(f in a)r[a[f].index]=a[f].type;this.events.ready.dispatch()}.bind(this)),n.on(Hls.Events.LEVEL_SWITCHING,function(e,t){this.trackRequest()}.bind(this)),n.on(Hls.Events.LEVEL_SWITCHED,function(e,t){this.trackRequest();var a=n.levels[t.level].name;this.app.tracker.pushState("hlsLevel",a),this.app.addLevelList(a),this.app.logger.logHLS("Qualidade: "+a),this.events.onChangedQuality.dispatch({format:a,auto:n.autoLevelEnabled})}.bind(this)),UOLPlayer.ElementErrorHandler.resolveFallbackURL(e,this.m3u8,function(e,t,a){this.m3u8=e,this.setSrc(this.m3u8)}.bind(this));var h=function(){n.nextLevel=-1,this.removeEventListener("progress",h,!1)}.bind(this);this.registerEventListener("progress",h)},UOLPlayer.HLS.isSupported=function(){return window.MediaSource=window.MediaSource||window.WebKitMediaSource,!UOLPlayer.isChromeOld&&void 0!==window.MediaSource&&"function"==typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},UOLPlayer.HLS.checkAllowedDomain=function(e){var t=new RegExp("^("+e+")$");return t.test(UOLPlayer.hostName)},UOLPlayer.HLS.prototype.attachMedia=function(){this.hlsSwitchTimeout=this.app.timeouts[this.app.timeouts.type.HLS_SWITCH_LEVEL],this.setInitialQuality(),this.attached=!0,this.hls&&this.hls.attachMedia(this.mediaElement)},UOLPlayer.HLS.prototype.detachMedia=function(){this.attached=!1,this.hls.detachMedia()},UOLPlayer.HLS.prototype.formatsReloaded=function(){this.currentServer=0,this.app.externalCDN=this.app.data.formats.available.HLS.externalCDN,this.app.forceCDN!==!1&&void 0!==this.app.forceCDN?this.m3u8=this.app.data.formats.available.HLS.alternatives[0]:this.app.data.formats.available.HLS.url.indexOf("video.m.mais.uol.com.br")===-1?this.m3u8=UOLPlayer.sortRandom(this.app.data.formats.available.HLS.alternatives.concat(this.app.data.formats.available.HLS.url))[0]:this.m3u8="//video.m.mais.uol.com.br/"+this.app.mediaId+"-10.m3u8",this.m3u8=UOLPlayer.mediaSourceURL(this.m3u8,this.app.data.item.revision,this.app.hashId),this.onHLSError.apply(this,this.lastError)},UOLPlayer.MediaPlayer=function(e){this.app=e;var t;return"video"===this.app.mediaType?this.app.abrLib?this.app.abrLib.then(function(e){t=this.app.data&&this.app.data.formats&&this.app.data.formats["default"]&&e&&!e.error?"dash"===this.app.abrLib.libName&&"DASH"===this.app.data.formats["default"].type&&this.app.dashEnabled?new UOLPlayer.DASH(this.app,this.app.wrapper):"hls"===this.app.abrLib.libName&&"HLS"===this.app.data.formats["default"].type&&this.app.hlsEnabled?new UOLPlayer.HLS(this.app,this.app.wrapper):new UOLPlayer.VideoPlayer(this.app,this.app.wrapper):new UOLPlayer.VideoPlayer(this.app,this.app.wrapper)}.bind(this)):t=new UOLPlayer.VideoPlayer(this.app,this.app.wrapper):t=new UOLPlayer.AudioPlayer(this.app,this.app.wrapper),t},UOLPlayer.VideoPlayer=function(e,t){"HLS"===e.data.formats["default"].type?(e.currentFormat=UOLPlayer.currentFormatLog(e,e.mediaId,"NATIVE HLS"),e.hlsNative=!0,this.mediaType="hls"):"WEBM"===e.data.formats["default"].type?(e.currentFormat=UOLPlayer.currentFormatLog(e,e.mediaId,"WEBM"),this.mediaType="webm"):(e.currentFormat=UOLPlayer.currentFormatLog(e,e.mediaId,"MP4"),this.mediaType="mp4"),this.app=e,this.wrapper=t,this.mediaElement=this.wrapper.getElementsByClassName("video-element")[0],this.adContainer=this.wrapper.getElementsByClassName("up-ad-container")[0],this.lastUrl="",this.wrapper.addClass("_video").removeClass("_audio"),UOLPlayer.MediaElement.call(this),this.mediaLoad=function(){e.logger.send("mediaLoad",{time:e.logger.stopTime("mediaLoad")}),this.mediaElement.removeEventListener("playing",this.mediaLoadEvent,!1)},this.mediaLoadEvent=this.mediaLoad.bind(this),this.reloadCallback_=this.reloadCallback.bind(this),this.registerEventListener("playing",this.mediaLoadEvent),this.changeQuality=function(t){e.data.formats.available[t].alternatives=UOLPlayer.sortRandom(e.data.formats.available[t].alternatives);var a,r,i=e.data.formats.available[t],s=e.data.formats.available[t].alternatives,o=e.startTime+this.getCurrentTime();a=s.length>0?s.shift():i.url,r=UOLPlayer.mediaSourceURL(a,e.data.item.revision,e.hashId),e.externalCDN=i.externalCDN,e.qualityChanged=!0,e.data.formats.current=i,this.lastCurrentTime=this.lastCurrentTime||o,this.setSrc(r,Math.max(o,this.lastCurrentTime)),this.events.onChangingQuality.dispatch(t)}.bind(this),this.setDefault=function(){this.changeQuality(e.data.formats["default"].type)}.bind(this),this.setInitialQuality=function(){e.data.formats.available[e.startHd]?this.changeQuality(e.startHd):(0!=e.startHd&&UOLPlayer.w("Formato "+e.startHd+" indisponível"),this.setDefault())}.bind(this)},UOLPlayer.VideoPlayer.prototype.attachMedia=function(){this.setDefault()},UOLPlayer.VideoPlayer.prototype.removePreloadListener=function(){this.preloadListener&&(this.mediaElement.removeEventListener("loadedmetadata",this.preloadListener,!1),this.preloadListener=null)},UOLPlayer.VideoPlayer.prototype.reloadContent=function(e){console.log("reloadContent"),this.app.logger.log("reloadContent: "+e),e=e||this.lastCurrentTime,this.app.data.formats.current=this.app.data.formats["default"],this.setSrc(this.videoURL,e),this.mediaElement.removeEventListener("loadedmetadata",this.reloadCallback_),this.mediaElement.addEventListener("loadedmetadata",this.reloadCallback_)},UOLPlayer.VideoPlayer.prototype.reloadCallback=function(){function e(e){e.app.wrapper.hasClass("_clicked")?e.play():e.app.ui&&e.app.ui.setState("stop"),e.events.reload.dispatch()}this.app.logger.log("reloadCallback"),e(this)},UOLPlayer.VideoPlayer.prototype.resize=function(e,t,a,r,i){return e===!1?(this.wrapper&&this.wrapper.setAttribute("style",""),void(this.mediaElement&&this.mediaElement.setAttribute("style",""))):(this.wrapper.style.position=e,this.wrapper.style.top=t,this.wrapper.style.left=a,this.wrapper.style.width=r+"px",this.wrapper.style.height=i+"px",this.mediaElement.style.width=r+"px",void(this.mediaElement.style.height=i+"px"))},UOLPlayer.Related=function(e){if("audio"===e.mediaType||!e.options.related.enabled)return{horizontalList:function(){},wall:function(){},destroy:function(){}};var t=function(t){function a(a,r){var s=a.list;for(i=0,l=s.length,e.autorep&&(e.autorepNextContent=s[0],s[0].autorep=!0);i<l;i++)t.append(s[i],i)}t&&e.dataParser.Related().then(a,function(){})},a=function(a){if(a&&!(a.getElementsByClassName("up-related").length>0)){var r,i=UOLPlayer.domNode("div").addClass("up-related"),s=UOLPlayer.domNode("div").addClass("up-related-title");s.innerText="Mais vídeos",s.addEventListener("click",function(){i.hasClass("up-closed")?i.removeClass("up-closed"):i.addClass("up-closed")}),i.appendChild(s),a.appendChild(i),r=this.Carousel(e,i),r.container.addClass("up-related-content"),t(r)}}.bind(this),r=function(t){if(t&&!(t.getElementsByClassName("up-related").length>0)){var a=UOLPlayer.domNode("div").addClass("up-related");t.appendChild(a),this.Wall(e,a)}}.bind(this),s=function(){e.wrapper.getElementsByClassName("up-related").length>0&&e.wrapper.getElementsByClassName("up-related")[0].empty()},o=!1;return e.mediaPlayer.registerEventListener("onRoundedTimeUpdate",function(t){t.perc>75&&!o&&(o=!0,e.dataParser.Related())}),{horizontalList:a,wall:r,destroy:s}},UOLPlayer.Related.prototype.Card=function(e,t,a){var r=UOLPlayer.domNode("a").addClass("up-card-link"),i=UOLPlayer.domNode("div").addClass("up-card-image"),s=UOLPlayer.domNode("div").addClass("up-card-overlay"),o=UOLPlayer.domNode("div").addClass("up-card-title"),n=UOLPlayer.domNode("div").addClass("up-card-duration"),l=(UOLPlayer.isMobile?t.thumbWlarge:t.thumbXlarge).replace("http://","//");if(r.appendChild(i),r.appendChild(s),s.appendChild(o),s.appendChild(n),o.innerText=t.title,n.innerText=t.duration,UOLPlayer.setThumb(i,l),t.autorep){var d=UOLPlayer.domNode("div").addClass("up-card-next-video");r.appendChild(d),d.innerText="a seguir"}({relatedClickedTitle:t.title,relatedClickedMediaId:t.mediaId,relatedClickedPos:a,recommended:e.recommended,lastState:e.getFullState()});return r.addEventListener("click",function(){UOLPlayer.isUOLMais&&!UOLPlayer.isIframe?window.location.href=UOLPlayer.HTTP+"mais.uol.com.br/view/"+t.mediaId:UOLPlayer.isMOV?window.location.href=UOLPlayer.HTTP+"www.uol.com.br/mov/videos/?id="+t.urlHash:e.changeVideo(t.mediaId,{autoplay:!0})}),r},UOLPlayer.Related.prototype.Carousel=function(e,t){var a,r,i,s=200,o=110,n="up-card",l={group:UOLPlayer.domNode("div").addClass("up-carousel"),container:UOLPlayer.domNode("div").addClass("up-carousel-container"),mask:UOLPlayer.domNode("div").addClass("up-carousel-mask"),nextButton:UOLPlayer.domNode("div").addClass("up-button up-next-button"),prevButton:UOLPlayer.domNode("div").addClass("up-button up-bt up-previous-button")};l.group.appendChild(l.nextButton),l.group.appendChild(l.prevButton),l.group.appendChild(l.mask),l.mask.appendChild(l.container),l.group.style.height="0px",l.mask.style.height="0px",t.appendChild(l.group);var d,p={},u=function(){l.cards=t.getElementsByClassName("up-card"),a=l.group.offsetWidth,totalPerPage=Math.round(a/s),cardWidth=Math.floor(a/totalPerPage),cardHeight=Math.floor(cardWidth/s*o),i=Math.ceil(cardWidth*l.cards.length/a),r=cardWidth*totalPerPage,l.mask.style.width=r+"px",1===i?(cardWidth=Math.floor(a/l.cards.length),cardHeight=Math.floor(cardWidth/s*o),l.prevButton.style.visibility="hidden",l.nextButton.style.visibility="hidden"):(l.prevButton.style.visibility="visible",l.nextButton.style.visibility="visible");for(var e=0;e<l.cards.length;e++){var n=l.cards[e];n.style.width=cardWidth+"px",n.style.height=cardHeight+"px"}0===m&&(l.prevButton.style.visibility="hidden"),l.group.style.height=cardHeight+"px",l.mask.style.height=cardHeight+100+"px"},c=function(t,a){var r=document.createElement("a").addClass(n);l.container.appendChild(r);var i=this.Card(e,t,a);r.appendChild(i),clearTimeout(d),d=setInterval(function(){clearTimeout(d),u()},50)}.bind(this),m=0;return l.nextButton.addEventListener("click",function(){m!=p.totalPages-1&&(m++,l.cards.length%totalPerPage>0&&m==i-1?throwValue=r-l.container.offsetWidth:throwValue=r*m*-1,l.nextButton.style.visibility=m==i-1?"hidden":"visible",l.prevButton.style.visibility=0==m?"hidden":"visible",l.container.style.transform="translateX("+throwValue+"px)")}),l.prevButton.addEventListener("click",function(){0!=m&&(m--,throwValue=0===m?0:r*(i-m)-l.container.offsetWidth,l.nextButton.style.visibility=m==i-1?"hidden":"visible",l.prevButton.style.visibility=0==m?"hidden":"visible",l.container.style.transform="translateX("+throwValue+"px)")}),window.onresize=function(){u(),l.prevButton.style.visibility="hidden",l.container.style.transform="translateX(0px)",m=0},{append:c,container:l.group}},UOLPlayer.Related.prototype.Wall=function(e,t){var a,r,i,s,o,n,l,d,p="up-card",u=0,c=0,m=0,h=0,y=[],g=6,v=function(t,a){var r=new Promise(function(t){e.dataParser.Related().then(function(e){t(e.list)})});return r},f=function(){for(var r=0;r<y.length;r++)a=t.getElementsByClassName(p)[r],a&&!a.hasChildNodes()&&a.appendChild(this.Card(e,y[r],r))}.bind(this),P=function L(){var P=t.getInnerSize();r=P.innerWidth,i=P.innerHeight,r>900?(u=320,c=200):(u=240,c=160),s=Math.ceil(r/u),o=Math.ceil(i/c),s=s<3?s:3,o=o<2?o:2,g=s*o,n=r/s,l=i/o;for(var O=0;O<g;O++)a=t.getElementsByClassName(p)[O],a||(a=document.createElement("div").addClass(p).addClass(p+O),t.appendChild(a)),a.style.width=Math.floor(n)+"px",a.style.height=Math.floor(l)+"px";if(g!==m){if(g<m)for(var E,U=t.getElementsByClassName(p).length,O=g;O<U;O++)E=t.getElementsByClassName(p+O)[0],E&&t.removeChild(t.getElementsByClassName(p+O)[0]);else clearInterval(d),d=setInterval(function(){clearInterval(d),h<m?(v(e.mediaId,m).then(function(e){y=e,f()}),h=m):f()},200);return m=g,L}}();window.addEventListener("resize",P)},UOLPlayer.Autorep=function(e){var t,a,r=e.wrapper.getElementsByClassName("uolplayer-elements")[0];if(0===r.getElementsByClassName("up-autorep").length){var i=function(){var e=UOLPlayer.domNode("div").addClass("up-pietimer");return e.innerHTML='<svg class="circle-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle class="circle-svg-circle" cx="50" cy="50" r="45"/></svg>',e},s={group:UOLPlayer.domNode("div").addClass("up-autorep"),container:UOLPlayer.domNode("div").addClass("up-autorep-container"),info:UOLPlayer.domNode("div").addClass("up-autorep-info"),thumb:UOLPlayer.domNode("div").addClass("up-autorep-thumb"),header:UOLPlayer.domNode("span").addClass("up-autorep-header"),title:UOLPlayer.domNode("span").addClass("up-title-text"),author:UOLPlayer.domNode("span").addClass("up-title-author"),top:UOLPlayer.domNode("span").addClass("up-autorep-top"),bottom:UOLPlayer.domNode("span").addClass("up-autorep-bottom"),icon:UOLPlayer.domNode("div").addClass("up-play-button"),cancel:UOLPlayer.domNode("div").addClass("up-autorep-cancel up-default-button")};s.info.appendChild(s.header),s.info.appendChild(s.title),s.info.appendChild(s.author),s.top.appendChild(s.info),s.bottom.appendChild(s.cancel),s.container.appendChild(s.top),s.container.appendChild(s.icon),s.icon.appendChild(i()),s.container.appendChild(s.bottom),s.group.appendChild(s.thumb),s.group.appendChild(s.container),r.appendChild(s.group),a=s.icon.getElementsByClassName("circle-svg-circle")[0]}s.header.innerText="A seguir",s.cancel.innerText="Cancelar",s.cancel.addEventListener("click",function(){e.wrapper.removeClass("up-with-autorep")}),e.dataParser.Related().then(function(a){if(a.list[0]){t=a.list[0],UOLPlayer.getCookie("lplr_autorep_id")==e.mediaId&&(t=a.list[1]),UOLPlayer.setCookie("lplr_autorep_id",t.mediaId,365),s.title.innerText=t.title,s.author.innerText=t.author;var r=(UOLPlayer.isMobile?t.thumbWlarge:t.thumbXlarge).replace("http://","//");UOLPlayer.setThumb(s.thumb,r)}},function(){});var o=function(){a.removeEventListener("webkitAnimationEnd",o),s.icon.removeEventListener("click",o),e.changeVideo(t.mediaId,{autoplay:!0})};a.addEventListener("webkitAnimationEnd",o),s.icon.addEventListener("click",o)},UOLPlayer.Detach=function(e,t){if(UOLPlayer.isIframe||"video"!==e.mediaType)return this.detachPlayer=function(){},this.checkPosition=function(){},void(this.destroy=function(){});this.destroyed=!1;var a,r,i=UOLPlayer.domNode("div").addClass("up-detach-cover"),s=t.getElementsByClassName("up-bt-detach")[0],o=UOLPlayer.domNode("I").addClass("up-bt up-bt-detach-close"),n=t.getElementsByClassName("uolplayer-container")[0],l="up-detach-LB",d=100,p=UOLPlayer.Detach.states.ATTACHED,u=t.getData("detachstate")===UOLPlayer.Detach.states.DISABLED?UOLPlayer.Detach.states.DISABLED:UOLPlayer.Detach.states.AUTO;if(n){t.getData("detachPosition")?l="up-detach-"+t.getData("detachPosition"):"string"==typeof e._detach&&(l="up-detach-"+e._detach),n.addClass(l).appendChild(o),t.appendChild(i);var c=function(){var e=document.getElementsByClassName("up-detach")[0];e&&UOLPlayer.getInstance(e.getData("hashId")).detach.detachPlayer(!1)},m=function(r){"video"===e.mediaType&&(i.hasClass("_mounted")||(UOLPlayer.setPoster(e,i),i.addClass("_mounted")),r===!0&&p===UOLPlayer.Detach.states.ATTACHED&&(c(),n.addClass("up-detach-hide"),UOLPlayer.onDetach(!0),clearTimeout(a),a=setTimeout(function(){t.addClass("_small").addClass("up-detach"),n.addClass("up-detach-active").removeClass("up-detach-hide").addClass("up-detach-show"),p=UOLPlayer.Detach.states.DETACHED,this.destroyed||u===UOLPlayer.Detach.states.DISABLED||(this.state=p,t.setData("detachstate",p)),h()}.bind(this),d)),r===!1&&p===UOLPlayer.Detach.states.DETACHED&&(n.addClass("up-detach-hide"),UOLPlayer.onDetach(!1),clearTimeout(a),a=setTimeout(function(){t.removeClass("_small").removeClass("up-detach"),n.removeClass("up-detach-active").removeClass("up-detach-hide").addClass("up-detach-show"),p=UOLPlayer.Detach.states.ATTACHED,this.destroyed||u===UOLPlayer.Detach.states.DISABLED||(this.state=p,t.setData("detachstate",p)),h()}.bind(this),d)))}.bind(this),h=function(){if(e.ads){var t=e.getSize();e.ads.resize(t.width,t.height,"NORMAL")}},y=function(){this.inView=UOLPlayer.inView(t),e.detachable&&e.isStarted()&&UOLPlayer.getCurrentMedia()===e&&u!==UOLPlayer.Detach.states.DISABLED&&(clearTimeout(r),r=setTimeout(function(){clearTimeout(r),m(!this.inView)}.bind(this),200))}.bind(this),g=function(){p===UOLPlayer.Detach.states.ATTACHED?(u=UOLPlayer.Detach.states.ENABLED,s.removeClass("_disable"),document.addEventListener("scroll",y),m(!0),e.getState()!==UOLPlayer.READY&&e.getState()!==UOLPlayer.PAUSED||e.mediaPlayer.play()):p===UOLPlayer.Detach.states.DETACHED&&(this.state=u=UOLPlayer.Detach.states.DISABLED,s.addClass("_disable"),t.setData("detachstate",u),document.removeEventListener("scroll",y),m(!1),this.inView||e.deactivate())}.bind(this);e.detachPlayer=function(e){m(e)}.bind(this),this.init=function(){s.show().addEventListener("click",g),o.addEventListener("click",g),document.addEventListener("scroll",y),u===UOLPlayer.Detach.states.DISABLED&&s.addClass("_disable"),e.wrapper.getData("detachstate")===UOLPlayer.Detach.states.DETACHED&&m(!0)},this.destroy=function(){this.destroyed=!0,t.removeClass("up-detach")},this.detachPlayer=m,this.checkPosition=y}},UOLPlayer.Detach.setWidth=function(e){var t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",a.id="uolplayer-detach-size",css=".uolplayer .up-detach-active{ width: "+e+"px; }",a.styleSheet?a.styleSheet.cssText=css:a.appendChild(document.createTextNode(css)),t.appendChild(a)},UOLPlayer.Detach.states={ATTACHED:"attached",DETACHED:"detached",AUTO:"auto",ENABLED:"enabled",DISABLED:"disabled"},UOLPlayer.ForwardRewind=function(e){this.app=e;var t=this.app.wrapper.getElementsByClassName("up-bt-forward-spin")[0],a=this.app.wrapper.getElementsByClassName("up-bt-rewind-spin")[0],r=this.app.wrapper.getElementsByClassName("rewind-jump-step")[0],i=this.app.wrapper.getElementsByClassName("forward-jump-step")[0],s=0,o=!1,n=function(e){this.app.forward(s),s=0,this.app.isPlaying()||this.app.onClick(),r.removeClass("new").innerHTML="",i.removeClass("new").innerHTML=""}.bind(this),l=function(t){function a(){o&&(clearTimeout(o),o=!1),s+=this.app.forwardRewindBase*t,o||(r.innerHTML=i+Math.abs(s),r.addClass("new"),o=setTimeout(function(){n(r)}.bind(this),500))}var r,i;return t<0?(r=e.wrapper.getElementsByClassName("rewind-jump-step")[0],i="-"):(r=e.wrapper.getElementsByClassName("forward-jump-step")[0],i="+"),a};t&&t.addEventListener("click",l(1).bind(this)),a&&a.addEventListener("click",l(-1).bind(this))},Element.prototype.animateIn||(Element.prototype.animateIn=function(e){var e=e||void 0;this.addClass("_animate-in"),e&&(clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout(function(){this.animateOut(),clearTimeout(this.hideTimeout)}.bind(this),1e3*e))}),Element.prototype.animateOut||(Element.prototype.animateOut=function(){this.removeClass("_animate-in")}),UOLPlayer.Message=function(e){var t=e.wrapper.getElementsByClassName("up-message")[0],a=function(e){t.innerText=e,t.animateIn(3)};return{show:a}},UOLPlayer.Share=function(e){function t(e){var t=document.createElement("input");t.setAttribute("value",this.value),o.appendChild(t),t.select();try{document.execCommand("copy")&&(e.target.addClass("_ok"),setTimeout(function(){e.target.removeClass("_ok")},3e3))}catch(a){}o.removeChild(t)}if(!(e.wrapper.getElementsByClassName("up-share").length>0)&&e.options.share.enabled){var a=e.data.item.shareUrl,r=e.wrapper.getElementsByClassName("up-top-buttons")[0],i=e.wrapper.getElementsByClassName("ui")[0],s=UOLPlayer.domNode("div").addClass("up-bt-share up-bt"),o=UOLPlayer.domNode("div").addClass("up-share-screen"),n="",l={twitter:"https://twitter.com/share?url="+a+"&text="+e.data.item.title,facebook:"https://www.facebook.com/sharer/sharer.php?u="+a};r.appendChild(s),i.appendChild(o),s.addEventListener("click",function(){e.wrapper.hasClass("up-share")?(e.wrapper.removeClass("up-share"),e.wrapper.hasClass("up-paused")&&e.mediaPlayer.play()):(e.wrapper.addClass("up-share"),e.wrapper.hasClass("up-paused")||e.mediaPlayer.pause())}),e.isMobile&&(n='<a href="whatsapp://send?text='+a+'" data-action="share/whatsapp/share" class="up-bt-share up-bt-whatsapp"></a><a href="fb-messenger://share/?link='+a+'" class="up-bt-share up-bt-messenger"></a>');var d='<div class="up-share-container"><div class="up-share-shorturl"><div class="up-bt-share up-bt-link"></div><input class="up-share-input" onClick="this.setSelectionRange(0, this.value.length)"></input><div class="up-bt-copy"></div></div><div class="up-share-buttons"><a class="up-bt-share up-bt-facebook" href="'+l.facebook+'" target="_blank"></a><a class="up-bt-share up-bt-twitter" href="'+l.twitter+'" target="_blank"></a>'+n+'<a class="up-bt-share up-bt-embed"><input class="up-embed-content" type="hidden"></input></a></div></div>';o.appendHtmlText(d);var p=o.getElementsByClassName("up-share-input")[0],u=o.getElementsByClassName("up-embed-content")[0],c=o.getElementsByClassName("up-bt-copy")[0],m=o.getElementsByClassName("up-bt-embed")[0];return c.addEventListener("click",t.bind(p)),m.addEventListener("click",t.bind(u)),p.value=a,u.value='<iframe width="640" height="360" allow="autoplay; fullscreen" src="https://player.mais.uol.com.br/?mediaId='+e.mediaId+'&type=video" allowfullscreen frameborder="0"></iframe>',{show:function(){e.wrapper.addClass("up-share")}}}},UOLPlayer.Subtitle=function(e){if("video"===e.mediaType){var t=e.wrapper.getElementsByClassName("up-bt-subtitle")[0],a=e.wrapper.getElementsByClassName("up-subtitle")[0],r=e.data.item.playerParameters.subtitle_allow_author?e.data.item.playerParameters.subtitle_allow_author:"";if(e.options.subtitle.enabled=UOLPlayer.checkAllowedAuthor(e.data.item.author,r)||e.options.subtitle.enabled,t.hide(),a.hide(),e.options.subtitle.enabled&&e.data.item.caption){e.options.subtitle.subtitleOn=0;var i,s,o=e.mediaPlayer.mediaElement,n=UOLPlayer.domNode("track"),l=e.wrapper.getElementsByClassName("up-subtitle-content")[0],d=e.currentFile.replace(UOLPlayer.stripProtocol(e.currentFile).split("?")[0].split("/").pop(),e.data.item.caption.pt_BR.filename),p=function(){"hidden"!==i.mode?(i.mode="hidden",t.removeClass("_disable"),e.wrapper.addClass("with-subtitle"),e.data.item.caption.pt_BR.auto&&e.message.show("[ legenda automática ]"),e.options.subtitle.subtitleOn=1):(i.mode="disabled",t.addClass("_disable"),e.wrapper.removeClass("with-subtitle"),e.options.subtitle.subtitleOn=0,a.hide(),l.replaceChild(UOLPlayer.domNode("P"),l.firstChild))};UOLPlayer.ajax({url:d,data:"__rand="+Math.random(),success:function(r,d,u){200==d&&(blob=new Blob([r],{type:"text/vtt"}),url=URL.createObjectURL(blob),n.src=url,n.label="Legenda",n.kind="subtitles",n.srclang="pt-BR",o.appendChild(n),i=o.textTracks[0],i.mode="disabled",i.addEventListener("cuechange",function(e){i.activeCues.length>0&&(s=i.activeCues[0],a.show(),l.replaceChild(s.getCueAsHTML(),l.firstChild),s.onexit=function(e){a.hide()})}),t.show().addClass("_disable").addEventListener("click",p),e.options.subtitle.startWith&&p())}})}}},UOLPlayer.BBC=function(e){if(UOLPlayer.isBBC||e.data.item.author&&e.data.item.author.toLowerCase().indexOf("bbc")!=-1){var t={},a=function(){e.logger.log("Tracking BBC: OK"),this.bbcLoaded=!0,t={media_name:e.data.item.title,media_id:e.mediaId,media_length:e.data.item.duration.seconds,media_player:"UOLPlayer",media_type:"video"},window.s_bbcws&&(window.s_bbcws.noPageview=!0),window.mtrack.init_media(t)}.bind(this);window.mtrack?(console.info("BBC already loading..."),a()):UOLPlayer.loadJs({src:UOLPlayer["const"].urls.BBC,name:"bbc",success:a,error:function(){console.error("BBC Load error")}})}var r=function(t){if(this.bbcLoaded)switch(t){case"play":window.mtrack.media_play(e.mediaPlayer.getCurrentTime());break;case"pause":window.mtrack.media_pause(e.mediaPlayer.getCurrentTime());break;case"end":window.mtrack.media_end()}}.bind(this);return{clickCount:r}},UOLPlayer.Comscore=function(e,t){if("function"==typeof window.uolAnalytics)try{t=t||new(window.uolAnalytics("uolplayer.class"))}catch(a){console.error("[comScore] "+a.message)}var r=e.data.item,i=r.mediaId+" "+r.title,s={video:{action:null,metadata:{clipId:"",clipLength:"",stationTitle:"",publisherBrandName:"",programTitle:"",episodeTitle:"",episodeSeasonNumber:"",episodeNumber:"",contentGenre:"",tmsId:"",adLoadFlag:"",completeEpisodeFlag:"",digitalAirdate:"",tvAirdate:""},mediaType:"Other",url:UOLPlayer.getURL()},ad:{action:null,metadata:{clipId:"",clipLength:"",stationTitle:"",publisherBrandName:"",programTitle:"",episodeTitle:"",episodeSeasonNumber:"",episodeNumber:"",contentGenre:"",tmsId:"",adLoadFlag:"",completeEpisodeFlag:"",digitalAirdate:"",tvAirdate:""},mediaType:"Other",url:UOLPlayer.getURL()}},o=function(e){if("function"==typeof window.uolAnalytics&&"object"==typeof t&&t.hasOwnProperty("comScore"))try{t.comScore.event(e)}catch(a){console.error("[comScore] "+a.message)}},n=function(e){s.video.action=e,s.video.metadata.clipId=r.mediaId,s.video.metadata.clipLength=1e3*r.duration.seconds,s.video.metadata.episodeTitle=i,o(s.video)},l=function(t){s.ad.action=t,e.ads&&(s.ad.metadata.clipId=e.ads.getAdId(),s.ad.metadata.clipLength=1e3*e.ads.getDuration(),s.ad.metadata.episodeTitle=e.ads.getAdTitle()),o(s.ad)};return{video:{clickCount:n},ad:{clickCount:l}}},UOLPlayer.GA=function(e,t){if("function"==typeof window.uolAnalytics)try{t=t||new(window.uolAnalytics("uolplayer.class"))}catch(a){console.error("[GA] "+a.message)}var r=e.data.item,i=e.data.formats,s=r.mediaId+" "+r.title,o=e.autoplay===!0?"true":"false",n=e.audio?"audio":"video",l=UOLPlayer.environment();currPec=0,cleanList=function(e){return e=e||"",e=e.split(","),e=e.map(function(e){return e.trim()}),e=e.filter(function(e){return!!e}),e.join(",")};var d={video:{mediaName:s,mediaLength:r.duration.formatted,mediaType:n,mediaMode:"ondemand",mediaQuality:e.hlsEnabled?"hls":e.audio?"128kbps":i&&i.current?i.current.type:"360p",playerType:"html5",playerSize:e.getSize().formatted,typePublication:l,author:r.codProfile+" "+r.author,url:UOLPlayer.getURL(),autoplay:o,error:"",currentTime:null,action:null,tagId:cleanList(r.tags),tagName:cleanList(r.tagsDescription),tagSrv:cleanList(r.tagSrv),title:r.title},ad:{mediaName:s,adMediaName:null,mediaType:"video-ad",mediaMode:"ondemand",playerType:"html5",typePublication:l,autoplay:o,error:"",currentTime:null,action:null,tagId:cleanList(r.tags),tagName:cleanList(r.tagsDescription),tagSrv:cleanList(r.tagSrv)},click:{mediaName:s,mediaType:n,typePublication:l,action:null,reference:null,tagId:cleanList(r.tags),tagName:cleanList(r.tagsDescription),tagSrv:cleanList(r.tagSrv)}},p=function(t,a,r){var i={type:"ErroGA",method:t,event:a};r=r||{},i=UOLPlayer.mergeObject(i,r),UOLPlayerLog.send(e,"metrics",{payload:i}),console.error("GA throw error "+t+'("'+a+'")',r)},u=function(a){var r=void 0;if("function"==typeof window.uolAnalytics&&"object"==typeof t)try{t=t||new(window.uolAnalytics("uolplayer.class")),t.lastTimePlayed=0}catch(s){console.error("[GA Milestone] "+s.message),p("[milestones]","fail on initialize uolAnalytics",{message:s.message,erro:JSON.stringify(s)})}else p("[milestones]","try initialize but script not loaded yet",{uolAnalytics:typeof window.uolAnalytics});r=new UOLPlayer.milestones;var o={0:"start",25:25,50:50,75:75,100:"complete"},n=function(a){if(currPerc=a.perc||this.getCurrentPerc(),currMilestone=r.get(currPerc),currMilestone!==!1){var s;if(this.ad?(d.ad.adMediaName=this.getAdTitle(),d.ad.action="ad"+o[currMilestone],d.ad.currentTime=this.getCurrentTime(),d.ad.adPosition=this.getAdPosition(),d.ad.playerType=e.isDetached()?"html5-detach":"html5",s=d.ad):(d.video.mediaQuality=e.hlsEnabled?"hls":e.audio?"128kbps":i&&i.current?i.current.type:"360p",d.video.action=o[currMilestone],d.video.currentTime=this.getCurrentTime(),d.video.playerType=e.isDetached()?"html5-detach":"html5",s=d.video),t)try{t.event(s)}catch(n){console.error("[GA Milestone "+currMilestone+"] "+n.message),s.message=n.message,s.error=JSON.stringify(n),p("[milestones]","uolAnalytics call exception",s)}else s.currMilestone=currMilestone,p("[milestones]","uolAnalytics called but not initialized",s);s.currMilestone=currMilestone,isNaN(s.action)||(s.action="video"+s.action),e.logger.send("GA",s)}}.bind(a);return this.mounted||a.registerEventListener("timeupdate",n),this.mounted=!0,this},c=function(e,a){if("function"==typeof window.uolAnalytics&&"object"==typeof t)try{t=t||new(window.uolAnalytics("uolplayer.class"))}catch(r){console.error("[GA Click] "+r.message),p("[click]","fail on initialize uolAnalytics",{message:r.message,erro:JSON.stringify(r)})}else p("[click]","try initialize but script not loaded yet",{uolAnalytics:typeof window.uolAnalytics});if(d.click.action=e,d.click.reference=a,t)try{t.click(d.click)}catch(r){console.error("[GA Click] "+r.message),p("[click]","uolAnalytics call exception",{message:r.message,error:JSON.stringify(r)})}else p("[click]","uolAnalytics called but not initialized",d.click)}.bind(this);return{video:{milestones:u},ad:{milestones:u},clickCount:c}},UOLPlayer.Metrics=function(e){if(this.uolAnalytics=void 0,"function"==typeof window.uolAnalytics)try{this.uolAnalytics=new(window.uolAnalytics("uolplayer.class"))}catch(t){console.error("[uolAnalytics] "+t.message)}this.app=e,this.ga=new UOLPlayer.GA(e,this.uolAnalytics),this.comscore=new UOLPlayer.Comscore(e,this.uolAnalytics),this.bbc=new UOLPlayer.BBC(e);var a={};return a={video:{start:function(){this.app.logger.logMetrics("video started"),this.bbc.clickCount("play"),this.comscore.video.clickCount("play"),this.ga.video.milestones(e.mediaPlayer)}.bind(this),pause:function(){this.app.logger.logMetrics("video paused"),this.bbc.clickCount("pause"),this.comscore.video.clickCount("stop")}.bind(this),resume:function(){this.app.logger.logMetrics("video resume"),this.bbc.clickCount("play"),this.comscore.video.clickCount("play")}.bind(this),end:function(){this.app.logger.logMetrics("video end"),this.bbc.clickCount("end"),this.comscore.video.clickCount("stop")}.bind(this),seeking:function(){this.app.logger.logMetrics("video seeking")}.bind(this),seeked:function(){this.app.logger.logMetrics("video seeked")}.bind(this)
},ad:{start:function(){this.app.logger.logMetrics("dfp start"),this.comscore.ad.clickCount("playAd"),this.ga.ad.milestones(e.ads)}.bind(this),pause:function(){this.comscore.ad.clickCount("stop")}.bind(this),skipped:function(){this.app.logger.logMetrics("dfp skipped"),this.comscore.ad.clickCount("stop")}.bind(this),ended:function(){this.app.logger.logMetrics("dfp ended"),this.comscore.ad.clickCount("stop")}.bind(this)},click:function(e,t,a){this.app.logger.logMetrics("click metric - "+e),this.ga.clickCount(e,t)}.bind(this)},{ga:this.ga,bbc:this.bbc,comscore:this.comscore,video:a.video,ad:a.ad,click:a.click}},UOLPlayer.Omniture=function(e){var t=void 0;"object"==typeof UOLPD&&UOLPD.Audience&&UOLPD.Audience.hasOwnProperty("Player")&&(t=UOLPD.Audience.Player);var a=(e.mediaPlayer,e.data.item),r=e.data.formats,i=a.mediaId+" "+a.title,s=(e.autoplay,e.mediaType),o="audio"===e.mediaType,n={video:{video:i,tpvideo:"ondemand",author:a.codProfile+" "+a.author,tags:a.videoTags,url:UOLPlayer.getURL(),domain:UOLPlayer.hostName,quality:e.hlsEnabled?"hls":o?"128kbps":r.current.type,tpplayer:"html5-v2",error:"",events:"",ctime:0,ttime:a.duration.seconds,dimension:e.getSize().formatted,mediatype:s},ad:{ad_video:"",ad_pod:"",ad_player:"html5-v2",ad_error:"",ad_events:"",ad_ctime:0,ad_ttime:0,ad_primary:i},click:{action:"",reference:"",source:i}},l=function(a){if(n.video.events=a,n.video.ctime="play"===a&&e.mediaPlayer.getCurrentTime()<=2?0:e.mediaPlayer.getCurrentTime(),n.video.quality=o?"128kbps":r.current.type,t)try{t.countMetrics(n.video)}catch(i){console.error("[ OMNITURE VIDEO ] "+i.message)}}.bind(this),d=function(a){if(n.ad.ad_events=a,n.ad.ad_video=e.ads.getAdTitle(),n.ad.ad_pod=e.ads.getAdPosition(),n.ad.ad_ttime=e.ads.getDuration(),n.ad.ad_ctime=e.ads.getCurrentTime(),t)try{t.countMetricsAd(n.ad)}catch(r){console.error("[ OMNITURE AD ] "+r.message)}},p=function(e,a){if(n.click.action=e,n.click.reference=a,t)try{t.countClick(n.click)}catch(r){console.error("[ OMNITURE CLICK ] "+r.message)}}.bind(this);return{video:{clickCount:l},ad:{clickCount:d},clickCount:p}},UOLPlayer.toBoolean=function(e){return"true"===(e+"").toLowerCase()},UOLPlayer.getTimestamp=function(){return(new Date).getTime()},UOLPlayer.getStaticParameter=function(e,t){var a=e.split("?"),r={},i=0,s=0;if(a.length>1&&(a=a[1].split("&"),s=a.length),!t){for(;i<s;i++){var o=a[i].split("=");r[o[0]]="true"==o[1]||"false"==o[1]?UOLPlayer.toBoolean(o[1]):o[1]}return r}for(;i<s;i++){var o=a[i].split("=");if(o[0]==t)return"true"==o[1]||"false"==o[1]?UOLPlayer.toBoolean(o[1]):o[1]}},UOLPlayer.getUrlParameter=function(e){return UOLPlayer.getStaticParameter(window.location.search,e)},UOLPlayer.setCookie=function(e,t,a){var r,i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3),r="expires="+i.toUTCString(),document.cookie=e+"="+t+"; "+r},UOLPlayer.getCookie=function(e){for(var t=e+"=",a=document.cookie.split(";"),r=0,i=a.length;r<i;r++){for(var s=a[r];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return"false"!==s.substring(t.length,s.length)&&s.substring(t.length,s.length)}return!1},UOLPlayer.isCookieEnabled=function(){var e=!!navigator.cookieEnabled;return"undefined"!=typeof navigator.cookieEnabled||e||(document.cookie="lplr_testcookie",e=document.cookie.indexOf("lplr_testcookie")!=-1,document.cookie="lplr_testcookie; expires=Thu, 01-Jan-1970 00:00:01 GMT"),e}(),UOLPlayer.domNode=function(e){return document.createElement(e)},UOLPlayer.mousePosition=function(e){function t(e){return e.currentTarget}function a(e){var t=0,a=0;if(!e)var e=window.event;return e.changedTouches?(t=e.changedTouches[0].pageX,a=e.changedTouches[0].pageY):e.pageX||e.pageY?(t=e.pageX,a=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:a}}function r(e){var t=curtop=0;if("object"==typeof e.getBoundingClientRect())t=e.getBoundingClientRect().left,curtop=e.getBoundingClientRect().top;else if(e.offsetParent)do t+=e.offsetLeft,curtop+=e.offsetTop;while(e=e.offsetParent);return{left:t,top:curtop}}function i(e){var i=a(e),s=t(e),o=r(s),n=i.x-o.left,l=i.y-o.top;return n=Math.min(s.offsetWidth,Math.max(0,n)),{x:n,y:l}}return i(e)},UOLPlayer.each=function(e,t,a){for(var r=0,i=e.length;r<i;++r)t.call(a,e[r],r,e)},UOLPlayer.createToolsWrapper=function(e){var t;return 0==e.getElementsByClassName("up-tools").length?(t=UOLPlayer.domNode("div"),t.addClass("up-tools"),e.appendChild(t)):t=e.getElementsByClassName("up-tools")[0],t},"undefined"!=typeof document.hidden?(UOLPlayer.hidden="hidden",UOLPlayer.visibilityChange="visibilitychange"):"undefined"!=typeof document.mozHidden?(UOLPlayer.hidden="mozHidden",UOLPlayer.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(UOLPlayer.hidden="msHidden",UOLPlayer.visibilityChange="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(UOLPlayer.hidden="webkitHidden",UOLPlayer.visibilityChange="webkitvisibilitychange"),UOLPlayer.isHidden=function(){return document[UOLPlayer.hidden]},UOLPlayer.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},UOLPlayer.parseInt=function(e){return parseInt(decodeURIComponent(e+"").replace(/\D/g,""))},UOLPlayer.time2perc=function(e){return function(t){return 100*t/e}},UOLPlayer.perc2time=function(e){return function(t){return Math.floor(t*("function"==typeof e?e():e)/100)}},UOLPlayer.sortRandom=function(e){return e&&e.sort?e.sort(function(e,t){return.5-Math.random()}):e},UOLPlayer.ping=function(e,t,a){var r;e=e||function(){},t=t||function(){};var i=function(){clearTimeout(r),e(),n.abort()},s=function(){clearTimeout(r),t(),n.abort()},o=function(){n.readyState==XMLHttpRequest.DONE&&i()};a=a||window.location.href.replace(/#.*/,""),a+=a.indexOf("?")>-1?"&":"?",a+="___rnd___="+Math.random();var n=new XMLHttpRequest;n.open("GET",a,!0),n.onload=o,n.ontimeout=s,n.onerror=s;try{r=setTimeout(s,5e3),n.send()}catch(l){s()}},UOLPlayer.getURL=function(){return void 0!==UOLPlayer.urlParameter.ia_shareURL?decodeURIComponent(UOLPlayer.urlParameter.ia_shareURL):UOLPlayer.isIframe?document.referrer:window.location.href},UOLPlayer.supportedMediaTypesList=UOLPlayer.Fingerprint.mediaTypeSupported,UOLPlayer.supportedMediaTypes=function(){supportedTypes={};for(var e in UOLPlayer.supportedMediaTypesList)supportedTypes[e+"Ok"]=UOLPlayer.supportedMediaTypesList[e];return supportedTypes}(),UOLPlayer.milestones=function(){var e,t=25,a=-t,r=0,i=-1,s=0;return this.get=function(o){return s=o,r=Math.floor(o/t)*t,a=0==r&&a>0?-t:a,e=(a!==r||i<s)&&(r==a+t&&r),a=r,i=s,e},this},UOLPlayer.mediaSourceURL=function(e,t,a){var r=0===window.location.href.indexOf("http:")?"http:":"https:",i=UOLPlayer.isIframe?"//"+window.location.host:"//"+UOLPlayer.hostName,s=UOLPlayer.isSafariMacOS?"&view=desk":"",o=e.indexOf("?")===-1?"?":"&";return null===e.match(/httpvideo\d+.mais.uol.com.br/)?UOLPlayer.stripProtocol(e)+o+"ver="+t+"&r="+r+i+"&hashId="+a+s:UOLPlayer.stripProtocol(e)+o+"ver="+t},UOLPlayer.mediaSourceFallbackURL=function(e,t,a,r){return UOLPlayer.mediaSourceURL("video.m.mais.uol.com.br/"+e+"."+a,t,r)+"&error=player"},UOLPlayer.stripProtocol=function(e){return"//"+e.replace(/^(?:https?:)?\/\//,"")},UOLPlayer.mergeObject=function(e,t){var a=UOLPlayer.cloneJSON(e);for(var r in t)t.hasOwnProperty(r)&&(a[r]=t[r]);return a},UOLPlayer.objectEntries=function(e){for(var t=Object.keys(e),a=t.length,r=new Array(a);a--;)r[a]=[t[a],e[t[a]]];return r},UOLPlayer.parseResponse=function(e){var t;try{t=JSON.parse(e)}catch(a){t=e}return t},UOLPlayer.isVideoM=function(e){return/^(https?:)?(\/\/)?video\.m\.mais\.uol\.com\.br/im.test(e)},UOLPlayer.checkAllowedDomain=function(e){var t=new RegExp("^("+e+")$");return t.test(UOLPlayer.hostName)},UOLPlayer.checkAllowedAuthor=function(e,t){e=e.toLowerCase().replace(/\s/g,"");var a=new RegExp("\\b("+e+")\\b","g");return a.test(t)},UOLPlayer.supportsPassive=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e={passive:!0}}});window.addEventListener("test",null,t)}catch(a){}return e}(),UOLPlayer.safariMultiplier=function(e,t){var a=t.data.item.playerParameters.dfp_custom_timeout_safari_desktop_multiplier||1;return UOLPlayer.isSafariMacOS?a*e:e},UOLPlayer.environment=function(){var e="";if(UOLPlayer.isInstantArticle)e="instant-article";else if(UOLPlayer.isAMP){var t=UOLPlayer.getStaticParameter(UOLPlayer.getURL(),"app");e=void 0!==t?"app-amp_"+t:"chrome-amp"}else e=UOLPlayer.isIframe?"external-iframe":UOLPlayer.urlParameter.app?"app_"+UOLPlayer.urlParameter.app:"uol-template";return e},UOLPlayer.createHashId=function(){return Math.random().toString(36).substring(2,15)+(new Date).getTime()+Math.random().toString(36).substring(2,15)+Math.floor(1e4*Math.random())},UOLPlayer.setPoster=function(e,t){var a,r=e.key?e.key:"";void 0!==e.poster?a=e.poster:(revision=void 0!==e.revision?"?ver="+e.revision:"",revision||(r=r.replace("&","?")),a=UOLPlayer["const"].urls.THUMB+e.mediaId+(UOLPlayer.isIpad||!UOLPlayer.isMobile?"-xlarge":"-wlarge")+".jpg",a=a+revision+r),UOLPlayer.setThumb(t,a)},UOLPlayer.setThumb=function(e,t){e.addClass("hideImg"),UOLPlayer.loadThumb(t,function(t){e.style.backgroundImage="url("+t+")",e.style.backgroundRepeat="no-repeat",e.removeClass("hideImg")})},UOLPlayer.DNA=function(){var e=UOLPlayer.getCookie("DNA")||"";return e.split("|").shift()},UOLPlayer.cloneJSON=function(e){return JSON.parse(JSON.stringify(e))},UOLPlayer.hashCode=function(e){var t=0;if(0==e.length)return t;for(i=0;i<e.length;i++)char=e.charCodeAt(i),t=(t<<5)-t+char,t&=t;return Math.abs(t)},UOLPlayer.storageEnabled=function(){var e=!1,t="enabled",a="UOLPlayer-checker";try{window.localStorage.setItem(a,t),e=t===window.localStorage.getItem(a),window.localStorage.removeItem(a)}catch(r){}return e}(),UOLPlayer.draw=function(e){return Math.random()<e},UOLPlayer.mouseover=UOLPlayer.isMobile?"touchstart":"mouseover",UOLPlayer.mouseout=UOLPlayer.isMobile?"touchend":"mouseout",UOLPlayer.instancesAutoLoaded=0,UOLPlayer.init=function(){console.info("UOLPlayer - ver: "+UOLPlayer.version);var e,t,a=document.getElementsByClassName("uolplayer-link");if(a.length>0){var r=0,i=a.length;for(a[0].parentNode.innerHTML+='<div class="up-lightbox display-none"><div class="up-close"></div><div class="up-container"></div></div>',e=a[0].parentNode.getElementsByClassName("up-container")[0],document.getElementsByClassName("up-close")[0].addEventListener("click",function(){t.destroy(!0),this.parentNode.addClass("display-none"),t=null});r<i;r++)a[r].addEventListener("click",function(a){a.preventDefault();var r=UOLPlayer.domNode("div");r.addClass("uolplayer"),r.setData("mediaid",this.getData("mediaid")),r.setData("autoplay",!0),e.appendChild(r),e.parentNode.removeClass("display-none"),t=new UOLPlayer(r)})}var a=document.getElementsByClassName("uolplayer");if(UOLPlayer.setConfig(),UOLPlayer.setCookie("lplr_vlm",UOLPlayer.getCookie("lplr_vlm")||1),UOLPlayer.setCookie("lplr_pbr",UOLPlayer.getCookie("lplr_pbr")||1),UOLPlayerInjected||UOLPlayer.Cache.require({url:UOLPlayer.cssPath+"uolplayer.min.css",key:"style",type:UOLPlayer.Cache.type.CSS,checksum:UOLPlayer.isLocal?"style_dev":"style"}),UOLPlayer.loadJs({src:UOLPlayer["const"].urls.GA,name:"ga",error:function(){var e={type:"ErroGA",method:"loadJS",event:"load error"};UOLPlayerLog.send({},"metrics",{payload:e}),console.error("[ GA ] Load error")}}),UOLPlayer.instancesAutoLoaded=a.length,a.length>0&&!UOLPlayer.isTesting)for(var s,o,r=0,i=a.length;r<i;r++)o=a[r],s=o.getData("automount")!==!1,s===!0?(o.setData("id","uolplayer"+(r+1)),new UOLPlayer(o)):console.info("[UOLPLAYER] automount desligado para o mediaId: "+o.getData("mediaid"))},UOLPlayer.init();